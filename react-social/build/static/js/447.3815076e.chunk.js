"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[447],{86447:(e,r,a)=>{a.r(r),a.d(r,{default:()=>w});var s=a(1413),l=a(28182),t=a(92506),n=a(72791),i=a(81343),o=a(21799),d=a(78820),c=a(81724),m=a(74569),u=a.n(m);const h="https://api.career-9.com",x="".concat(h,"/role/get"),p=("".concat(h,"/role/getbyid/"),"".concat(h,"/role/update")),v="".concat(h,"/role/delete/");function b(e){return u().put(p,{values:e})}var f=a(80184);const j=c.Ry().shape({name:c.Z_().required("required"),url:c.Z_().required("required").matches(/^[/]/,"Enter Url starting with '/'")}),g=e=>{const[r,a]=(0,n.useState)(!1);e.data.id=null==e.data.id?"":e.data.id,e.data.url=null==e.data.url?"":e.data.url,e.data.name=null==e.data.name?"":e.data.name;var c={id:e.data.id,name:e.data.name,url:e.data.url,display:e.data.display};const m=(0,t.TA)({enableReinitialize:!0,initialValues:c,validationSchema:j,onSubmit:e=>{e.display=!0;try{b(e).then(e=>{window.location.reload()})}catch(r){console.error(r),window.location.replace("/error")}m.resetForm()}});return(0,f.jsxs)(f.Fragment,{children:[r&&(0,f.jsxs)("span",{className:"indicator-progress mx-3 mt-5 mb-0",style:{display:"block"},children:["Please wait..."," ",(0,f.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]}),!r&&(0,f.jsx)(i.Z,{className:"form fv-plugins-bootstrap5 fv-plugins-framework w-100 mt-5",onSubmit:m.handleSubmit,children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col",children:[(0,f.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",autoComplete:"off",placeholder:"Enter Role Name"},m.getFieldProps("name")),{},{className:(0,l.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":m.touched.name&&m.errors.name},{"is-valid":m.touched.name&&!m.errors.name})})),m.touched.name&&m.errors.name&&(0,f.jsx)("div",{className:"fv-plugins-message-container",children:(0,f.jsx)("div",{className:"fv-help-block text-danger",children:"Role name is required"})})]}),(0,f.jsxs)("div",{className:"col",children:[(0,f.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",autoComplete:"off",placeholder:"Enter URL"},m.getFieldProps("url")),{},{className:(0,l.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":m.touched.url&&m.errors.url},{"is-valid":m.touched.url&&!m.errors.url})})),m.touched.url&&m.errors.url&&(0,f.jsx)("div",{className:"fv-plugins-message-container",children:(0,f.jsx)("div",{className:"fv-help-block text-danger",children:"Enter Url starting with '/'"})})]}),(0,f.jsx)("div",{className:"col-2",children:(0,f.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(0,f.jsx)(o.Z,{type:"submit",disabled:m.isSubmitting||!m.isValid,className:"btn btn-icon btn-dark  btn-active-color-primary btn-sm me-1",children:(0,f.jsx)(d.bzc,{})}),(0,f.jsx)(o.Z,{type:"button",disabled:!1,onClick:()=>{var r;a(!0),(r=e.data.id,u().delete(v+r)).then(()=>{window.location.reload()})},className:"btn btn-icon btn-danger  btn-active-color-primary btn-sm",children:(0,f.jsx)(d.YK6,{})})]})})]})},e.data.id)]})},N=c.Ry().shape({name:c.Z_().required("required"),url:c.Z_().required("required").matches(/^[/]/,"Enter Url starting with '/'")}),w=()=>{const[e,r]=(0,n.useState)([]),[a,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{c(!0);try{u().get(x).then(e=>{r(e.data),c(!1)})}catch(e){console.error(e),window.location.replace("/error")}},[]);const m=(0,t.TA)({enableReinitialize:!0,initialValues:{name:"",url:"",display:!0},validationSchema:N,onSubmit:e=>{c(!0),b(e).then(e=>{}).catch(e=>{console.error(e),window.location.replace("/error")}).finally(()=>{window.location.reload()}),m.resetForm()}});return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{id:"kt_content_container",className:"container-xxl",children:(0,f.jsx)("div",{className:"d-flex flex-column",children:(0,f.jsx)("div",{className:"row g-5 g-xl-8",children:(0,f.jsx)("div",{className:"card mb-5 mb-xl-8",children:(0,f.jsx)("div",{className:"card-body",children:(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"card",children:[a&&(0,f.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,f.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]}),!a&&(0,f.jsx)("div",{className:"text-center mb-3",children:(0,f.jsx)("h3",{children:"Roles List :"})}),!a&&e.map((e,r)=>(0,f.jsx)(g,{data:e},r)),!a&&(0,f.jsx)("div",{className:"text-center mt-10 mb-3",children:(0,f.jsx)("h3",{children:"To Create Role :"})}),!a&&(0,f.jsx)(i.Z,{className:"form fv-plugins-bootstrap5 fv-plugins-framework w-100 mt-5 mb-5",onSubmit:m.handleSubmit,children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col",children:[(0,f.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",autoComplete:"off",placeholder:"Enter Role Name"},m.getFieldProps("name")),{},{className:(0,l.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":m.touched.name&&m.errors.name},{"is-valid":m.touched.name&&!m.errors.name})})),m.touched.name&&m.errors.name&&(0,f.jsx)("div",{className:"fv-plugins-message-container",children:(0,f.jsx)("div",{className:"fv-help-block text-danger",children:(0,f.jsx)("span",{role:"alert",children:"Role name is required"})})})]}),(0,f.jsxs)("div",{className:"col",children:[(0,f.jsx)("input",(0,s.Z)((0,s.Z)({type:"text",autoComplete:"off",placeholder:"Enter URL"},m.getFieldProps("url")),{},{className:(0,l.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":m.touched.url&&m.errors.url},{"is-valid":m.touched.url&&!m.errors.url})})),m.touched.url&&m.errors.url&&(0,f.jsx)("div",{className:"fv-plugins-message-container",children:(0,f.jsx)("div",{className:"fv-help-block text-danger",children:(0,f.jsx)("span",{role:"alert",children:"Enter Url starting with '/'"})})})]}),(0,f.jsx)("div",{className:"col-2",children:(0,f.jsx)("div",{className:"d-flex justify-content-end flex-shrink-0",children:(0,f.jsx)(o.Z,{type:"submit",disabled:m.isSubmitting||!m.isValid,className:"btn btn-icon btn-dark  btn-active-color-primary btn-sm me-1",children:(0,f.jsx)(d.bzc,{})})})})]})})]})})})})})})})})}}}]);
//# sourceMappingURL=447.3815076e.chunk.js.map