{"version":3,"file":"static/js/293.792533ca.chunk.js","mappings":"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","sources":["app/pages/AssessmentMapping/API/AssessmentMapping_APIs.ts","app/pages/AssessmentRegister/AssessmentRegisterPage.tsx"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// ============ ADMIN APIs ============\n\nexport function createAssessmentMapping(data: {\n  assessmentId: number;\n  instituteCode: number;\n  mappingLevel: string;\n  sessionId?: number;\n  classId?: number;\n  sectionId?: number;\n}) {\n  return axios.post(`${API_URL}/assessment-mapping/create`, data);\n}\n\nexport function getAssessmentMappingsByInstitute(instituteCode: number) {\n  return axios.get(\n    `${API_URL}/assessment-mapping/getByInstitute/${instituteCode}`\n  );\n}\n\nexport function updateAssessmentMapping(\n  id: number,\n  data: { isActive: boolean }\n) {\n  return axios.put(`${API_URL}/assessment-mapping/update/${id}`, data);\n}\n\nexport function deleteAssessmentMapping(id: number) {\n  return axios.delete(`${API_URL}/assessment-mapping/delete/${id}`);\n}\n\n// Lightweight: only id, assessmentName, isActive (no questionnaire cascade)\nexport function getAssessmentSummaryList() {\n  return axios.get(`${API_URL}/assessments/get/list-summary`);\n}\n\n// ============ PUBLIC APIs ============\n\nexport function getMappingInfoByToken(token: string) {\n  return axios.get(`${API_URL}/assessment-mapping/public/info/${token}`);\n}\n\nexport function registerStudentByToken(\n  token: string,\n  studentData: {\n    name: string;\n    email: string;\n    dob: string;\n    phone: string;\n    gender: string;\n    classId?: number;\n    schoolSectionId?: number;\n  }\n) {\n  return axios.post(\n    `${API_URL}/assessment-mapping/public/register/${token}`,\n    studentData\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport {\n  getMappingInfoByToken,\n  registerStudentByToken,\n} from \"../AssessmentMapping/API/AssessmentMapping_APIs\";\n\nconst AssessmentRegisterPage = () => {\n  const { token } = useParams<{ token: string }>();\n  const navigate = useNavigate();\n\n  const [mappingInfo, setMappingInfo] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [result, setResult] = useState<any>(null);\n\n  // Form fields\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [dob, setDob] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [selectedClassId, setSelectedClassId] = useState(\"\");\n  const [selectedSectionId, setSelectedSectionId] = useState(\"\");\n\n  useEffect(() => {\n    if (token) {\n      getMappingInfoByToken(token)\n        .then((res) => {\n          setMappingInfo(res.data);\n          setLoading(false);\n        })\n        .catch(() => {\n          setError(\"Invalid or expired assessment link.\");\n          setLoading(false);\n        });\n    }\n  }, [token]);\n\n  // Auto-format DOB as dd-mm-yyyy\n  const handleDobChange = (value: string) => {\n    // Remove non-numeric and non-dash characters\n    let cleaned = value.replace(/[^0-9-]/g, \"\");\n    // Auto-insert dashes\n    const digits = cleaned.replace(/-/g, \"\");\n    if (digits.length <= 2) {\n      cleaned = digits;\n    } else if (digits.length <= 4) {\n      cleaned = digits.slice(0, 2) + \"-\" + digits.slice(2);\n    } else {\n      cleaned =\n        digits.slice(0, 2) + \"-\" + digits.slice(2, 4) + \"-\" + digits.slice(4, 8);\n    }\n    setDob(cleaned);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!name.trim() || !email.trim() || !dob.trim()) {\n      alert(\"Please fill in all required fields (Name, Email, Date of Birth).\");\n      return;\n    }\n\n    // Validate DOB format\n    const dobRegex = /^\\d{2}-\\d{2}-\\d{4}$/;\n    if (!dobRegex.test(dob)) {\n      alert(\"Date of Birth must be in dd-mm-yyyy format.\");\n      return;\n    }\n\n    // Validate email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      alert(\"Please enter a valid email address.\");\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const data: any = {\n        name: name.trim(),\n        email: email.trim(),\n        dob: dob,\n        phone: phone.trim(),\n        gender: gender,\n      };\n\n      if (selectedClassId) {\n        data.classId = Number(selectedClassId);\n      }\n      if (selectedSectionId) {\n        data.schoolSectionId = Number(selectedSectionId);\n      }\n\n      const res = await registerStudentByToken(token!, data);\n      setResult(res.data);\n    } catch (err: any) {\n      const msg =\n        err.response?.data?.message ||\n        err.response?.data ||\n        \"Registration failed. Please try again.\";\n      alert(typeof msg === \"string\" ? msg : \"Registration failed.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Available classes/sections from mapping info (for SESSION/CLASS level)\n  const availableClasses: any[] = mappingInfo?.availableClasses || [];\n  const availableSections: any[] = mappingInfo?.availableSections || [];\n\n  // For SESSION level, when user picks a class, show its sections\n  const selectedClassSections: any[] = selectedClassId\n    ? (\n        availableClasses.find(\n          (c: any) => String(c.id) === selectedClassId\n        )?.schoolSections || []\n      )\n    : [];\n\n  if (loading) {\n    return (\n      <div style={styles.container}>\n        <div style={styles.card}>\n          <div className=\"text-center py-5\">\n            <div className=\"spinner-border text-primary\" role=\"status\" />\n            <p className=\"mt-3 text-muted\">Loading assessment information...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={styles.container}>\n        <div style={styles.card}>\n          <div className=\"text-center py-5\">\n            <div style={{ fontSize: \"4rem\", color: \"#dc3545\" }}>!</div>\n            <h4 className=\"text-danger\">{error}</h4>\n            <p className=\"text-muted mt-3\">\n              This link may have expired or been deactivated. Please contact your\n              school administrator for a valid link.\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Success/Already registered view\n  if (result) {\n    const isAlreadyRegistered = result.status === \"already_registered\";\n    return (\n      <div style={styles.container}>\n        <div style={styles.card}>\n          <div className=\"text-center py-4\">\n            <div\n              style={{\n                fontSize: \"3rem\",\n                color: isAlreadyRegistered ? \"#ffc107\" : \"#28a745\",\n              }}\n            >\n              {isAlreadyRegistered ? \"!\" : \"\\u2713\"}\n            </div>\n            <h4 className={isAlreadyRegistered ? \"text-warning\" : \"text-success\"}>\n              {result.message}\n            </h4>\n\n            {result.username && (\n              <div\n                className=\"mt-4 p-3 bg-light rounded\"\n                style={{ display: \"inline-block\", textAlign: \"left\" }}\n              >\n                <h6 className=\"mb-3\">Your Login Credentials:</h6>\n                <p className=\"mb-1\">\n                  <strong>Username:</strong>{\" \"}\n                  <span className=\"badge bg-primary fs-6\">{result.username}</span>\n                </p>\n                <p className=\"mb-0\">\n                  <strong>Date of Birth:</strong>{\" \"}\n                  <span className=\"badge bg-primary fs-6\">{result.dob}</span>\n                </p>\n              </div>\n            )}\n\n            <p className=\"text-muted mt-4\" style={{ fontSize: \"0.9em\" }}>\n              Please save these credentials. You will need them to log in and take the assessment.\n            </p>\n\n            <button\n              className=\"btn btn-primary mt-3\"\n              onClick={() => navigate(\"/student-login\")}\n            >\n              Go to Student Login\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Registration form\n  return (\n    <div style={styles.container}>\n      <div style={styles.card}>\n        {/* Header */}\n        <div\n          style={{\n            background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n            padding: \"24px\",\n            borderRadius: \"12px 12px 0 0\",\n            color: \"white\",\n          }}\n        >\n          <h4 className=\"mb-1\">\n            {mappingInfo?.assessmentName || \"Assessment Registration\"}\n          </h4>\n          <p className=\"mb-0\" style={{ opacity: 0.9, fontSize: \"0.9em\" }}>\n            {mappingInfo?.instituteName || \"\"}\n            {mappingInfo?.className && ` - Class ${mappingInfo.className}`}\n            {mappingInfo?.sectionName && ` (${mappingInfo.sectionName})`}\n            {mappingInfo?.sessionYear && ` | ${mappingInfo.sessionYear}`}\n          </p>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} style={{ padding: \"24px\" }}>\n          <div className=\"row g-3\">\n            {/* Name */}\n            <div className=\"col-12\">\n              <label className=\"form-label fw-bold\">\n                Full Name <span className=\"text-danger\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter your full name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                required\n              />\n            </div>\n\n            {/* Email */}\n            <div className=\"col-md-6\">\n              <label className=\"form-label fw-bold\">\n                Email <span className=\"text-danger\">*</span>\n              </label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                placeholder=\"Enter your email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n\n            {/* DOB */}\n            <div className=\"col-md-6\">\n              <label className=\"form-label fw-bold\">\n                Date of Birth <span className=\"text-danger\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"dd-mm-yyyy\"\n                value={dob}\n                onChange={(e) => handleDobChange(e.target.value)}\n                maxLength={10}\n                required\n              />\n            </div>\n\n            {/* Phone */}\n            <div className=\"col-md-6\">\n              <label className=\"form-label fw-bold\">Phone Number</label>\n              <input\n                type=\"tel\"\n                className=\"form-control\"\n                placeholder=\"Enter phone number\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n              />\n            </div>\n\n            {/* Gender */}\n            <div className=\"col-md-6\">\n              <label className=\"form-label fw-bold\">Gender</label>\n              <select\n                className=\"form-select\"\n                value={gender}\n                onChange={(e) => setGender(e.target.value)}\n              >\n                <option value=\"\">Select Gender</option>\n                <option value=\"Male\">Male</option>\n                <option value=\"Female\">Female</option>\n                <option value=\"Other\">Other</option>\n              </select>\n            </div>\n\n            {/* Class dropdown for SESSION level */}\n            {mappingInfo?.mappingLevel === \"SESSION\" &&\n              availableClasses.length > 0 && (\n                <div className=\"col-md-6\">\n                  <label className=\"form-label fw-bold\">\n                    Class <span className=\"text-danger\">*</span>\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    value={selectedClassId}\n                    onChange={(e) => {\n                      setSelectedClassId(e.target.value);\n                      setSelectedSectionId(\"\");\n                    }}\n                    required\n                  >\n                    <option value=\"\">Select Class</option>\n                    {availableClasses.map((c: any) => (\n                      <option key={c.id} value={c.id}>\n                        {c.className}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n\n            {/* Section dropdown for SESSION level (after class selection) */}\n            {mappingInfo?.mappingLevel === \"SESSION\" &&\n              selectedClassSections.length > 0 && (\n                <div className=\"col-md-6\">\n                  <label className=\"form-label fw-bold\">Section</label>\n                  <select\n                    className=\"form-select\"\n                    value={selectedSectionId}\n                    onChange={(e) => setSelectedSectionId(e.target.value)}\n                  >\n                    <option value=\"\">Select Section (Optional)</option>\n                    {selectedClassSections.map((s: any) => (\n                      <option key={s.id} value={s.id}>\n                        {s.sectionName}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n\n            {/* Section dropdown for CLASS level */}\n            {mappingInfo?.mappingLevel === \"CLASS\" &&\n              availableSections.length > 0 && (\n                <div className=\"col-md-6\">\n                  <label className=\"form-label fw-bold\">Section</label>\n                  <select\n                    className=\"form-select\"\n                    value={selectedSectionId}\n                    onChange={(e) => setSelectedSectionId(e.target.value)}\n                  >\n                    <option value=\"\">Select Section (Optional)</option>\n                    {availableSections.map((s: any) => (\n                      <option key={s.id} value={s.id}>\n                        {s.sectionName}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n\n            {/* Pre-filled info for SECTION level */}\n            {mappingInfo?.mappingLevel === \"SECTION\" && (\n              <div className=\"col-12\">\n                <div className=\"alert alert-info mb-0\" style={{ fontSize: \"0.9em\" }}>\n                  Class: <strong>{mappingInfo.className}</strong> | Section:{\" \"}\n                  <strong>{mappingInfo.sectionName}</strong>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Submit */}\n          <div className=\"mt-4\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              disabled={submitting}\n              style={{ padding: \"10px\" }}\n            >\n              {submitting ? (\n                <>\n                  <span className=\"spinner-border spinner-border-sm me-2\" />\n                  Registering...\n                </>\n              ) : (\n                \"Register\"\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst styles: { [key: string]: React.CSSProperties } = {\n  container: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    background: \"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)\",\n    padding: \"20px\",\n  },\n  card: {\n    width: \"100%\",\n    maxWidth: \"600px\",\n    background: \"white\",\n    borderRadius: \"12px\",\n    boxShadow: \"0 10px 40px rgba(0,0,0,0.1)\",\n    overflow: \"hidden\",\n  },\n};\n\nexport default AssessmentRegisterPage;\n"],"names":["API_URL","process","createAssessmentMapping","data","axios","concat","getAssessmentMappingsByInstitute","instituteCode","updateAssessmentMapping","id","deleteAssessmentMapping","getAssessmentSummaryList","getMappingInfoByToken","token","registerStudentByToken","studentData","styles","container","minHeight","display","alignItems","justifyContent","background","padding","card","width","maxWidth","borderRadius","boxShadow","overflow","AssessmentRegisterPage","_availableClasses$fin","useParams","navigate","useNavigate","mappingInfo","setMappingInfo","useState","loading","setLoading","error","setError","submitting","setSubmitting","result","setResult","name","setName","email","setEmail","dob","setDob","phone","setPhone","gender","setGender","selectedClassId","setSelectedClassId","selectedSectionId","setSelectedSectionId","useEffect","then","res","catch","availableClasses","availableSections","selectedClassSections","find","c","String","schoolSections","_jsx","style","children","_jsxs","className","role","fontSize","color","isAlreadyRegistered","status","message","username","textAlign","onClick","assessmentName","opacity","instituteName","sectionName","sessionYear","onSubmit","async","e","preventDefault","trim","alert","test","classId","Number","schoolSectionId","err","_err$response","_err$response$data","_err$response2","msg","response","type","placeholder","value","onChange","target","required","cleaned","replace","digits","length","slice","handleDobChange","maxLength","mappingLevel","map","s","disabled","_Fragment"],"sourceRoot":""}