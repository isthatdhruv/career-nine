"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[293],{15110:(e,s,a)=>{a.d(s,{Kk:()=>r,Pm:()=>i,XM:()=>c,bR:()=>o,eF:()=>m,zV:()=>u,zW:()=>d});var l=a(74569),t=a.n(l);const n="https://api.career-9.com";function i(e){return t().post("".concat(n,"/assessment-mapping/create"),e)}function r(e){return t().get("".concat(n,"/assessment-mapping/getByInstitute/").concat(e))}function c(e,s){return t().put("".concat(n,"/assessment-mapping/update/").concat(e),s)}function d(e){return t().delete("".concat(n,"/assessment-mapping/delete/").concat(e))}function o(){return t().get("".concat(n,"/assessments/get/list-summary"))}function m(e){return t().get("".concat(n,"/assessment-mapping/public/info/").concat(e))}function u(e,s){return t().post("".concat(n,"/assessment-mapping/public/register/").concat(e),s)}},66293:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var l=a(72791),t=a(16871),n=a(15110),i=a(80184);const r={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:"20px"},card:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",overflow:"hidden"}},c=()=>{var e;const{token:s}=(0,t.UO)(),a=(0,t.s0)(),[c,d]=(0,l.useState)(null),[o,m]=(0,l.useState)(!0),[u,h]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),[v,g]=(0,l.useState)(null),[j,f]=(0,l.useState)(""),[b,N]=(0,l.useState)(""),[y,S]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[k,E]=(0,l.useState)(""),[L,z]=(0,l.useState)(""),[I,O]=(0,l.useState)("");(0,l.useEffect)(()=>{s&&(0,n.eF)(s).then(e=>{d(e.data),m(!1)}).catch(()=>{h("Invalid or expired assessment link."),m(!1)})},[s]);const R=(null===c||void 0===c?void 0:c.availableClasses)||[],P=(null===c||void 0===c?void 0:c.availableSections)||[],F=L&&(null===(e=R.find(e=>String(e.id)===L))||void 0===e?void 0:e.schoolSections)||[];if(o)return(0,i.jsx)("div",{style:r.container,children:(0,i.jsx)("div",{style:r.card,children:(0,i.jsxs)("div",{className:"text-center py-5",children:[(0,i.jsx)("div",{className:"spinner-border text-primary",role:"status"}),(0,i.jsx)("p",{className:"mt-3 text-muted",children:"Loading assessment information..."})]})})});if(u)return(0,i.jsx)("div",{style:r.container,children:(0,i.jsx)("div",{style:r.card,children:(0,i.jsxs)("div",{className:"text-center py-5",children:[(0,i.jsx)("div",{style:{fontSize:"4rem",color:"#dc3545"},children:"!"}),(0,i.jsx)("h4",{className:"text-danger",children:u}),(0,i.jsx)("p",{className:"text-muted mt-3",children:"This link may have expired or been deactivated. Please contact your school administrator for a valid link."})]})})});if(v){const e="already_registered"===v.status;return(0,i.jsx)("div",{style:r.container,children:(0,i.jsx)("div",{style:r.card,children:(0,i.jsxs)("div",{className:"text-center py-4",children:[(0,i.jsx)("div",{style:{fontSize:"3rem",color:e?"#ffc107":"#28a745"},children:e?"!":"\u2713"}),(0,i.jsx)("h4",{className:e?"text-warning":"text-success",children:v.message}),v.username&&(0,i.jsxs)("div",{className:"mt-4 p-3 bg-light rounded",style:{display:"inline-block",textAlign:"left"},children:[(0,i.jsx)("h6",{className:"mb-3",children:"Your Login Credentials:"}),(0,i.jsxs)("p",{className:"mb-1",children:[(0,i.jsx)("strong",{children:"Username:"})," ",(0,i.jsx)("span",{className:"badge bg-primary fs-6",children:v.username})]}),(0,i.jsxs)("p",{className:"mb-0",children:[(0,i.jsx)("strong",{children:"Date of Birth:"})," ",(0,i.jsx)("span",{className:"badge bg-primary fs-6",children:v.dob})]})]}),(0,i.jsx)("p",{className:"text-muted mt-4",style:{fontSize:"0.9em"},children:"Please save these credentials. You will need them to log in and take the assessment."}),(0,i.jsx)("button",{className:"btn btn-primary mt-3",onClick:()=>a("/student-login"),children:"Go to Student Login"})]})})})}return(0,i.jsx)("div",{style:r.container,children:(0,i.jsxs)("div",{style:r.card,children:[(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"24px",borderRadius:"12px 12px 0 0",color:"white"},children:[(0,i.jsx)("h4",{className:"mb-1",children:(null===c||void 0===c?void 0:c.assessmentName)||"Assessment Registration"}),(0,i.jsxs)("p",{className:"mb-0",style:{opacity:.9,fontSize:"0.9em"},children:[(null===c||void 0===c?void 0:c.instituteName)||"",(null===c||void 0===c?void 0:c.className)&&" - Class ".concat(c.className),(null===c||void 0===c?void 0:c.sectionName)&&" (".concat(c.sectionName,")"),(null===c||void 0===c?void 0:c.sessionYear)&&" | ".concat(c.sessionYear)]})]}),(0,i.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!j.trim()||!b.trim()||!y.trim())return void alert("Please fill in all required fields (Name, Email, Date of Birth).");if(!/^\d{2}-\d{2}-\d{4}$/.test(y))return void alert("Date of Birth must be in dd-mm-yyyy format.");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){p(!0);try{const e={name:j.trim(),email:b.trim(),dob:y,phone:w.trim(),gender:k};L&&(e.classId=Number(L)),I&&(e.schoolSectionId=Number(I));const a=await(0,n.zV)(s,e);g(a.data)}catch(i){var a,l,t;const e=(null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||(null===(t=i.response)||void 0===t?void 0:t.data)||"Registration failed. Please try again.";alert("string"===typeof e?e:"Registration failed.")}finally{p(!1)}}else alert("Please enter a valid email address.")},style:{padding:"24px"},children:[(0,i.jsxs)("div",{className:"row g-3",children:[(0,i.jsxs)("div",{className:"col-12",children:[(0,i.jsxs)("label",{className:"form-label fw-bold",children:["Full Name ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter your full name",value:j,onChange:e=>f(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsxs)("label",{className:"form-label fw-bold",children:["Email ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",value:b,onChange:e=>N(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsxs)("label",{className:"form-label fw-bold",children:["Date of Birth ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsx)("input",{type:"text",className:"form-control",placeholder:"dd-mm-yyyy",value:y,onChange:e=>(e=>{let s=e.replace(/[^0-9-]/g,"");const a=s.replace(/-/g,"");s=a.length<=2?a:a.length<=4?a.slice(0,2)+"-"+a.slice(2):a.slice(0,2)+"-"+a.slice(2,4)+"-"+a.slice(4,8),S(s)})(e.target.value),maxLength:10,required:!0})]}),(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsx)("label",{className:"form-label fw-bold",children:"Phone Number"}),(0,i.jsx)("input",{type:"tel",className:"form-control",placeholder:"Enter phone number",value:w,onChange:e=>C(e.target.value)})]}),(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsx)("label",{className:"form-label fw-bold",children:"Gender"}),(0,i.jsxs)("select",{className:"form-select",value:k,onChange:e=>E(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"Select Gender"}),(0,i.jsx)("option",{value:"Male",children:"Male"}),(0,i.jsx)("option",{value:"Female",children:"Female"}),(0,i.jsx)("option",{value:"Other",children:"Other"})]})]}),"SESSION"===(null===c||void 0===c?void 0:c.mappingLevel)&&R.length>0&&(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsxs)("label",{className:"form-label fw-bold",children:["Class ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsxs)("select",{className:"form-select",value:L,onChange:e=>{z(e.target.value),O("")},required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select Class"}),R.map(e=>(0,i.jsx)("option",{value:e.id,children:e.className},e.id))]})]}),"SESSION"===(null===c||void 0===c?void 0:c.mappingLevel)&&F.length>0&&(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsx)("label",{className:"form-label fw-bold",children:"Section"}),(0,i.jsxs)("select",{className:"form-select",value:I,onChange:e=>O(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"Select Section (Optional)"}),F.map(e=>(0,i.jsx)("option",{value:e.id,children:e.sectionName},e.id))]})]}),"CLASS"===(null===c||void 0===c?void 0:c.mappingLevel)&&P.length>0&&(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsx)("label",{className:"form-label fw-bold",children:"Section"}),(0,i.jsxs)("select",{className:"form-select",value:I,onChange:e=>O(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"Select Section (Optional)"}),P.map(e=>(0,i.jsx)("option",{value:e.id,children:e.sectionName},e.id))]})]}),"SECTION"===(null===c||void 0===c?void 0:c.mappingLevel)&&(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"alert alert-info mb-0",style:{fontSize:"0.9em"},children:["Class: ",(0,i.jsx)("strong",{children:c.className})," | Section:"," ",(0,i.jsx)("strong",{children:c.sectionName})]})})]}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:x,style:{padding:"10px"},children:x?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Registering..."]}):"Register"})})]})]})})}}}]);
//# sourceMappingURL=293.792533ca.chunk.js.map