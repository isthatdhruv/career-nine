"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[782],{64782:(e,a,s)=>{s.r(a),s.d(a,{default:()=>Z});var t=s(72791),r=s(43360),l=s(89983),i=s(16856),n=s(43677),d=s(1413),o=s(28182),c=s(92506),m=s(28403),h=s(70099),b=s(7755),u=s(81724),x=s(80184);const p=u.Ry().shape({name:u.Z_().required()}),j=e=>{const[a,s]=(0,t.useState)(!1);const r=(0,c.TA)({enableReinitialize:!0,initialValues:{name:"",id:"",display:1},validationSchema:p,onSubmit:a=>{try{(0,n.kc)(a).then(()=>{e.onHide(!1),e.setPageLoading(["true"])})}catch(t){console.error(t),window.location.replace("/error")}s(!0)}});return(0,x.jsxs)(m.Z,(0,d.Z)((0,d.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsxs)(m.Z.Header,{children:[(0,x.jsx)(m.Z.Title,{children:(0,x.jsx)("h1",{children:"Add Board"})}),(0,x.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:e.onHide,children:(0,x.jsx)(h.Z,{animation:b.Z,size:28,strokeColor:"#181C32",reverse:!0})})]}),(0,x.jsxs)("form",{className:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",onSubmit:r.handleSubmit,children:[(0,x.jsx)(m.Z.Body,{children:(0,x.jsx)("div",{className:"modal-body",children:(0,x.jsx)("div",{className:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px",children:(0,x.jsxs)("div",{className:"fv-row mb-7",children:[(0,x.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Board Name :"}),(0,x.jsx)("input",(0,d.Z)((0,d.Z)({placeholder:"Enter Board Name",type:"text",autoComplete:"off"},r.getFieldProps("name")),{},{className:(0,o.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":r.touched.name&&r.errors.name},{"is-valid":r.touched.name&&!r.errors.name})})),r.touched.name&&r.errors.name&&(0,x.jsx)("div",{className:"fv-plugins-message-container",children:(0,x.jsx)("div",{className:"fv-help-block text-danger",children:(0,x.jsx)("span",{role:"alert",children:"Board Name is Required"})})})]})})})}),(0,x.jsxs)(m.Z.Footer,{children:[(0,x.jsx)("button",{className:"btn btn-sm btn-light btn-active-light-secoundary",onClick:e.onHide,children:"Close"}),(0,x.jsxs)("button",{type:"submit",className:"btn btn-sm btn-primary btn-active-light-secoundary",disabled:r.isSubmitting||!r.isValid,children:[!a&&(0,x.jsx)("span",{className:"indicator-label",children:"Submit"}),a&&(0,x.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,x.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]}))};var g=s(17137),v=s(78820),f=s(10120);const N=u.Ry().shape({name:u.Z_().required(),id:u.Z_().required()}),k=e=>{const[a,s]=(0,t.useState)(!1);var r={id:e.data.id,name:e.data.name,display:1};const l=(0,c.TA)({enableReinitialize:!0,initialValues:r,validationSchema:N,onSubmit:a=>{try{(0,n.kc)(a).then(()=>{e.onHide(!1),e.setPageLoading(["true"])})}catch(t){console.error(t),window.location.replace("/error")}s(!0)}});return(0,x.jsxs)(m.Z,(0,d.Z)((0,d.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,x.jsxs)(m.Z.Header,{children:[(0,x.jsx)(m.Z.Title,{children:(0,x.jsx)("h1",{children:"Edit Board"})}),(0,x.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:e.onHide,children:(0,x.jsx)(h.Z,{animation:b.Z,size:28,strokeColor:"#181C32",reverse:!0})})]}),(0,x.jsxs)("form",{className:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",onSubmit:l.handleSubmit,children:[(0,x.jsx)(m.Z.Body,{children:(0,x.jsx)("div",{className:"modal-body",children:(0,x.jsx)("div",{className:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px",children:(0,x.jsxs)("div",{className:"fv-row mb-7",children:[(0,x.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Board Name :"}),(0,x.jsx)("input",(0,d.Z)((0,d.Z)({placeholder:"Enter Board Name",type:"text",autoComplete:"off"},l.getFieldProps("name")),{},{className:(0,o.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":l.touched.name&&l.errors.name},{"is-valid":l.touched.name&&!l.errors.name})})),l.touched.name&&l.errors.name&&(0,x.jsx)("div",{className:"fv-plugins-message-container",children:(0,x.jsx)("div",{className:"fv-help-block text-danger",children:(0,x.jsx)("span",{role:"alert",children:"Board Name is Required"})})})]})})})}),(0,x.jsxs)(m.Z.Footer,{children:[(0,x.jsx)("button",{className:"btn btn-sm btn-light btn-active-light-secoundary",onClick:e.onHide,children:"Close"}),(0,x.jsxs)("button",{type:"submit",id:"kt_sign_up_submit",className:"btn btn-sm btn-primary btn-active-light-secoundary",disabled:l.isSubmitting||!l.isValid,children:[!a&&(0,x.jsx)("span",{className:"indicator-label",children:"Submit"}),a&&(0,x.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,x.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]}))},y=e=>{const[a,s]=(0,t.useState)(!1),[r,l]=(0,t.useState)({name:"",id:""}),i={columns:[{label:"Board Name",field:"name",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Name"}},{label:"Actions",field:"actions",sort:"disabled",width:100}],rows:e.data.map(a=>!0===a.display?{name:a.name,actions:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{onClick:()=>{l(a),s(!0)},className:"btn btn-icon btn-primary btn-sm me-3",children:(0,x.jsx)(v.QML,{size:16})}),(0,x.jsx)("button",{onClick:()=>{e.setLoading(!0),(0,n.yr)(a.id).then(()=>{e.setPageLoading(["true"])})},className:"btn btn-icon btn-danger btn-sm me-3",children:(0,x.jsx)(h.Z,{animation:f.Z,size:22,strokeColor:"#EFF8FE"})})]})}:{})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.Vm4,{hover:!0,scrollY:!0,maxHeight:"160vh",entriesOptions:[5,20,25],entries:25,pagesAmount:4,data:i}),(0,x.jsx)(k,{show:a,onHide:()=>s(!1),data:r,setPageLoading:e.setPageLoading})]})},Z=()=>{const[e,a]=(0,t.useState)(!1),[s,d]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),[m,h]=(0,t.useState)(["false"]);return(0,t.useEffect)(()=>{c(!0);try{(0,n.AF)().then(e=>{d(e.data),c(!1)})}catch(e){console.error(e),window.location.replace("/error")}},[m]),(0,x.jsxs)("div",{className:"card",children:[o&&(0,x.jsxs)("span",{className:"indicator-progress m-5",style:{display:"block"},children:["Please wait..."," ",(0,x.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]}),!o&&(0,x.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,x.jsx)("div",{className:"card-title",children:(0,x.jsx)("h1",{children:"Board List"})}),(0,x.jsx)("div",{className:"card-toolbar",children:(0,x.jsx)("div",{className:"d-flex justify-content-end",children:(0,x.jsx)(r.Z,{variant:"primary",onClick:()=>{a(!0)},children:(0,x.jsx)(l.Pd.Provider,{value:{style:{paddingBottom:"4px"}},children:(0,x.jsxs)("div",{children:["Add Board ",(0,x.jsx)(i.eAf,{size:21})]})})})})})]}),!o&&(0,x.jsx)("div",{className:"card-body pt-5",children:(0,x.jsx)(y,{data:s,setLoading:c,setPageLoading:h})}),(0,x.jsx)(j,{setPageLoading:h,show:e,onHide:()=>a(!1)})]})}}}]);
//# sourceMappingURL=782.656ee95e.chunk.js.map