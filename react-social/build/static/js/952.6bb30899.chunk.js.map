{"version":3,"file":"static/js/952.6bb30899.chunk.js","mappings":"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","sources":["app/pages/AssesmentQuestions/components/QuestionCreatePage.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport { ReadQuestionSectionData } from \"../../QuestionSections/API/Question_Section_APIs\";\nimport { CreateQuestionData, ReadMeasuredQualityTypes } from \"../API/Question_APIs\";\nimport { MQT } from \"./MeasuredQualityTypesAsOptionComponent\"; // Adjust the import based on your file structure\nimport { ListGamesData } from \"../../Games/components/API/GAME_APIs\";\n\nconst validationSchema = Yup.object().shape({\n  questionText: Yup.string().required(\"Question text is required\"),\n  questionType: Yup.string().required(\"Question type is required\"),\n  sectionId: Yup.string().required(\"Section is required\"),\n  maxOptionsAllowed: Yup.number()\n});\n\nconst QuestionCreatePage = ({ setPageLoading }: { setPageLoading?: any }) => {\n\n  const [loading, setLoading] = useState(false);\n  const [sections, setSections] = useState<any[]>([]);\n  const [mqt, setMqt] = useState<any[]>([]); // Measured Quality Types\n  const [optionMeasuredQualities, setOptionMeasuredQualities] = useState<any>({});\n  const [useMQTAsOptions, setUseMQTAsOptions] = React.useState(false);\n  const navigate = useNavigate();\n\n  // NEW: State for tracking option type (text vs image) per option index\n  const [optionTypes, setOptionTypes] = useState<{ [key: number]: 'text' | 'image' }>({});\n  // NEW: State for storing Base64 image data per option index\n  const [optionImages, setOptionImages] = useState<{ [key: number]: string }>({});\n\n  // NEW: Game as option states\n  const [useGameAsOption, setUseGameAsOption] = useState(false);\n  const [games, setGames] = useState<any[]>([]);\n  const [selectedGameId, setSelectedGameId] = useState<string>(\"\");\n\n  const [isMQT, setIsMQT] = useState(false);\n\n  const initialValues = {\n    questionText: \"\",\n    questionType: \"\",\n    maxOptionsAllowed: \"\",\n    questionOptions: [\"\"],\n    sectionId: \"\"\n  };\n\n\n  // Helper: toggle measured quality type for an option\n  const handleQualityToggle = (optionIdx: number, typeId: number) => {\n    setOptionMeasuredQualities((prev: any) => {\n      const prevForOption = prev[optionIdx] || {};\n      const current = prevForOption[typeId];\n      if (current && current.checked) {\n        // Uncheck\n        const { [typeId]: _, ...rest } = prevForOption;\n        return { ...prev, [optionIdx]: rest };\n      } else {\n        // Check with default score 0\n        return {\n          ...prev,\n          [optionIdx]: {\n            ...prevForOption,\n            [typeId]: { checked: true, score: 0 },\n          },\n        };\n      }\n    });\n  };\n\n  // Helper: change score for a measured quality type for an option\n  const handleQualityScoreChange = (optionIdx: number, typeId: number, score: number) => {\n    setOptionMeasuredQualities((prev: any) => ({\n      ...prev,\n      [optionIdx]: {\n        ...prev[optionIdx],\n        [typeId]: { checked: true, score },\n      },\n    }));\n  };\n\n  // Add option\n  const addOption = () => {\n    setFormikValues((prev: any) => {\n      const newOptions = [...prev.questionOptions, \"\"];\n      return { ...prev, questionOptions: newOptions };\n    });\n  };\n\n  // Remove option\n  const removeOption = (index: number) => {\n    setFormikValues((prev: any) => {\n      const newOptions = prev.questionOptions.filter((_: any, i: number) => i !== index);\n      \n      // Shift keys for optionMeasuredQualities\n      setOptionMeasuredQualities((prevMQ: any) => {\n        const newMQ: any = {};\n        Object.keys(prevMQ).forEach(key => {\n          const k = Number(key);\n          if (k < index) newMQ[k] = prevMQ[k];\n          else if (k > index) newMQ[k - 1] = prevMQ[k];\n        });\n        return newMQ;\n      });\n\n      // Shift keys for optionTypes\n      setOptionTypes((prevTypes: any) => {\n        const newTypes: any = {};\n        Object.keys(prevTypes).forEach(key => {\n          const k = Number(key);\n          if (k < index) newTypes[k] = prevTypes[k];\n          else if (k > index) newTypes[k - 1] = prevTypes[k];\n        });\n        return newTypes;\n      });\n\n      // Shift keys for optionImages\n      setOptionImages((prevImages: any) => {\n        const newImages: any = {};\n        Object.keys(prevImages).forEach(key => {\n          const k = Number(key);\n          if (k < index) newImages[k] = prevImages[k];\n          else if (k > index) newImages[k - 1] = prevImages[k];\n        });\n        return newImages;\n      });\n\n      return { ...prev, questionOptions: newOptions };\n    });\n  };\n\n  // NEW: Toggle option type between text and image\n  const toggleOptionType = (index: number) => {\n    setOptionTypes(prev => ({\n      ...prev,\n      [index]: prev[index] === 'image' ? 'text' : 'image'\n    }));\n  };\n\n  // NEW: Handle image file selection and convert to Base64\n  const handleImageSelect = (index: number, file: File | null) => {\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setOptionImages(prev => ({ ...prev, [index]: reader.result as string }));\n      };\n      reader.readAsDataURL(file);\n    } else {\n      setOptionImages(prev => { const n = {...prev}; delete n[index]; return n; });\n    }\n  };\n\n  // Update option text\n  const updateOption = (index: number, value: string) => {\n    setFormikValues((prev: any) => {\n      const newOptions = [...prev.questionOptions];\n      // Handle both string and object types\n      if (typeof newOptions[index] === 'string') {\n        newOptions[index] = value;\n      } else {\n        // If it's an object (MQT or has description), update the optionText property\n        newOptions[index] = { ...newOptions[index], optionText: value };\n      }\n      return { ...prev, questionOptions: newOptions };\n    });\n  };\n\n  // NEW: Update option description\n  const updateOptionDescription = (index: number, value: string) => {\n    setFormikValues((prev: any) => {\n      const newOptions = [...prev.questionOptions];\n      const current = newOptions[index];\n      if (typeof current === 'string') {\n         // Convert string to object\n         newOptions[index] = { optionText: current, optionDescription: value };\n      } else {\n         newOptions[index] = { ...current, optionDescription: value };\n      }\n      return { ...prev, questionOptions: newOptions };\n    });\n  };\n\n  // Formik state management for manual option array\n  const [formikValues, setFormikValues] = useState(initialValues);\n\n\n\n  // Fetch sections and measured quality types on mount (but do not fetch scores)\n  useEffect(() => {\n    const fetchSections = async () => {\n      try {\n        const response = await ReadQuestionSectionData();\n        setSections(response.data);\n      } catch (error) {\n        setSections([]);\n      }\n    };\n    fetchSections();\n  }, []);\n\n  useEffect(() => {\n    const fetchMQT = async () => {\n      try {\n        const response = await ReadMeasuredQualityTypes();\n        setMqt(response.data);\n      } catch (error) {\n        setMqt([]);\n      }\n    };\n    fetchMQT();\n  }, []);\n\n  // NEW: Fetch games on mount\n  useEffect(() => {\n    const fetchGames = async () => {\n      try {\n        const response = await ListGamesData();\n        setGames(response.data);\n      } catch (error) {\n        setGames([]);\n      }\n    };\n    fetchGames();\n  }, []);\n\n  // Reset form when useGameAsOption changes\n  useEffect(() => {\n    if (useGameAsOption) {\n      // When switching to game mode, reset options and other states\n      setFormikValues(v => ({ ...v, questionOptions: [] }));\n      setOptionMeasuredQualities({});\n      setUseMQTAsOptions(false);\n    } else {\n      setSelectedGameId(\"\");\n    }\n  }, [useGameAsOption]);\n\n  useEffect(() => {\n    if (!useMQTAsOptions && !useGameAsOption) {\n      setFormikValues(v => ({\n        ...v,\n        questionOptions: [\"\"], // or your preferred default\n      }));\n      setOptionMeasuredQualities({});\n    }\n  }, [useMQTAsOptions]);\n\n  return (\n    <div className=\"container py-5\">\n      <div className=\"card shadow-sm py-5\">\n        <div className=\"card-header\">\n          <h1 className=\"mb-0\">Add Assessment Question</h1>\n        </div>\n\n        <form\n          className=\"form w-100 fv-plugins-bootstrap5 fv-plugins-framework\"\n          onSubmit={async (e) => {\n            e.preventDefault();\n            setLoading(true);\n            try {\n              console.log(\"Submitting form. optionMeasuredQualities state:\", optionMeasuredQualities);\n              // Build options array with optionScores\n              let options: any[] = [];\n              \n              if (useGameAsOption && selectedGameId) {\n                // Game as option mode - single option with game reference\n                options = [{\n                  optionText: null,\n                  optionImageBase64: null,\n                  optionScores: [],\n                  correct: false,\n                  isGame: true,\n                  game: { gameId: Number(selectedGameId) }\n                }];\n              } else {\n                // Regular options mode\n                options = formikValues.questionOptions.map((option: any, index: number) => {\n                  // Check if this option is in image mode\n                  const isImageMode = optionTypes[index] === 'image';\n                  \n                  // Handle both string options (manual) and object options (MQT)\n                  const optionText = isImageMode ? null : (typeof option === 'string' ? option : option.optionText);\n                  const optionImageBase64 = isImageMode ? (optionImages[index] || null) : null;\n                  const isCorrect = typeof option === 'string' ? false : (option.correct || false);\n                  const optionDescription = typeof option === 'string' ? null : (option.optionDescription || null);\n                  \n                  // Build optionScores for this option\n                  const optionScores: any[] = [];\n                  if (optionMeasuredQualities[index]) {\n                    Object.entries(optionMeasuredQualities[index]).forEach(([typeId, val]: any) => {\n                      if (val.checked) {\n                        optionScores.push({\n                          score: val.score,\n                          question_option: {}, // leave empty as per your payload\n                          measuredQualityType: { measuredQualityTypeId: Number(typeId) }\n                        });\n                      }\n                    });\n                  }\n                  return {\n                    optionText,\n                    optionImageBase64,\n                    optionScores,\n                    correct: isCorrect,\n                    isGame: false,\n                    game: null,\n                    optionDescription\n                  };\n                });\n              }\n\n              // Compose payload\n              const payload = {\n                questionText: formikValues.questionText,\n                questionType: formikValues.questionType,\n                maxOptionsAllowed: Number(formikValues.maxOptionsAllowed) || 0,\n                isMQT: isMQT,\n                options,\n                section: { sectionId: Number(formikValues.sectionId) },\n                flag: useMQTAsOptions ? 1 : 0\n              };\n\n              console.log(\"Payload to submit:\", payload);\n              await CreateQuestionData(payload);\n              setFormikValues(initialValues);\n              setOptionMeasuredQualities({});\n              setOptionTypes({});\n              setOptionImages({});\n              setSelectedGameId(\"\");\n              setUseGameAsOption(false);\n              navigate(\"/assessment-questions\");\n            } catch (error) {\n              console.error(\"Error creating question:\", error);\n              // window.location.replace(\"/error\");\n            } finally {\n              setLoading(false);\n            }\n          }}\n        >\n          <div className=\"card-body\">\n            <div className=\"fv-row mb-7\">\n              <label className=\"required fs-6 fw-bold mb-2\">Question Text:</label>\n              <textarea\n                name=\"questionText\"\n                placeholder=\"Enter Question Text\"\n                rows={4}\n                className={clsx(\n                  \"form-control form-control-lg form-control-solid\",\n                  {\n                    \"is-invalid text-danger\": !formikValues.questionText,\n                    \"is-valid\": !!formikValues.questionText,\n                  }\n                )}\n                value={formikValues.questionText}\n                onChange={e => setFormikValues(v => ({ ...v, questionText: e.target.value }))}\n              />\n            </div>\n            <div className=\"fv-row mb-7\">\n              <label className=\"required fs-6 fw-bold mb-2\">Question Type:</label>\n              <select\n                name=\"questionType\"\n                className={clsx(\n                  \"form-control form-control-lg form-control-solid\",\n                  {\n                    \"is-invalid text-danger\": !formikValues.questionType,\n                    \"is-valid\": !!formikValues.questionType,\n                  }\n                )}\n                value={formikValues.questionType}\n                onChange={e => setFormikValues(v => ({ ...v, questionType: e.target.value }))}\n              >\n                <option value=\"\">Select Question Type</option>\n                <option value=\"multiple-choice\">Multiple Choice</option>\n                <option value=\"single-choice\">Single Choice</option>\n                <option value=\"ranking\">Ranking</option>\n                <option value=\"text\">Text Input</option>\n              </select>\n            </div>\n            <div className=\"fv-row mb-7\">\n              <label className=\"required fs-6 fw-bold mb-2\">Section</label>\n              <select\n                name=\"sectionId\"\n                className={clsx(\n                  \"form-control form-control-lg form-control-solid\",\n                  {\n                    \"is-invalid text-danger\": !formikValues.sectionId,\n                    \"is-valid\": !!formikValues.sectionId,\n                  }\n                )}\n                value={formikValues.sectionId}\n                onChange={e => setFormikValues(v => ({ ...v, sectionId: e.target.value }))}\n              >\n                <option value=\"\">Select Section</option>\n                {sections.map((section) => (\n                  <option key={section.sectionId} value={section.sectionId}>\n                    {section.sectionName}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"fv-row mb-7\">\n              <label className=\"required fs-6 fw-bold mb-2\">Options:</label>\n              \n              {/* Game as Option Mode */}\n              {useGameAsOption ? (\n                <div className=\"p-3 border rounded bg-light\">\n                  <div className=\"d-flex align-items-center mb-2\">\n                    <span className=\"me-2 fw-bold\">üéÆ Select Game:</span>\n                  </div>\n                  <select\n                    className={clsx(\n                      \"form-control form-control-lg form-control-solid\",\n                      {\n                        \"is-invalid text-danger\": !selectedGameId,\n                        \"is-valid\": !!selectedGameId,\n                      }\n                    )}\n                    value={selectedGameId}\n                    onChange={(e) => setSelectedGameId(e.target.value)}\n                  >\n                    <option value=\"\">Select a Game</option>\n                    {games.map((game) => (\n                      <option key={game.gameId} value={game.gameId}>\n                        {game.gameName} (Code: {game.gameCode})\n                      </option>\n                    ))}\n                  </select>\n                  {selectedGameId && (\n                    <div className=\"mt-2 text-success\">\n                      ‚úÖ Game selected. This question will launch the selected game as an option.\n                    </div>\n                  )}\n                </div>\n              ) : useMQTAsOptions ? (\n                <MQT\n                  mqt={mqt}\n                  formikValues={formikValues}\n                  setFormikValues={setFormikValues}\n                />\n              ) : (\n                formikValues.questionOptions.map((option: any, index: number) => {\n                  const optionText = typeof option === 'string' ? option : option.optionText;\n                  const isImageMode = optionTypes[index] === 'image';\n                  return (\n                  <div key={index} className=\"mb-3 p-3 border rounded bg-light\">\n                    {/* Toggle Switch for Text/Image */}\n                    <div className=\"d-flex align-items-center mb-2\">\n                      <span className=\"me-2 fw-bold\">Option {index + 1}:</span>\n                      <div className=\"form-check form-switch ms-auto\">\n                        <input\n                          className=\"form-check-input\"\n                          type=\"checkbox\"\n                          role=\"switch\"\n                          id={`option-type-switch-${index}`}\n                          checked={isImageMode}\n                          onChange={() => toggleOptionType(index)}\n                        />\n                        <label className=\"form-check-label\" htmlFor={`option-type-switch-${index}`}>\n                          {isImageMode ? 'üì∑ Image' : 'üìù Text'}\n                        </label>\n                      </div>\n                    </div>\n\n                    <div className=\"d-flex align-items-start gap-2\">\n                      {/* Conditionally render Text Input OR Image Upload */}\n                      {isImageMode ? (\n                        <div className=\"flex-grow-1\">\n                          <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={(e) => handleImageSelect(index, e.target.files?.[0] || null)}\n                            className=\"form-control form-control-sm mb-2\"\n                          />\n                          {optionImages[index] && (\n                            <div className=\"position-relative d-inline-block\">\n                              <img \n                                src={optionImages[index]} \n                                alt={`Option ${index + 1}`}\n                                style={{ maxWidth: 150, maxHeight: 100, objectFit: 'cover', borderRadius: 4, border: '1px solid #ddd' }}\n                              />\n                              <button\n                                type=\"button\"\n                                className=\"btn btn-sm btn-danger position-absolute\"\n                                style={{ top: -8, right: -8, padding: '2px 8px', fontSize: 12 }}\n                                onClick={() => handleImageSelect(index, null)}\n                              >\n                                √ó\n                              </button>\n                            </div>\n                          )}\n                        </div>\n                      ) : (\n                        <input\n                          type=\"text\"\n                          placeholder={`Enter option ${index + 1}`}\n                          value={optionText}\n                          onChange={e => updateOption(index, e.target.value)}\n                          className={clsx(\n                            \"form-control form-control-lg form-control-solid flex-grow-1\",\n                            {\n                              \"is-invalid text-danger\": !optionText,\n                              \"is-valid\": !!optionText,\n                            }\n                          )}\n                        />\n                      )}\n                      \n                      <Dropdown>\n                        <Dropdown.Toggle\n                          variant=\"secondary\"\n                          id={`dropdown-option-${index}`}\n                          size=\"sm\"\n                        >\n                          MQT\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu style={{ minWidth: 250 }}>\n                          <Dropdown.Header>Measured Quality Types</Dropdown.Header>\n                          <div style={{ maxHeight: 250, overflowY: \"auto\", padding: 8 }}>\n                            {mqt.map((type: any, i: number) => (\n                              <div key={type.measuredQualityTypeId}>\n                                <div className=\"d-flex align-items-center mb-2\">\n                                  <input\n                                    type=\"checkbox\"\n                                    checked={!!optionMeasuredQualities[index]?.[type.measuredQualityTypeId]?.checked}\n                                    onChange={() => handleQualityToggle(index, type.measuredQualityTypeId)}\n                                    className=\"form-check-input me-2\"\n                                    id={`option-${index}-type-${type.measuredQualityTypeId}`}\n                                  />\n                                  <label htmlFor={`option-${index}-type-${type.measuredQualityTypeId}`} className=\"me-2 mb-0\">\n                                    {type.measuredQualityTypeName}\n                                  </label>\n                                  {!!optionMeasuredQualities[index]?.[type.measuredQualityTypeId]?.checked && (\n                                    <input\n                                      type=\"number\"\n                                      min={0}\n                                      max={100}\n                                      value={optionMeasuredQualities[index][type.measuredQualityTypeId]?.score ?? 0}\n                                      onChange={e =>\n                                        handleQualityScoreChange(index, type.measuredQualityTypeId, Number(e.target.value))\n                                      }\n                                      placeholder=\"Score\"\n                                      className=\"form-control form-control-sm ms-2\"\n                                      style={{ width: 70 }}\n                                    />\n                                  )}\n                                </div>\n                                {i < mqt.length - 1 && <hr style={{ margin: '4px 0' }} />}\n                              </div>\n                            ))}\n                          </div>\n                        </Dropdown.Menu>\n                      </Dropdown>\n\n                      {/* Display Selected Measured Qualities */}\n                      {optionMeasuredQualities[index] && Object.keys(optionMeasuredQualities[index]).length > 0 && (\n                        <div className=\"mt-2\" style={{ width: '100%' }}>\n                          <div className=\"small text-muted mb-1\">Selected:</div>\n                          <div className=\"d-flex flex-wrap gap-1\">\n                            {Object.entries(optionMeasuredQualities[index])\n                              .filter(([_, value]: any) => value.checked)\n                              .map(([typeId, value]: any) => {\n                                const qualityType = mqt.find((q: any) => q.measuredQualityTypeId === Number(typeId));\n                                return qualityType ? (\n                                  <div\n                                    key={typeId}\n                                    className=\"badge bg-primary d-flex align-items-center gap-1\"\n                                    style={{ fontSize: '0.75rem', padding: '0.35rem 0.5rem' }}\n                                  >\n                                    <span>{qualityType.measuredQualityTypeName}</span>\n                                    <span className=\"badge bg-light text-dark ms-1\">{value.score}</span>\n                                    <button\n                                      type=\"button\"\n                                      className=\"btn-close btn-close-white\"\n                                      style={{ fontSize: '0.5rem', padding: 0, width: '0.6rem', height: '0.6rem' }}\n                                      onClick={() => handleQualityToggle(index, Number(typeId))}\n                                      aria-label=\"Remove\"\n                                    />\n                                  </div>\n                                ) : null;\n                              })}\n                          </div>\n                        </div>\n                      )}\n\n                      {formikValues.questionOptions.length > 1 && (\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-danger\"\n                          onClick={() => removeOption(index)}\n                        >\n                          -\n                        </button>\n                      )}\n                      {index === formikValues.questionOptions.length - 1 && (\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-primary\"\n                          onClick={addOption}\n                        >\n                          +\n                        </button>\n                      )}\n                    </div>\n\n                    {/* NEW: Option Description Field */}\n                    <div className=\"mt-2\">\n                       <label className=\"fs-7 fw-semibold mb-1 text-muted\">Option Description:</label>\n                       <textarea\n                         className=\"form-control form-control-sm\"\n                         rows={2}\n                         placeholder=\"Enter description for this option (optional)\"\n                         value={(typeof option === 'string' ? '' : option.optionDescription) || ''}\n                         onChange={(e) => updateOptionDescription(index, e.target.value)}\n                       />\n                    </div>\n                  </div>\n                  );\n                })\n              )}\n            </div>\n            <div className=\"fv-row mb-7\">\n              <label className=\"fs-6 fw-bold mb-2\">\n                {formikValues.questionType === \"text\" ? \"Number of Text Input Boxes\" : \"Max Options Allowed\"}\n              </label>\n              <input\n                type=\"number\"\n                min={0}\n                max={100}\n                value={formikValues.maxOptionsAllowed}\n                onChange={e =>\n                  setFormikValues(v => ({\n                    ...v,\n                    maxOptionsAllowed: e.target.value\n                  }))\n                }\n                placeholder={formikValues.questionType === \"text\" ? \"Number of text input boxes\" : \"Max Options Allowed\"}\n                className=\"form-control form-control-lg form-control-solid w-25\"\n                style={{ width: 200 }}\n              />\n            </div>\n            {formikValues.questionType === \"text\" && (\n              <div className=\"alert alert-info mb-7\">\n                <strong>Text Input Mode:</strong> Students will type free-text answers instead of selecting options.\n                The options below serve as reference options for autocomplete suggestions and scoring after admin mapping.\n              </div>\n            )}\n            <div className=\"fv-row mb-7\">\n              <div className=\"form-check form-switch\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"checkbox\"\n                  role=\"switch\"\n                  id=\"isMQTToggle\"\n                  checked={isMQT}\n                  onChange={() => setIsMQT(v => !v)}\n                />\n                <label className=\"form-check-label fs-6 fw-bold\" htmlFor=\"isMQTToggle\">\n                  isMQT\n                </label>\n              </div>\n            </div>\n            <div className=\"mb-4 d-flex gap-4\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={useMQTAsOptions}\n                  onChange={() => {\n                    setUseMQTAsOptions(v => !v);\n                    if (!useMQTAsOptions) setUseGameAsOption(false);\n                  }}\n                  className=\"me-2\"\n                  disabled={useGameAsOption}\n                />\n                Use Measured Quality Types as Options\n              </label>\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={useGameAsOption}\n                  onChange={() => {\n                    setUseGameAsOption(v => !v);\n                    if (!useGameAsOption) setUseMQTAsOptions(false);\n                  }}\n                  className=\"me-2\"\n                  disabled={useMQTAsOptions}\n                />\n                üéÆ Use Game as Option\n              </label>\n            </div>\n          </div>\n          <div className=\"card-footer d-flex justify-content-end\">\n            <button\n              type=\"button\"\n              className=\"btn btn-light me-2\"\n              onClick={() => navigate(\"/assessment-questions\")}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={loading}\n            >\n              {!loading && <span className=\"indicator-label\">Submit</span>}\n              {loading && (\n                <span\n                  className=\"indicator-progress\"\n                  style={{ display: \"block\" }}\n                >\n                  Please wait...{\" \"}\n                  <span className=\"spinner-border spinner-border-sm align-middle ms-2\"></span>\n                </span>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default QuestionCreatePage;\n\n"],"names":["Yup","shape","questionText","required","questionType","sectionId","maxOptionsAllowed","_ref","setPageLoading","loading","setLoading","useState","sections","setSections","mqt","setMqt","optionMeasuredQualities","setOptionMeasuredQualities","useMQTAsOptions","setUseMQTAsOptions","React","navigate","useNavigate","optionTypes","setOptionTypes","optionImages","setOptionImages","useGameAsOption","setUseGameAsOption","games","setGames","selectedGameId","setSelectedGameId","isMQT","setIsMQT","initialValues","questionOptions","handleQualityToggle","optionIdx","typeId","prev","prevForOption","current","checked","_","rest","_objectWithoutProperties","map","_toPropertyKey","_objectSpread","score","addOption","setFormikValues","newOptions","handleImageSelect","index","file","reader","FileReader","onloadend","result","readAsDataURL","n","formikValues","useEffect","async","response","ReadQuestionSectionData","data","error","fetchSections","ReadMeasuredQualityTypes","fetchMQT","ListGamesData","fetchGames","v","_jsx","className","children","_jsxs","onSubmit","e","preventDefault","console","log","options","optionText","optionImageBase64","optionScores","correct","isGame","game","gameId","Number","option","isImageMode","isCorrect","optionDescription","Object","entries","forEach","_ref2","val","push","question_option","measuredQualityType","measuredQualityTypeId","payload","section","flag","CreateQuestionData","name","placeholder","rows","clsx","value","onChange","target","sectionName","gameName","gameCode","MQT","type","role","id","concat","toggleOptionType","htmlFor","accept","_e$target$files","files","src","alt","style","maxWidth","maxHeight","objectFit","borderRadius","border","top","right","padding","fontSize","onClick","updateOption","Dropdown","variant","size","minWidth","overflowY","i","_optionMeasuredQualit","_optionMeasuredQualit2","_optionMeasuredQualit3","_optionMeasuredQualit4","_optionMeasuredQualit5","_optionMeasuredQualit6","measuredQualityTypeName","min","max","handleQualityScoreChange","width","length","margin","keys","filter","_ref3","_ref4","qualityType","find","q","height","prevMQ","newMQ","key","k","prevTypes","newTypes","prevImages","newImages","removeOption","updateOptionDescription","disabled","display"],"sourceRoot":""}