"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[758],{39758:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var r=t(72791),s=t(43360),i=t(89983),l=t(68014),n=t(16871),o=t(74569),d=t.n(o);const c="https://api.career-9.com",h=("".concat(c,"/instituteBranch/get"),"".concat(c,"/instituteBranch/getbyCourseId/")),m="".concat(c,"/instituteBranch/update"),b="".concat(c,"/instituteBranch/delete/");function u(e){return d().post(m,{values:e})}var f=t(1413),v=t(28182),x=t(92506),p=t(28403),j=t(70099),N=t(7755),g=t(81724),k=t(80184);const y=g.Ry().shape({branchName:g.Z_().required(),abbreviation:g.Z_().required(),shift:g.Z_().required(),totalIntake:g.Z_().required()}),I=e=>{const[a,t]=(0,r.useState)(!1);var s={branchName:"",abbreviation:"",shift:"",totalIntake:"",branchId:null,courseId:e.courseId,display:1};const i=(0,x.TA)({enableReinitialize:!0,initialValues:s,validationSchema:y,onSubmit:a=>{t(!0);try{u(a).then(()=>{e.onHide(!1),e.setPageLoading(["true"]),i.resetForm(),t(!1)})}catch(r){console.error(r),window.location.replace("/error")}t(!0)}});return(0,k.jsxs)(p.Z,(0,f.Z)((0,f.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,k.jsxs)(p.Z.Header,{children:[(0,k.jsx)(p.Z.Title,{children:(0,k.jsx)("h1",{children:"Add Branch"})}),(0,k.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:e.onHide,children:(0,k.jsx)(j.Z,{animation:N.Z,size:28,strokeColor:"#181C32",reverse:!0})})]}),(0,k.jsxs)("form",{className:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",onSubmit:i.handleSubmit,children:[(0,k.jsx)(p.Z.Body,{children:(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsxs)("div",{className:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px",children:[(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Branch Name :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Branch Name",type:"text",autoComplete:"off"},i.getFieldProps("branchName")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.branchName&&i.errors.branchName},{"is-valid":i.touched.branchName&&!i.errors.branchName})})),i.touched.branchName&&i.errors.branchName&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Branch Name is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Abbreviation :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Abbreviation",type:"text",autoComplete:"off"},i.getFieldProps("abbreviation")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.abbreviation&&i.errors.abbreviation},{"is-valid":i.touched.abbreviation&&!i.errors.abbreviation})})),i.touched.abbreviation&&i.errors.abbreviation&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Abbreviation is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Shift :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Shift",type:"text",autoComplete:"off"},i.getFieldProps("shift")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.shift&&i.errors.shift},{"is-valid":i.touched.shift&&!i.errors.shift})})),i.touched.shift&&i.errors.shift&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Shift is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Total Intake :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Total Intake",type:"number",autoComplete:"off"},i.getFieldProps("totalIntake")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.totalIntake&&i.errors.totalIntake},{"is-valid":i.touched.totalIntake&&!i.errors.totalIntake})})),i.touched.totalIntake&&i.errors.totalIntake&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Total Intake is Required"})})})]})]})})}),(0,k.jsxs)(p.Z.Footer,{children:[(0,k.jsx)("button",{className:"btn btn-sm btn-light btn-active-light-secoundary",onClick:e.onHide,children:"Close"}),(0,k.jsxs)("button",{type:"submit",className:"btn btn-sm btn-primary btn-active-light-secoundary",disabled:i.isSubmitting||!i.isValid,children:[!a&&(0,k.jsx)("span",{className:"indicator-label",children:"Submit"}),a&&(0,k.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,k.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]}))};var Z=t(33489),w=t(78820),_=t(43504),C=t(10120);const S=g.Ry().shape({branchName:g.Z_().required(),abbreviation:g.Z_().required(),shift:g.Z_().required(),totalIntake:g.Z_().required()}),q=e=>{const[a,t]=(0,r.useState)(!1);var s={branchName:e.data.branchName,abbreviation:e.data.abbreviation,shift:e.data.shift,totalIntake:e.data.totalIntake,branchId:e.data.branchId,courseId:e.data.courseId,display:1};const i=(0,x.TA)({enableReinitialize:!0,initialValues:s,validationSchema:S,onSubmit:a=>{try{u(a).then(()=>{e.onHide(!1),e.setPageLoading(["true"])})}catch(r){console.error(r),window.location.replace("/error")}t(!0)}});return(0,k.jsxs)(p.Z,(0,f.Z)((0,f.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,k.jsxs)(p.Z.Header,{children:[(0,k.jsx)(p.Z.Title,{children:(0,k.jsx)("h1",{children:"Edit Branch"})}),(0,k.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:e.onHide,children:(0,k.jsx)(j.Z,{animation:N.Z,size:28,strokeColor:"#181C32",reverse:!0})})]}),(0,k.jsxs)("form",{className:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",onSubmit:i.handleSubmit,children:[(0,k.jsx)(p.Z.Body,{children:(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsxs)("div",{className:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px",children:[(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Branch Name :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Branch Name",type:"text",autoComplete:"off"},i.getFieldProps("branchName")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.branchName&&i.errors.branchName},{"is-valid":i.touched.branchName&&!i.errors.branchName})})),i.touched.branchName&&i.errors.branchName&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Branch Name is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Abbreviation :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Abbreviation",type:"text",autoComplete:"off"},i.getFieldProps("abbreviation")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.abbreviation&&i.errors.abbreviation},{"is-valid":i.touched.abbreviation&&!i.errors.abbreviation})})),i.touched.abbreviation&&i.errors.abbreviation&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Abbreviation is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Shift :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Shift",type:"text",autoComplete:"off"},i.getFieldProps("shift")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.shift&&i.errors.shift},{"is-valid":i.touched.shift&&!i.errors.shift})})),i.touched.shift&&i.errors.shift&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Shift is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Total Intake :"}),(0,k.jsx)("input",(0,f.Z)((0,f.Z)({placeholder:"Enter Total Intake",type:"number",autoComplete:"off"},i.getFieldProps("totalIntake")),{},{className:(0,v.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.totalIntake&&i.errors.totalIntake},{"is-valid":i.touched.totalIntake&&!i.errors.totalIntake})})),i.touched.totalIntake&&i.errors.totalIntake&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Total Intake is Required"})})})]})]})})}),(0,k.jsxs)(p.Z.Footer,{children:[(0,k.jsx)("button",{className:"btn btn-sm btn-light btn-active-light-secoundary",onClick:e.onHide,children:"Close"}),(0,k.jsxs)("button",{type:"submit",id:"kt_sign_up_submit",className:"btn btn-sm btn-primary btn-active-light-secoundary",disabled:i.isSubmitting||!i.isValid,children:[!a&&(0,k.jsx)("span",{className:"indicator-label",children:"Submit"}),a&&(0,k.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,k.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]}))},P=e=>{const[a,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)({branchName:"",branchCode:"",abbreviation:"",shift:"",totalIntake:"",courseId:""}),l={columns:[{label:"Name",field:"branchName",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Name"}},{label:"Abbreviation",field:"abbreviation",sort:"asc",width:50},{label:"Shift",field:"shift",sort:"asc",width:50},{label:"Total Intake",field:"totalIntake",sort:"asc",width:50},{label:"Actions",field:"actions",sort:"disabled",width:100}],rows:e.data.map(a=>!0===a.display?{branchName:a.branchName,abbreviation:a.abbreviation,shift:a.shift,totalIntake:a.totalIntake,actions:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{onClick:()=>{i(a),t(!0)},className:"btn btn-icon btn-primary btn-sm me-3",children:(0,k.jsx)(w.QML,{size:16})}),(0,k.jsx)("button",{onClick:()=>{var t;e.setLoading(!0),(t=a.branchId,d().get(b+t)).then(()=>{e.setPageLoading(["true"])})},className:"btn btn-icon btn-danger btn-sm me-3",children:(0,k.jsx)(j.Z,{animation:C.Z,size:22,strokeColor:"#EFF8FE"})}),(0,k.jsx)(_.rU,{to:"/batch",state:{branchId:a.branchId,branch:a.abbreviation},className:"btn btn-sm btn-info",children:"Add Batch"})]})}:{})};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Z.Vm4,{hover:!0,scrollY:!0,maxHeight:"160vh",entriesOptions:[5,20,25],entries:25,pagesAmount:4,data:l}),(0,k.jsx)(q,{show:a,onHide:()=>t(!1),data:s,setPageLoading:e.setPageLoading})]})},B=()=>{const[e,a]=(0,r.useState)(!1),[t,o]=(0,r.useState)([]),[c,m]=(0,r.useState)(!1),[b,u]=(0,r.useState)(["false"]),f=(0,n.TH)().state;return(0,r.useEffect)(()=>{m(!0);try{(e=f.courseId,d().get(h+e)).then(e=>{o(e.data),m(!1)})}catch(a){console.error(a),window.location.replace("/error")}var e},[b]),(0,k.jsxs)("div",{className:"card",children:[c&&(0,k.jsxs)("span",{className:"indicator-progress m-5",style:{display:"block"},children:["Please wait..."," ",(0,k.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]}),!c&&(0,k.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,k.jsx)("div",{className:"card-title",children:(0,k.jsxs)("h1",{children:[f.course," - Branches"]})}),(0,k.jsx)("div",{className:"card-toolbar",children:(0,k.jsx)("div",{className:"d-flex justify-content-end",children:(0,k.jsx)(s.Z,{variant:"primary",onClick:()=>{a(!0)},children:(0,k.jsx)(i.Pd.Provider,{value:{style:{paddingBottom:"4px"}},children:(0,k.jsxs)("div",{children:["Add Branch ",(0,k.jsx)(l.xCL,{size:25})]})})})})})]}),!c&&(0,k.jsx)("div",{className:"card-body pt-5",children:(0,k.jsx)(P,{data:t,setLoading:m,setPageLoading:u})}),(0,k.jsx)(I,{courseId:f.courseId,setPageLoading:u,show:e,onHide:()=>a(!1)})]})}}}]);
//# sourceMappingURL=758.9d1b6c80.chunk.js.map