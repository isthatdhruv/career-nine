{"version":3,"file":"static/js/958.8884b473.chunk.js","mappings":"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","sources":["app/pages/AssessmentMapping/API/AssessmentMapping_APIs.ts","../node_modules/react-bootstrap/esm/Alert.js","app/pages/OfflineAssessmentUpload/API/OfflineUpload_APIs.ts","app/pages/OfflineAssessmentUpload/OfflineAssessmentUploadPage.tsx"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// ============ ADMIN APIs ============\n\nexport function createAssessmentMapping(data: {\n  assessmentId: number;\n  instituteCode: number;\n  mappingLevel: string;\n  sessionId?: number;\n  classId?: number;\n  sectionId?: number;\n}) {\n  return axios.post(`${API_URL}/assessment-mapping/create`, data);\n}\n\nexport function getAssessmentMappingsByInstitute(instituteCode: number) {\n  return axios.get(\n    `${API_URL}/assessment-mapping/getByInstitute/${instituteCode}`\n  );\n}\n\nexport function updateAssessmentMapping(\n  id: number,\n  data: { isActive: boolean }\n) {\n  return axios.put(`${API_URL}/assessment-mapping/update/${id}`, data);\n}\n\nexport function deleteAssessmentMapping(id: number) {\n  return axios.delete(`${API_URL}/assessment-mapping/delete/${id}`);\n}\n\n// Lightweight: only id, assessmentName, isActive (no questionnaire cascade)\nexport function getAssessmentSummaryList() {\n  return axios.get(`${API_URL}/assessments/get/list-summary`);\n}\n\n// ============ PUBLIC APIs ============\n\nexport function getMappingInfoByToken(token: string) {\n  return axios.get(`${API_URL}/assessment-mapping/public/info/${token}`);\n}\n\nexport function registerStudentByToken(\n  token: string,\n  studentData: {\n    name: string;\n    email: string;\n    dob: string;\n    phone: string;\n    gender: string;\n    classId?: number;\n    schoolSectionId?: number;\n  }\n) {\n  return axios.post(\n    `${API_URL}/assessment-mapping/public/register/${token}`,\n    studentData\n  );\n}\n","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport divWithClassName from './divWithClassName';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nconst AlertLink = createWithBsPrefix('alert-link', {\n  Component: Anchor\n});\nconst defaultProps = {\n  variant: 'primary',\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show,\n    closeLabel,\n    closeVariant,\n    className,\n    children,\n    variant,\n    onClose,\n    dismissible,\n    transition,\n    ...props\n  } = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  const handleClose = useEventCallback(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? Fade : transition;\n\n  const alert = /*#__PURE__*/_jsxs(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: classNames(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/_jsx(CloseButton, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/_jsx(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nexport default Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});","import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nexport function getOfflineMapping(assessmentId: number) {\n  return axios.get(`${API_URL}/assessment-answer/offline-mapping/${assessmentId}`);\n}\n\nexport function bulkSubmitAnswers(data: {\n  assessmentId: number;\n  students: {\n    userStudentId: number;\n    answers: { questionnaireQuestionId: number; optionId: number }[];\n  }[];\n}) {\n  return axios.post(`${API_URL}/assessment-answer/bulk-submit`, data);\n}\n\nexport function bulkSubmitWithStudents(data: {\n  assessmentId: number;\n  instituteId: number;\n  students: {\n    name: string;\n    dob?: string;\n    phone?: string;\n    schoolSectionId?: number;\n    answers: { questionnaireQuestionId: number; optionId: number }[];\n  }[];\n}) {\n  return axios.post(`${API_URL}/assessment-answer/bulk-submit-with-students`, data);\n}\n\nexport function bulkSubmitByRollNumber(data: {\n  assessmentId: number;\n  instituteId: number;\n  students: {\n    rollNumber: string;\n    answers: { questionnaireQuestionId: number; optionId: number }[];\n  }[];\n}) {\n  return axios.post(`${API_URL}/assessment-answer/bulk-submit-by-rollnumber`, data);\n}\n","import { useEffect, useState, useRef, useMemo } from \"react\";\nimport { Spinner, Button, Form, Badge, Alert } from \"react-bootstrap\";\nimport * as XLSX from \"xlsx\";\nimport { ReadCollegeData, GetSessionsByInstituteCode } from \"../College/API/College_APIs\";\nimport { getAssessmentMappingsByInstitute, getAssessmentSummaryList } from \"../AssessmentMapping/API/AssessmentMapping_APIs\";\nimport { getOfflineMapping, bulkSubmitByRollNumber } from \"./API/OfflineUpload_APIs\";\n\n// ============ Interfaces ============\n\ninterface OptionInfo {\n  optionId: number;\n  sequence: number;\n  optionText: string;\n}\n\ninterface QuestionMapping {\n  questionnaireQuestionId: number;\n  excelQuestionHeader: string;\n  questionText: string;\n  questionType: string;\n  isMQT: boolean;\n  questionnaireSectionId: number | null;\n  sectionName: string | null;\n  sectionOrder: string | null;\n  options: OptionInfo[];\n}\n\ninterface SectionMapping {\n  questionnaireSectionId: number;\n  sectionName: string;\n  sectionOrder: string;\n  questions: QuestionMapping[];\n}\n\ninterface MappingData {\n  assessmentId: number;\n  assessmentName: string;\n  questionnaireName: string;\n  questions: QuestionMapping[];\n  sections: SectionMapping[];\n}\n\ninterface ParsedRow {\n  rollNumber: string;\n  answers: { [questionnaireQuestionId: number]: number | null };\n  rowErrors: string[];\n}\n\n// ============ Helpers ============\n\nconst resolveOptionId = (\n  cellValue: any,\n  options: OptionInfo[]\n): { optionId: number | null; error?: string } => {\n  if (cellValue === null || cellValue === undefined || cellValue === \"\") {\n    return { optionId: null };\n  }\n\n  const val = String(cellValue).trim();\n  if (val === \"\") return { optionId: null };\n\n  if (!options || options.length === 0) {\n    return { optionId: null, error: \"No options defined\" };\n  }\n\n  const num = Number(val);\n  if (!isNaN(num) && Number.isInteger(num) && num >= 1) {\n    const opt = options.find((o) => o.sequence === num);\n    if (opt) return { optionId: opt.optionId };\n    return { optionId: null, error: `Sequence ${num} out of range (max ${options.length})` };\n  }\n\n  const upper = val.toUpperCase();\n  if (/^[A-Z]$/.test(upper)) {\n    const seq = upper.charCodeAt(0) - 64;\n    const opt = options.find((o) => o.sequence === seq);\n    if (opt) return { optionId: opt.optionId };\n    return { optionId: null, error: `Letter ${upper} out of range (max ${options.length} options)` };\n  }\n\n  const lower = val.toLowerCase();\n  if (lower === \"yes\" || lower === \"y\") {\n    const opt = options.find((o) => o.sequence === 1);\n    if (opt) return { optionId: opt.optionId };\n  }\n  if (lower === \"no\" || lower === \"n\") {\n    const opt = options.find((o) => o.sequence === 2);\n    if (opt) return { optionId: opt.optionId };\n  }\n\n  return { optionId: null, error: `Unrecognized value: \"${val}\"` };\n};\n\n// ============ Component ============\n\nconst OfflineAssessmentUploadPage = () => {\n  // --- School & Assessment selection ---\n  const [institutes, setInstitutes] = useState<any[]>([]);\n  const [selectedInstitute, setSelectedInstitute] = useState<string>(\"\");\n  const [assessmentMappings, setAssessmentMappings] = useState<any[]>([]);\n  const [selectedAssessment, setSelectedAssessment] = useState<string>(\"\");\n  const [loadingInstitutes, setLoadingInstitutes] = useState(false);\n  const [loadingAssessments, setLoadingAssessments] = useState(false);\n\n  const [mappingData, setMappingData] = useState<MappingData | null>(null);\n  const [loadingMapping, setLoadingMapping] = useState(false);\n\n  // --- Excel upload ---\n  const [excelHeaders, setExcelHeaders] = useState<string[]>([]);\n  const [rawExcelData, setRawExcelData] = useState<any[]>([]);\n  const [fileName, setFileName] = useState<string>(\"\");\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // --- Mapping: DB field key → Excel header ---\n  // Keys: \"rollNumber\", \"q_{qqId}\", \"mqt_{qqId}_{optionId}\"\n  const [fieldToHeader, setFieldToHeader] = useState<Record<string, string>>({});\n  const [mappingApplied, setMappingApplied] = useState(false);\n\n  const [parsedRows, setParsedRows] = useState<ParsedRow[]>([]);\n  const [submitting, setSubmitting] = useState(false);\n  const [submitResult, setSubmitResult] = useState<any>(null);\n\n  // --- Build flat rows for the mapping table ---\n  const mappingRows = useMemo(() => {\n    if (!mappingData?.sections) return [];\n\n    const rows: {\n      key: string;\n      label: string;\n      sectionName: string;\n      isMQT: boolean;\n      type: \"identity\" | \"question\" | \"mqt_option\";\n    }[] = [];\n\n    // Identity field: Roll Number only\n    rows.push({ key: \"rollNumber\", label: \"Career Nine Roll Number\", sectionName: \"Student Identity\", isMQT: false, type: \"identity\" });\n\n    // Questions grouped by section\n    for (const section of mappingData.sections) {\n      for (const q of section.questions) {\n        if (q.isMQT) {\n          for (const opt of q.options) {\n            rows.push({\n              key: `mqt_${q.questionnaireQuestionId}_${opt.optionId}`,\n              label: `${q.questionText?.substring(0, 50) || \"Q\" + q.questionnaireQuestionId} → ${opt.optionText?.substring(0, 40)}`,\n              sectionName: section.sectionName,\n              isMQT: true,\n              type: \"mqt_option\",\n            });\n          }\n        } else {\n          rows.push({\n            key: `q_${q.questionnaireQuestionId}`,\n            label: q.questionText?.substring(0, 80) || `Question ${q.questionnaireQuestionId}`,\n            sectionName: section.sectionName,\n            isMQT: false,\n            type: \"question\",\n          });\n        }\n      }\n    }\n\n    return rows;\n  }, [mappingData]);\n\n  // Build preview column list from applied mapping\n  const previewColumns = useMemo(() => {\n    if (!mappingApplied || !mappingData) return [];\n\n    const mappedQQIds = new Set<number>();\n    for (const [key] of Object.entries(fieldToHeader)) {\n      if (key.startsWith(\"q_\")) {\n        mappedQQIds.add(Number(key.substring(2)));\n      } else if (key.startsWith(\"mqt_\")) {\n        const qqId = Number(key.split(\"_\")[1]);\n        mappedQQIds.add(qqId);\n      }\n    }\n\n    const cols: {\n      qqId: number;\n      questionText: string;\n      isMQT: boolean;\n      options: OptionInfo[];\n      sectionName: string;\n    }[] = [];\n\n    for (const section of mappingData.sections) {\n      for (const q of section.questions) {\n        if (mappedQQIds.has(q.questionnaireQuestionId)) {\n          cols.push({\n            qqId: q.questionnaireQuestionId,\n            questionText: q.questionText,\n            isMQT: q.isMQT,\n            options: q.options,\n            sectionName: section.sectionName,\n          });\n        }\n      }\n    }\n    return cols;\n  }, [mappingApplied, fieldToHeader, mappingData]);\n\n  // Mapping validation\n  const mappingValidation = useMemo(() => {\n    const issues: string[] = [];\n    const hasRollNumber = !!fieldToHeader[\"rollNumber\"];\n    if (!hasRollNumber) issues.push(\"Map a column to 'Roll Number' (required)\");\n\n    const mappedQQIds = new Set<number>();\n    for (const key of Object.keys(fieldToHeader)) {\n      if (key.startsWith(\"q_\")) mappedQQIds.add(Number(key.substring(2)));\n      else if (key.startsWith(\"mqt_\")) mappedQQIds.add(Number(key.split(\"_\")[1]));\n    }\n\n    const totalQuestions = mappingData?.questions.length || 0;\n    if (mappedQQIds.size === 0) {\n      issues.push(\"No question columns mapped\");\n    } else if (mappedQQIds.size < totalQuestions) {\n      issues.push(`${mappedQQIds.size} of ${totalQuestions} questions mapped`);\n    }\n\n    return { issues, hasRollNumber, mappedCount: mappedQQIds.size };\n  }, [fieldToHeader, mappingData]);\n\n  // ============ Load data ============\n\n  useEffect(() => {\n    loadInstitutes();\n  }, []);\n\n  const loadInstitutes = async () => {\n    setLoadingInstitutes(true);\n    try {\n      const res = await ReadCollegeData();\n      setInstitutes(res.data || []);\n    } catch (error) {\n      console.error(\"Failed to load institutes:\", error);\n    } finally {\n      setLoadingInstitutes(false);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedInstitute) {\n      loadAssessments(Number(selectedInstitute));\n    } else {\n      setAssessmentMappings([]);\n      setSelectedAssessment(\"\");\n      setMappingData(null);\n      resetUploadState();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedInstitute]);\n\n  const loadAssessments = async (instituteCode: number) => {\n    setLoadingAssessments(true);\n    setSelectedAssessment(\"\");\n    setMappingData(null);\n    resetUploadState();\n    try {\n      let mappings: any[] = [];\n      let allAssessments: any[] = [];\n\n      try {\n        const mappingsRes = await getAssessmentMappingsByInstitute(instituteCode);\n        mappings = mappingsRes.data || [];\n      } catch (err) {\n        console.error(\"Failed to load institute mappings:\", err);\n      }\n\n      try {\n        const summaryRes = await getAssessmentSummaryList();\n        allAssessments = summaryRes.data || [];\n      } catch (err) {\n        console.error(\"Failed to load assessment list:\", err);\n      }\n\n      if (mappings.length > 0) {\n        const mappedIds = new Set(mappings.map((m: any) => m.assessmentId));\n        const filtered = allAssessments.filter((a: any) => mappedIds.has(a.id));\n        setAssessmentMappings(filtered);\n      } else {\n        setAssessmentMappings(allAssessments);\n      }\n    } catch (error) {\n      console.error(\"Failed to load assessments:\", error);\n    } finally {\n      setLoadingAssessments(false);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedAssessment) {\n      loadMapping(Number(selectedAssessment));\n    } else {\n      setMappingData(null);\n      resetUploadState();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedAssessment]);\n\n  const loadMapping = async (assessmentId: number) => {\n    setLoadingMapping(true);\n    resetUploadState();\n    try {\n      const mappingRes = await getOfflineMapping(assessmentId);\n      setMappingData(mappingRes.data);\n    } catch (error) {\n      console.error(\"Failed to load mapping:\", error);\n      alert(\"Failed to load assessment mapping. Make sure the assessment has a linked questionnaire.\");\n    } finally {\n      setLoadingMapping(false);\n    }\n  };\n\n  const resetUploadState = () => {\n    setExcelHeaders([]);\n    setRawExcelData([]);\n    setFieldToHeader({});\n    setMappingApplied(false);\n    setParsedRows([]);\n    setFileName(\"\");\n    setSubmitResult(null);\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  // ============ File Upload ============\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file || !mappingData) return;\n\n    setFileName(file.name);\n    setSubmitResult(null);\n    setMappingApplied(false);\n    setParsedRows([]);\n\n    const reader = new FileReader();\n    reader.onload = (evt) => {\n      const data = evt.target?.result;\n      const workbook = XLSX.read(data, { type: \"binary\", cellDates: true });\n      const sheetName = workbook.SheetNames[0];\n      const sheet = workbook.Sheets[sheetName];\n      const jsonData: any[] = XLSX.utils.sheet_to_json(sheet, { defval: \"\", raw: false });\n\n      if (jsonData.length === 0) {\n        alert(\"The Excel file is empty or has no data rows.\");\n        return;\n      }\n\n      const headers = Object.keys(jsonData[0]);\n      setExcelHeaders(headers);\n      setRawExcelData(jsonData);\n\n      // Auto-detect: try to map roll number column by common names\n      const autoMap: Record<string, string> = {};\n      for (const header of headers) {\n        const lower = header.toLowerCase().trim();\n        if (lower === \"roll number\" || lower === \"rollnumber\" || lower === \"roll_number\"\n          || lower === \"career nine roll number\" || lower === \"careerninerollnumber\") {\n          autoMap[\"rollNumber\"] = header;\n        }\n      }\n      setFieldToHeader(autoMap);\n    };\n    reader.readAsBinaryString(file);\n  };\n\n  // ============ Mapping Handlers ============\n\n  const handleFieldMapping = (fieldKey: string, excelHeader: string) => {\n    setFieldToHeader((prev) => {\n      const updated = { ...prev };\n      if (excelHeader === \"\") {\n        delete updated[fieldKey];\n      } else {\n        updated[fieldKey] = excelHeader;\n      }\n      return updated;\n    });\n  };\n\n  // Get set of already-used Excel headers (to prevent duplicate mapping)\n  const usedHeaders = useMemo(() => {\n    return new Set(Object.values(fieldToHeader));\n  }, [fieldToHeader]);\n\n  // ============ Apply Mapping & Parse ============\n\n  const handleApplyMapping = () => {\n    if (!mappingData || rawExcelData.length === 0) return;\n\n    const rollNumberHeader = fieldToHeader[\"rollNumber\"];\n\n    const rows = rawExcelData.map((row) => {\n      const rowErrors: string[] = [];\n\n      const rollNumber = rollNumberHeader ? String(row[rollNumberHeader] ?? \"\").trim() : \"\";\n      if (!rollNumber) rowErrors.push(\"Roll number is required\");\n\n      const answers: { [qqId: number]: number | null } = {};\n      const mqtSelections: Record<number, number[]> = {};\n\n      for (const [fieldKey, excelHeader] of Object.entries(fieldToHeader)) {\n        if (fieldKey === \"rollNumber\") continue;\n\n        const cellVal = row[excelHeader];\n\n        if (fieldKey.startsWith(\"q_\")) {\n          const qqId = Number(fieldKey.substring(2));\n          const q = mappingData.questions.find(\n            (q) => q.questionnaireQuestionId === qqId\n          );\n          if (q) {\n            const result = resolveOptionId(cellVal, q.options);\n            answers[qqId] = result.optionId;\n            if (result.error) rowErrors.push(`${excelHeader}: ${result.error}`);\n          }\n        } else if (fieldKey.startsWith(\"mqt_\")) {\n          const parts = fieldKey.split(\"_\");\n          const qqId = Number(parts[1]);\n          const optionId = Number(parts[2]);\n          const val = String(cellVal ?? \"\").trim();\n          if (val === \"1\" || val.toLowerCase() === \"yes\" || val.toLowerCase() === \"y\") {\n            if (!mqtSelections[qqId]) mqtSelections[qqId] = [];\n            mqtSelections[qqId].push(optionId);\n          }\n        }\n      }\n\n      // Resolve MQT selections\n      for (const [qqIdStr, selectedIds] of Object.entries(mqtSelections)) {\n        const qqId = Number(qqIdStr);\n        if (selectedIds.length === 1) {\n          answers[qqId] = selectedIds[0];\n        } else if (selectedIds.length > 1) {\n          answers[qqId] = null;\n          rowErrors.push(`Question ${qqId}: Multiple MQT options selected`);\n        }\n      }\n\n      return { rollNumber, answers, rowErrors };\n    });\n\n    setParsedRows(rows);\n    setMappingApplied(true);\n  };\n\n  // ============ Edit Handlers ============\n\n  const handleRollNumberChange = (rowIndex: number, value: string) => {\n    setParsedRows((prev) => {\n      const updated = [...prev];\n      updated[rowIndex] = { ...updated[rowIndex], rollNumber: value };\n      return updated;\n    });\n  };\n\n  const handleAnswerChange = (rowIndex: number, qqId: number, optionId: number | null) => {\n    setParsedRows((prev) => {\n      const updated = [...prev];\n      const row = { ...updated[rowIndex] };\n      row.answers = { ...row.answers, [qqId]: optionId };\n      updated[rowIndex] = row;\n      return updated;\n    });\n  };\n\n  // ============ Submit ============\n\n  const handleSubmit = async () => {\n    if (!mappingData || parsedRows.length === 0) return;\n\n    const rowsWithNoRoll = parsedRows.filter((r) => !r.rollNumber.trim());\n    if (rowsWithNoRoll.length > 0) {\n      alert(`${rowsWithNoRoll.length} row(s) have no roll number. Please fix before submitting.`);\n      return;\n    }\n\n    const rowsWithErrors = parsedRows.filter((r) => r.rowErrors.length > 0);\n    if (rowsWithErrors.length > 0) {\n      if (!window.confirm(`${rowsWithErrors.length} row(s) have parsing warnings. Those answers may be skipped. Continue?`))\n        return;\n    }\n\n    setSubmitting(true);\n    setSubmitResult(null);\n\n    try {\n      const students = parsedRows.map((row) => ({\n        rollNumber: row.rollNumber.trim(),\n        answers: Object.entries(row.answers)\n          .filter(([, optId]) => optId !== null)\n          .map(([qqId, optId]) => ({\n            questionnaireQuestionId: Number(qqId),\n            optionId: optId!,\n          })),\n      }));\n\n      const res = await bulkSubmitByRollNumber({\n        assessmentId: mappingData.assessmentId,\n        instituteId: Number(selectedInstitute),\n        students,\n      });\n\n      setSubmitResult(res.data);\n    } catch (error: any) {\n      console.error(\"Submit failed:\", error);\n      setSubmitResult({\n        status: \"error\",\n        message: error.response?.data || error.message,\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // ============ Render ============\n\n  // Group mapping rows by section for display\n  const groupedMappingRows = useMemo(() => {\n    const groups: Record<string, typeof mappingRows> = {};\n    for (const row of mappingRows) {\n      if (!groups[row.sectionName]) groups[row.sectionName] = [];\n      groups[row.sectionName].push(row);\n    }\n    return groups;\n  }, [mappingRows]);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">Offline Assessment Data Upload</h3>\n      </div>\n      <div className=\"card-body\">\n        {/* Section 1: School & Assessment Selection */}\n        <div className=\"card card-body bg-light mb-4\">\n          <h6 className=\"mb-3\">Select School & Assessment</h6>\n          <div className=\"row g-3 align-items-end\">\n            <div className=\"col-md-5\">\n              <Form.Label>School / Institute</Form.Label>\n              {loadingInstitutes ? (\n                <div><Spinner animation=\"border\" size=\"sm\" /> Loading...</div>\n              ) : (\n                <Form.Select\n                  value={selectedInstitute}\n                  onChange={(e) => setSelectedInstitute(e.target.value)}\n                >\n                  <option value=\"\">Select an institute...</option>\n                  {institutes.map((inst: any) => (\n                    <option key={inst.instituteCode} value={inst.instituteCode}>\n                      {inst.instituteName}\n                    </option>\n                  ))}\n                </Form.Select>\n              )}\n            </div>\n            <div className=\"col-md-5\">\n              <Form.Label>Assessment</Form.Label>\n              {loadingAssessments ? (\n                <div><Spinner animation=\"border\" size=\"sm\" /> Loading...</div>\n              ) : (\n                <Form.Select\n                  value={selectedAssessment}\n                  onChange={(e) => setSelectedAssessment(e.target.value)}\n                  disabled={!selectedInstitute}\n                >\n                  <option value=\"\">Select an assessment...</option>\n                  {assessmentMappings.map((a: any) => (\n                    <option key={a.id} value={a.id}>\n                      {a.assessmentName}\n                    </option>\n                  ))}\n                </Form.Select>\n              )}\n            </div>\n            <div className=\"col-md-2\">\n              {loadingMapping && <Spinner animation=\"border\" size=\"sm\" className=\"ms-2\" />}\n            </div>\n          </div>\n          {mappingData && (\n            <div className=\"mt-3\">\n              <Badge bg=\"success\" className=\"me-2\">\n                Questionnaire: {mappingData.questionnaireName}\n              </Badge>\n              <Badge bg=\"info\" className=\"me-2\">\n                {mappingData.sections?.length || 0} sections\n              </Badge>\n              <Badge bg=\"secondary\">\n                {mappingData.questions.length} questions\n              </Badge>\n            </div>\n          )}\n        </div>\n\n        {/* Section 2: Upload Excel */}\n        {mappingData && (\n          <div className=\"card card-body bg-light mb-4\">\n            <h6 className=\"mb-3\">Upload Excel File</h6>\n            <div className=\"row g-3 align-items-end\">\n              <div className=\"col-md-6\">\n                <Form.Label>Choose Excel File</Form.Label>\n                <Form.Control\n                  type=\"file\"\n                  accept=\".xlsx,.xls\"\n                  ref={fileInputRef}\n                  onChange={handleFileUpload}\n                />\n              </div>\n              <div className=\"col-md-4\">\n                {fileName && <small className=\"text-muted\">{fileName}</small>}\n              </div>\n              <div className=\"col-md-2\">\n                {excelHeaders.length > 0 && (\n                  <Badge bg=\"info\">{rawExcelData.length} rows, {excelHeaders.length} columns</Badge>\n                )}\n              </div>\n            </div>\n            <div className=\"mt-2\">\n              <small className=\"text-muted\">\n                Upload any Excel file with one student per row. Students are matched by their <strong>Career Nine Roll Number</strong>.\n                You will map columns to questions next.\n              </small>\n            </div>\n          </div>\n        )}\n\n        {/* Section 3: Column Mapping - DB questions on left, Excel headers dropdown on right */}\n        {excelHeaders.length > 0 && mappingData && !mappingApplied && (\n          <div className=\"card card-body bg-light mb-4\">\n            <div className=\"d-flex justify-content-between align-items-center mb-3\">\n              <h6 className=\"mb-0\">Map DB Questions to Excel Columns</h6>\n              <div className=\"d-flex gap-2 align-items-center\">\n                {mappingValidation.issues.length > 0 && (\n                  <small className=\"text-warning\">\n                    {mappingValidation.issues[0]}\n                  </small>\n                )}\n                <Button\n                  variant=\"primary\"\n                  size=\"sm\"\n                  onClick={handleApplyMapping}\n                  disabled={!mappingValidation.hasRollNumber || mappingValidation.mappedCount === 0}\n                >\n                  Apply Mapping & Preview\n                </Button>\n              </div>\n            </div>\n\n            <div style={{ maxHeight: \"500px\", overflowY: \"auto\", border: \"1px solid #dee2e6\" }}>\n              <table className=\"table table-bordered table-sm mb-0\">\n                <thead style={{ position: \"sticky\", top: 0, zIndex: 2, backgroundColor: \"#212529\", color: \"#fff\" }}>\n                  <tr>\n                    <th style={{ width: \"50%\", backgroundColor: \"#212529\", color: \"#fff\" }}>DB Question / Field</th>\n                    <th style={{ width: \"50%\", backgroundColor: \"#212529\", color: \"#fff\" }}>Excel Column</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {Object.entries(groupedMappingRows).map(([sectionName, rows]) => (\n                    <>\n                      <tr key={`section-${sectionName}`} className=\"table-secondary\">\n                        <td colSpan={2}>\n                          <strong>{sectionName}</strong>\n                          <small className=\"text-muted ms-2\">({rows.length} fields)</small>\n                        </td>\n                      </tr>\n                      {rows.map((row) => {\n                        const currentHeader = fieldToHeader[row.key] || \"\";\n                        const isMapped = !!currentHeader;\n\n                        return (\n                          <tr key={row.key} className={isMapped ? \"\" : \"text-muted\"}>\n                            <td>\n                              {row.label}\n                              {row.isMQT && (\n                                <Badge bg=\"info\" className=\"ms-1\" style={{ fontSize: \"0.65rem\" }}>MQT</Badge>\n                              )}\n                              {row.key === \"rollNumber\" && (\n                                <Badge bg=\"danger\" className=\"ms-1\" style={{ fontSize: \"0.65rem\" }}>Required</Badge>\n                              )}\n                            </td>\n                            <td>\n                              <Form.Select\n                                size=\"sm\"\n                                value={currentHeader}\n                                onChange={(e) => handleFieldMapping(row.key, e.target.value)}\n                              >\n                                <option value=\"\">-- Not mapped --</option>\n                                {excelHeaders.map((h) => (\n                                  <option\n                                    key={h}\n                                    value={h}\n                                    disabled={usedHeaders.has(h) && h !== currentHeader}\n                                  >\n                                    {h}{usedHeaders.has(h) && h !== currentHeader ? \" (already used)\" : \"\"}\n                                  </option>\n                                ))}\n                              </Form.Select>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {/* Section 4: Preview & Edit Table */}\n        {mappingApplied && parsedRows.length > 0 && mappingData && (\n          <div className=\"mb-4\">\n            <div className=\"d-flex justify-content-between align-items-center mb-3\">\n              <h6 className=\"mb-0\">\n                Preview ({parsedRows.length} students)\n                {parsedRows.some((r) => r.rowErrors.length > 0) && (\n                  <Badge bg=\"warning\" className=\"ms-2\">Has warnings</Badge>\n                )}\n              </h6>\n              <div className=\"d-flex gap-2\">\n                <Button\n                  variant=\"outline-secondary\"\n                  size=\"sm\"\n                  onClick={() => { setMappingApplied(false); setParsedRows([]); }}\n                >\n                  Back to Mapping\n                </Button>\n                <Button\n                  variant=\"outline-secondary\"\n                  size=\"sm\"\n                  onClick={resetUploadState}\n                >\n                  Clear & Re-upload\n                </Button>\n              </div>\n            </div>\n            <div style={{ maxHeight: \"500px\", overflow: \"auto\", border: \"1px solid #dee2e6\" }}>\n              <table className=\"table table-bordered table-sm table-hover mb-0\">\n                <thead style={{ position: \"sticky\", top: 0, zIndex: 2, backgroundColor: \"#212529\", color: \"#fff\" }}>\n                  <tr>\n                    <th style={{ minWidth: \"40px\", backgroundColor: \"#212529\", color: \"#fff\" }}>#</th>\n                    <th style={{ minWidth: \"150px\", backgroundColor: \"#212529\", color: \"#fff\" }}>Roll Number</th>\n                    {previewColumns.map((col) => (\n                      <th\n                        key={col.qqId}\n                        style={{ minWidth: \"140px\", backgroundColor: \"#212529\", color: \"#fff\" }}\n                        title={col.questionText}\n                      >\n                        {col.questionText?.substring(0, 25) || `Q${col.qqId}`}\n                        {col.isMQT && (\n                          <Badge bg=\"info\" className=\"ms-1\" style={{ fontSize: \"0.6rem\" }}>MQT</Badge>\n                        )}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {parsedRows.map((row, rowIdx) => {\n                    const hasErrors = row.rowErrors.length > 0;\n                    const noRoll = !row.rollNumber.trim();\n\n                    return (\n                      <tr\n                        key={rowIdx}\n                        className={noRoll ? \"table-danger\" : hasErrors ? \"table-danger\" : \"\"}\n                        title={row.rowErrors.length > 0 ? row.rowErrors.join(\"; \") : \"\"}\n                      >\n                        <td>{rowIdx + 1}</td>\n                        <td>\n                          <input\n                            type=\"text\"\n                            className={`form-control form-control-sm ${noRoll ? \"is-invalid\" : \"\"}`}\n                            value={row.rollNumber}\n                            onChange={(e) => handleRollNumberChange(rowIdx, e.target.value)}\n                            style={{ minWidth: \"130px\" }}\n                          />\n                        </td>\n                        {previewColumns.map((col) => {\n                          const optionId = row.answers[col.qqId];\n                          const hasAnswerError = row.rowErrors.some(\n                            (err) => err.includes(`${col.qqId}`)\n                          );\n\n                          return (\n                            <td\n                              key={col.qqId}\n                              className={hasAnswerError ? \"table-danger\" : \"\"}\n                            >\n                              <select\n                                className=\"form-select form-select-sm\"\n                                value={optionId ?? \"\"}\n                                onChange={(e) =>\n                                  handleAnswerChange(\n                                    rowIdx,\n                                    col.qqId,\n                                    e.target.value === \"\" ? null : Number(e.target.value)\n                                  )\n                                }\n                              >\n                                <option value=\"\">-- Skip --</option>\n                                {col.options.map((opt) => (\n                                  <option key={opt.optionId} value={opt.optionId}>\n                                    {opt.optionText}\n                                  </option>\n                                ))}\n                              </select>\n                            </td>\n                          );\n                        })}\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {/* Section 5: Submit */}\n        {mappingApplied && parsedRows.length > 0 && mappingData && (\n          <div className=\"card card-body bg-light\">\n            <div className=\"d-flex align-items-center gap-3 flex-wrap\">\n              <Button\n                variant=\"success\"\n                size=\"lg\"\n                onClick={handleSubmit}\n                disabled={submitting}\n              >\n                {submitting ? (\n                  <><Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />Submitting...</>\n                ) : (\n                  <>Submit All ({parsedRows.length} students)</>\n                )}\n              </Button>\n\n              {submitResult && submitResult.status === \"success\" && (\n                <Alert variant=\"success\" className=\"mb-0 flex-grow-1\">\n                  <strong>Upload complete.</strong>\n                  <div>Students processed: <strong>{submitResult.studentsProcessed}</strong></div>\n                  {submitResult.matchSummary && (\n                    <div>\n                      Matched by roll number: <Badge bg=\"primary\">{submitResult.matchSummary.matched}</Badge>{\" \"}\n                      Failed: <Badge bg={submitResult.matchSummary.failed > 0 ? \"danger\" : \"secondary\"}>{submitResult.matchSummary.failed}</Badge>\n                    </div>\n                  )}\n                  {submitResult.errors?.length > 0 && (\n                    <div className=\"mt-2\">\n                      <strong>Errors:</strong>\n                      {submitResult.errors.map((err: any, i: number) => (\n                        <div key={i} className=\"text-danger\">\n                          Row {(err.rowIndex ?? 0) + 1} (Roll: {err.rollNumber}): {err.error}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </Alert>\n              )}\n\n              {submitResult && submitResult.status === \"error\" && (\n                <Alert variant=\"danger\" className=\"mb-0 flex-grow-1\">\n                  Submission failed: {typeof submitResult.message === \"string\" ? submitResult.message : JSON.stringify(submitResult.message)}\n                </Alert>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OfflineAssessmentUploadPage;\n"],"names":["API_URL","process","createAssessmentMapping","data","axios","concat","getAssessmentMappingsByInstitute","instituteCode","updateAssessmentMapping","id","deleteAssessmentMapping","getAssessmentSummaryList","getMappingInfoByToken","token","registerStudentByToken","studentData","DivStyledAsH4","divWithClassName","displayName","AlertHeading","createWithBsPrefix","Component","AlertLink","Anchor","defaultProps","variant","show","transition","Fade","closeLabel","Alert","React","uncontrolledProps","ref","_useUncontrolled","useUncontrolled","bsPrefix","closeVariant","className","children","onClose","dismissible","props","_objectWithoutProperties","_excluded","prefix","useBootstrapPrefix","handleClose","useEventCallback","e","Transition","alert","_jsxs","_objectSpread","role","undefined","classNames","_jsx","CloseButton","onClick","unmountOnExit","in","Object","assign","Link","Heading","resolveOptionId","cellValue","options","optionId","val","String","trim","length","error","num","Number","isNaN","isInteger","opt","find","o","sequence","upper","toUpperCase","test","seq","charCodeAt","lower","toLowerCase","OfflineAssessmentUploadPage","_mappingData$sections","_submitResult$errors","institutes","setInstitutes","useState","selectedInstitute","setSelectedInstitute","assessmentMappings","setAssessmentMappings","selectedAssessment","setSelectedAssessment","loadingInstitutes","setLoadingInstitutes","loadingAssessments","setLoadingAssessments","mappingData","setMappingData","loadingMapping","setLoadingMapping","excelHeaders","setExcelHeaders","rawExcelData","setRawExcelData","fileName","setFileName","fileInputRef","useRef","fieldToHeader","setFieldToHeader","mappingApplied","setMappingApplied","parsedRows","setParsedRows","submitting","setSubmitting","submitResult","setSubmitResult","mappingRows","useMemo","sections","rows","push","key","label","sectionName","isMQT","type","section","q","questions","_q$questionText2","_q$questionText","_opt$optionText","questionnaireQuestionId","questionText","substring","optionText","previewColumns","mappedQQIds","Set","entries","startsWith","add","qqId","split","cols","has","mappingValidation","issues","hasRollNumber","keys","totalQuestions","size","mappedCount","useEffect","loadInstitutes","async","res","ReadCollegeData","console","loadAssessments","resetUploadState","mappings","allAssessments","err","mappedIds","map","m","assessmentId","filtered","filter","a","loadMapping","mappingRes","getOfflineMapping","current","value","usedHeaders","values","groupedMappingRows","groups","row","Form","Spinner","animation","onChange","target","inst","instituteName","disabled","assessmentName","Badge","bg","questionnaireName","accept","_e$target$files","file","files","name","reader","FileReader","onload","evt","_evt$target","result","workbook","XLSX","cellDates","sheetName","SheetNames","sheet","Sheets","jsonData","defval","raw","headers","autoMap","header","readAsBinaryString","Button","handleApplyMapping","rollNumberHeader","_row$rollNumberHeader","rowErrors","rollNumber","answers","mqtSelections","fieldKey","excelHeader","cellVal","parts","qqIdStr","selectedIds","style","maxHeight","overflowY","border","position","top","zIndex","backgroundColor","color","width","_ref3","_Fragment","colSpan","currentHeader","isMapped","fontSize","handleFieldMapping","prev","updated","h","some","r","overflow","minWidth","col","_col$questionText","title","rowIdx","hasErrors","noRoll","join","handleRollNumberChange","rowIndex","hasAnswerError","includes","handleAnswerChange","rowsWithNoRoll","rowsWithErrors","window","confirm","students","_ref","optId","_ref2","instituteId","_error$response","status","message","response","studentsProcessed","matchSummary","matched","failed","errors","i","_err$rowIndex","JSON","stringify"],"sourceRoot":""}