"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[479],{44479:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var l=t(89078),n=t(72791),s=t(43504),r=t(45856),o=t(54710),i=t(43360),c=t(80184);const d=[{name:"google",label:"Google",options:{filter:!1,sort:!0}},{name:"googleData",label:"Google Email :",options:{filter:!0,sort:!1,display:!1}},{name:"name",label:"Name",options:{filter:!1,sort:!0}},{name:"rollno",label:"Roll No.",options:{filter:!1,sort:!0}},{name:"fathername",label:"Father Name",options:{filter:!1,sort:!0}},{name:"branch",label:"Branch :",options:{filter:!0,sort:!0}},{name:"batch",label:"Batch :",options:{filter:!0,sort:!1}},{name:"officialEmailAddress",label:"Official Email",options:{filter:!1,sort:!1}},{name:"details",label:"Details",options:{filter:!1,sort:!1}},{name:"statusData",label:"Status :",options:{filter:!0,sort:!1,display:!1}},{name:"status",label:"Status",options:{filter:!1,sort:!0}},{name:"email",label:"Email",options:{filter:!1,sort:!0}}];function m(){const[e,a]=(0,n.useState)(!1);var[t,m]=(0,n.useState)([]);const[g,b]=(0,n.useState)(!1);var[u,f]=(0,n.useState)([]);const[p,h]=(0,n.useState)("");(0,n.useEffect)(()=>{a(!0);try{(0,o.QF)().then(async e=>{console.log(e);r.default.unique(r.default.map(e.data,e=>e.course));var t=r.default.unique(r.default.map(e.data,e=>e.batch_id)),l=r.default.unique(r.default.map(e.data,e=>e.branch_id));const n=await(0,o.fU)(t),s=r.default.map(n,e=>e.data),i=await(0,o._z)(l),c=r.default.map(i,e=>e.data);r.default.each(e.data,e=>{e.batchData=r.default.find(s,a=>{if(a.batchId==e.batch_id)return a}).batchEnd,e.branchData=r.default.find(c,a=>{if(a.branchId==e.branch_id)return a}).branchName}),m(e.data),a(!1)}).catch(e=>{console.error(e),window.location.replace("/error")})}catch(e){console.error(e),window.location.replace("/error")}},[]);const N=r.default.map(t,e=>({google:e.google?e.google?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Email Genrated ",(0,c.jsx)("span",{className:"right align-middle ms-2"})]})})}):"":(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Email Not Genrated ",(0,c.jsx)("span",{className:"error align-middle ms-2"})]})}),googleData:e.google?"Genrated":"Not Genrated",name:e.firstName,rollno:e.collegeEnrollmentNumber,fathername:e.fatherName,branch:e.branchData,batch:e.batchData,details:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.rU,{to:{pathname:"/registrar/verification",search:"?collegeEnrollmentNumber="+e.collegeEnrollmentNumber},children:"View Details"})}),officialEmailAddress:(0,c.jsx)("input",{type:"text",className:"form-control form-control-solid",defaultValue:e.officialEmailAddress,onChange:e=>h(e.target.value),id:e.college_identification_number}),statusData:"SI"==e.generate?"Initial Registrations":"RA"==e.generate?"Registrar Accepted":"RR"==e.generate?"Registrar Rejected":"MS"==e.generate?"Mail Sent":"SU"==e.generate?"Student Updated":"",status:(0,c.jsxs)(c.Fragment,{children:["RA"==e.generate&&(0,c.jsx)("span",{className:"badge badge-light-success",children:"Accepted"}),"MS"==e.generate&&(0,c.jsx)("span",{className:"badge badge-light-success",children:"Mail Sent"}),"SU"==e.generate&&(0,c.jsx)("span",{className:"badge badge-light-warning",children:"Student Updated"}),"RR"==e.generate&&(0,c.jsx)("span",{className:"badge badge-light-danger",children:"Rejected"})]}),email:(0,c.jsxs)(c.Fragment,{children:[r.default.contains(u,e.collegeEnrollmentNumber)&&(0,c.jsxs)("button",{className:"btn btn-primary btn-lg btn-block",type:"button",disabled:!0,children:[(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."]}),!r.default.contains(u,e.collegeEnrollmentNumber)&&"RA"==e.generate&&null==e.officialEmailAddress&&(0,c.jsxs)(i.Z,{type:"submit",onClick:()=>{const a=[...u,e.collegeEnrollmentNumber];f(a),(0,o.tk)(e.collegeEnrollmentNumber).then(a=>{const t=u.filter(a=>a!==e.collegeEnrollmentNumber);f(t),console.log(u)})},className:"btn btn-sm btn-primary p-2",children:[" ","Send Welcome Mail"]}),!r.default.contains(u,e.collegeEnrollmentNumber)&&null!=e.officialEmailAddress&&"RR"!=e.generate&&(0,c.jsxs)(i.Z,{type:"submit",onClick:()=>{const a=[...u,e.collegeEnrollmentNumber];f(a),(0,o.Rw)(e.collegeEnrollmentNumber).then(()=>{const a=u.filter(a=>a!==e.collegeEnrollmentNumber);f(a),console.log(u)})},className:"btn btn-sm btn-primary p-2",children:[" ","Send ID Again"]}),!r.default.contains(u,e.collegeEnrollmentNumber)&&null!=e.officialEmailAddress&&"RR"==e.generate&&(0,c.jsxs)(i.Z,{type:"submit",onClick:()=>{const a=[...u,e.collegeEnrollmentNumber];f(a),(0,o.Rw)(e.collegeEnrollmentNumber).then(()=>{const a=u.filter(a=>a!==e.collegeEnrollmentNumber);f(a)})},className:"btn btn-sm btn-primary p-2",children:[" ","Send Reminder"]})]})}));return(0,c.jsxs)(c.Fragment,{children:[e&&(0,c.jsx)("div",{className:"card p-8 mb-10 mt-5",children:(0,c.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,c.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})}),(0,c.jsx)(i.Z,{onClick:()=>{(0,o.kD)().then(e=>{console.log(e)})},children:"Click Me"}),!e&&(0,c.jsx)(l.ZP,{className:"p-8 mb-10 mt-5",title:"Registrations List",data:N,columns:d,options:{filterType:"checkbox",setRowProps:e=>({style:{backgroundColor:"SU"===e[6]?"#FFF8DD":"#ffffff"}})}})]})}}}]);
//# sourceMappingURL=479.1ddee9bb.chunk.js.map