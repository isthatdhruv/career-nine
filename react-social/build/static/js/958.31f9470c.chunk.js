"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[958],{15110:(e,s,t)=>{t.d(s,{Kk:()=>o,Pm:()=>l,XM:()=>i,bR:()=>d,eF:()=>u,zV:()=>m,zW:()=>c});var n=t(74569),a=t.n(n);const r="https://api.career-9.com";function l(e){return a().post("".concat(r,"/assessment-mapping/create"),e)}function o(e){return a().get("".concat(r,"/assessment-mapping/getByInstitute/").concat(e))}function i(e,s){return a().put("".concat(r,"/assessment-mapping/update/").concat(e),s)}function c(e){return a().delete("".concat(r,"/assessment-mapping/delete/").concat(e))}function d(){return a().get("".concat(r,"/assessments/get/list-summary"))}function u(e){return a().get("".concat(r,"/assessment-mapping/public/info/").concat(e))}function m(e,s){return a().post("".concat(r,"/assessment-mapping/public/register/").concat(e),s)}},94958:(e,s,t)=>{t.r(s),t.d(s,{default:()=>M});var n=t(1413),a=t(72791),r=t(4437),l=t(24849),o=t(45736),i=t(43360),c=t(3593),d=t(45987),u=t(95627),m=t.n(u),h=t(80239),p=t(52134),x=t(69311),g=t(10162),b=t(72709),f=t(80473),v=t(27472),j=t(4462),N=t(80184);const w=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],y=(0,v.Z)("h4");y.displayName="DivStyledAsH4";const S=(0,j.Z)("alert-heading",{Component:y}),I=(0,j.Z)("alert-link",{Component:x.Z}),k={variant:"primary",show:!0,transition:b.Z,closeLabel:"Close alert"},Z=a.forwardRef((e,s)=>{const t=(0,h.Ch)(e,{show:"onClose"}),{bsPrefix:a,show:r,closeLabel:l,closeVariant:o,className:i,children:c,variant:u,onClose:x,dismissible:v,transition:j}=t,y=(0,d.Z)(t,w),S=(0,g.vE)(a,"alert"),I=(0,p.Z)(e=>{x&&x(!1,e)}),k=!0===j?b.Z:j,Z=(0,N.jsxs)("div",(0,n.Z)((0,n.Z)({role:"alert"},k?void 0:y),{},{ref:s,className:m()(i,S,u&&"".concat(S,"-").concat(u),v&&"".concat(S,"-dismissible")),children:[v&&(0,N.jsx)(f.Z,{onClick:I,"aria-label":l,variant:o}),c]}));return k?(0,N.jsx)(k,(0,n.Z)((0,n.Z)({unmountOnExit:!0},y),{},{ref:void 0,in:r,children:Z})):r?Z:null});Z.displayName="Alert",Z.defaultProps=k;const C=Object.assign(Z,{Link:I,Heading:S});var q=t(34045),Q=t(54624),H=t(15110),F=t(74569),D=t.n(F),E=t(14741);const L="https://api.career-9.com";function R(e){return D().post("".concat(L,"/assessment-answer/bulk-submit"),e)}const _=[{key:"name",label:"Name",match:["name","student name","student_name"]},{key:"schoolRollNumber",label:"Roll Number",match:["roll","rollno","roll_number","roll number","roll no"]},{key:"phoneNumber",label:"Phone Number",match:["phone","mobile","contact","phone number","phonenumber"]},{key:"email",label:"Email",match:["email","mail","e-mail"]},{key:"studentDob",label:"Date of Birth",match:["dob","birth","date_of_birth","date of birth","dateofbirth"]},{key:"gender",label:"Gender",match:["gender","sex"]},{key:"studentClass",label:"Class",match:["class","grade","standard"]},{key:"address",label:"Address",match:["address","addr"]},{key:"sibling",label:"Siblings",match:["sibling","siblings"]},{key:"family",label:"Family",match:["family"]},{key:"schoolBoard",label:"School Board",match:["board","school board","schoolboard"]}],A=e=>{if(!e)return"";let s;if("number"===typeof e)s=new Date(86400*(e-25569)*1e3);else{const t=Date.parse(e);isNaN(t)||(s=new Date(t))}return s&&!isNaN(s.getTime())?"".concat(String(s.getDate()).padStart(2,"0"),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(s.getFullYear()):String(e)},M=()=>{var e,s,t;const[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(""),[p,x]=(0,a.useState)([]),[g,b]=(0,a.useState)(""),[f,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[y,S]=(0,a.useState)(null),[I,k]=(0,a.useState)(!1),[Z,F]=(0,a.useState)(!1),[M,z]=(0,a.useState)([]),[P,T]=(0,a.useState)([]),[B,O]=(0,a.useState)({}),[U,W]=(0,a.useState)({}),[V,K]=(0,a.useState)(!1),[Y,G]=(0,a.useState)([]),[X,$]=(0,a.useState)(""),J=(0,a.useRef)(null),[ee,se]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(null),[ae,re]=(0,a.useState)(null);(0,a.useEffect)(()=>{le()},[]);const le=async()=>{v(!0);try{const e=await(0,Q.hi)();u(e.data||[])}catch(e){console.error("Failed to load institutes:",e)}finally{v(!1)}};(0,a.useEffect)(()=>{m?oe(Number(m)):(x([]),b(""),S(null),ce())},[m]);const oe=async e=>{w(!0),b(""),S(null),ce();try{const[s,t]=await Promise.all([(0,H.Kk)(e),(0,H.bR)()]),n=s.data||[],a=t.data||[],r=new Set(n.map(e=>e.assessmentId)),l=a.filter(e=>r.has(e.id));x(l)}catch(s){console.error("Failed to load assessments:",s)}finally{w(!1)}};(0,a.useEffect)(()=>{g?ie(Number(g)):(S(null),ce())},[g]);const ie=async e=>{k(!0),ce();try{const s=await function(e){return D().get("".concat(L,"/assessment-answer/offline-mapping/").concat(e))}(e);S(s.data)}catch(s){console.error("Failed to load mapping:",s),alert("Failed to load assessment mapping. Make sure the assessment has a linked questionnaire.")}finally{k(!1)}},ce=()=>{G([]),$(""),z([]),T([]),O({}),W({}),K(!1),ne(null),re(null),J.current&&(J.current.value="")};(0,a.useEffect)(()=>{ce()},[Z]);const de={};if(y)for(const n of y.questions)n.excelQuestionHeader&&(de[n.excelQuestionHeader]=n);const ue=p,me=(e,s)=>{if(null===e||void 0===e||""===e)return{optionId:null};const t=String(e).trim();if(""===t)return{optionId:null};const n=s.options;if(!n||0===n.length)return{optionId:null,error:"No options defined"};const a=Number(t);if(!isNaN(a)&&Number.isInteger(a)&&a>=1){const e=n.find(e=>e.sequence===a);return e?{optionId:e.optionId}:{optionId:null,error:"Sequence ".concat(a," out of range (max ").concat(n.length,")")}}const r=t.toUpperCase();if(/^[A-Z]$/.test(r)){const e=r.charCodeAt(0)-64,s=n.find(s=>s.sequence===e);return s?{optionId:s.optionId}:{optionId:null,error:"Letter ".concat(r," out of range (max ").concat(n.length," options)")}}const l=t.toLowerCase();if("yes"===l||"y"===l){const e=n.find(e=>1===e.sequence);return e?{optionId:e.optionId}:{optionId:null,error:"No first option for Yes"}}if("no"===l||"n"===l){const e=n.find(e=>2===e.sequence);return e?{optionId:e.optionId}:{optionId:null,error:"No second option for No"}}return{optionId:null,error:'Unrecognized value: "'.concat(t,'"')}},he=async()=>{const e=Y.filter(e=>null===e.userId||e.userIdError);if(e.length>0)return void alert("".concat(e.length," row(s) have invalid or missing userId. Please fix them before submitting."));const s=Y.filter(e=>Object.keys(e.errors).length>0);if(!(s.length>0)||window.confirm("".concat(s.length," row(s) have parsing errors. Cells with errors will be skipped. Continue?"))){se(!0),ne(null);try{const e=Y.map(e=>{const s=[];for(const t of y.questions){const n=t.excelQuestionHeader;if(!n)continue;const a=e.answers[n];null!==a&&void 0!==a&&s.push({questionnaireQuestionId:t.questionnaireQuestionId,optionId:a})}return{userStudentId:e.userId,answers:s}}),s=await R({assessmentId:y.assessmentId,students:e});ne(s.data)}catch(n){var t;console.error("Submit failed:",n),ne({status:"error",message:(null===(t=n.response)||void 0===t?void 0:t.data)||n.message})}finally{se(!1)}}},pe=async()=>{const e=Y.filter(e=>Object.keys(e.errors).length>0);if(e.length>0&&!window.confirm("".concat(e.length," row(s) have answer parsing errors. Those cells will be skipped. Continue?")))return;se(!0),ne(null);let s=0,t=0;const a=[],r=[...Y];re({phase:"Creating students",current:0,total:Y.length});for(let b=0;b<r.length;b++){const e=r[b],u=(0,n.Z)((0,n.Z)({},e.studentData||{}),{},{instituteId:Number(m),assesment_id:String(g)});u.studentClass&&(u.studentClass=Number(u.studentClass)),u.sibling&&(u.sibling=Number(u.sibling)),u.phoneNumber&&(u.phoneNumber=Number(u.phoneNumber));try{var l,o,i;const t=(await(0,E.eB)(u)).data,a=null!==(l=null!==(o=null===(i=t.userStudent)||void 0===i?void 0:i.userStudentId)&&void 0!==o?o:t.userStudentId)&&void 0!==l?l:t.id;r[b]=(0,n.Z)((0,n.Z)({},e),{},{userId:a}),s++}catch(x){var c,d;console.error("Failed to create student row ".concat(b+1,":"),x),r[b]=(0,n.Z)((0,n.Z)({},e),{},{userId:null}),t++,a.push({row:b+1,error:(null===(c=x.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||x.message||"Unknown error"})}re({phase:"Creating students",current:b+1,total:Y.length})}G(r);const u=r.filter(e=>null!==e.userId);let h=null;if(u.length>0){re({phase:"Submitting answers",current:0,total:1});const e=u.map(e=>{const s=[];for(const t of y.questions){const n=t.excelQuestionHeader;if(!n)continue;const a=e.answers[n];null!==a&&void 0!==a&&s.push({questionnaireQuestionId:t.questionnaireQuestionId,optionId:a})}return{userStudentId:e.userId,answers:s}});try{h=(await R({assessmentId:y.assessmentId,students:e})).data}catch(x){var p;console.error("Bulk answer submission failed:",x),h={status:"error",message:(null===(p=x.response)||void 0===p?void 0:p.data)||x.message}}}re(null),ne({status:"success",createStudentsMode:!0,studentsCreated:s,studentsFailed:t,failedDetails:a,answersResult:h}),se(!1)},xe=y?y.questions.filter(e=>e.excelQuestionHeader):[],ge=Z?_.filter(e=>B[e.key]):[],be=Object.values(B).filter(Boolean).length,fe=be+Object.values(U).filter(Boolean).length,ve=_.length+xe.length;return(0,N.jsxs)("div",{className:"card",children:[(0,N.jsx)("div",{className:"card-header",children:(0,N.jsx)("h3",{className:"card-title",children:"Offline Assessment Data Upload"})}),(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsxs)("div",{className:"card card-body bg-light mb-4",children:[(0,N.jsx)("h6",{className:"mb-3",children:"Select School & Assessment"}),(0,N.jsxs)("div",{className:"row g-3 align-items-end",children:[(0,N.jsxs)("div",{className:"col-md-5",children:[(0,N.jsx)(r.Z.Label,{children:"School / Institute"}),f?(0,N.jsxs)("div",{children:[(0,N.jsx)(l.Z,{animation:"border",size:"sm"})," Loading..."]}):(0,N.jsxs)(r.Z.Select,{value:m,onChange:e=>h(e.target.value),children:[(0,N.jsx)("option",{value:"",children:"Select an institute..."}),d.map(e=>(0,N.jsx)("option",{value:e.instituteCode,children:e.instituteName},e.instituteCode))]})]}),(0,N.jsxs)("div",{className:"col-md-5",children:[(0,N.jsx)(r.Z.Label,{children:"Assessment"}),j?(0,N.jsxs)("div",{children:[(0,N.jsx)(l.Z,{animation:"border",size:"sm"})," Loading..."]}):(0,N.jsxs)(r.Z.Select,{value:g,onChange:e=>b(e.target.value),disabled:!m,children:[(0,N.jsx)("option",{value:"",children:"Select an assessment..."}),ue.map(e=>(0,N.jsx)("option",{value:e.id,children:e.assessmentName},e.id))]})]}),(0,N.jsx)("div",{className:"col-md-2",children:I&&(0,N.jsx)(l.Z,{animation:"border",size:"sm",className:"ms-2"})})]}),y&&(0,N.jsxs)("div",{className:"mt-3",children:[(0,N.jsxs)(o.Z,{bg:"success",className:"me-2",children:["Questionnaire: ",y.questionnaireName]}),(0,N.jsxs)(o.Z,{bg:"info",children:[y.questions.length," questions mapped"]})]})]}),y&&(0,N.jsxs)("div",{className:"card card-body bg-light mb-4",children:[(0,N.jsx)("h6",{className:"mb-3",children:"Upload Mode"}),(0,N.jsxs)("div",{className:"d-flex gap-4",children:[(0,N.jsx)(r.Z.Check,{type:"radio",id:"mode-existing",name:"uploadMode",label:"Students already exist (userId required)",checked:!Z,onChange:()=>F(!1)}),(0,N.jsx)(r.Z.Check,{type:"radio",id:"mode-create",name:"uploadMode",label:"Create new students from Excel",checked:Z,onChange:()=>F(!0)})]})]}),y&&(0,N.jsxs)("div",{className:"card card-body bg-light mb-4",children:[(0,N.jsx)("h6",{className:"mb-3",children:"Template & Upload"}),(0,N.jsxs)("div",{className:"row g-3 align-items-end",children:[(0,N.jsx)("div",{className:"col-md-4",children:(0,N.jsxs)(i.Z,{variant:"outline-primary",onClick:()=>{if(!y)return;const e=[];if(Z)for(const n of _)e.push(n.label);else e.push("userId");for(const n of y.questions)n.excelQuestionHeader&&e.push(n.excelQuestionHeader);const s=q.utils.aoa_to_sheet([e]),t=q.utils.book_new();q.utils.book_append_sheet(t,s,"Data"),q.writeFile(t,"offline_template_".concat(y.assessmentName.replace(/\s+/g,"_"),".xlsx"))},children:[(0,N.jsx)("i",{className:"bi bi-download me-2"}),"Download Excel Template"]})}),(0,N.jsxs)("div",{className:"col-md-6",children:[(0,N.jsx)(r.Z.Label,{children:"Upload Filled Excel"}),(0,N.jsx)(r.Z.Control,{type:"file",accept:".xlsx,.xls",ref:J,onChange:e=>{var s;const t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!t||!y)return;$(t.name),ne(null),re(null),K(!1);const n=new FileReader;n.onload=e=>{var s;const t=null===(s=e.target)||void 0===s?void 0:s.result,n=q.read(t,{type:"binary"}),a=n.SheetNames[0],r=n.Sheets[a],l=q.utils.sheet_to_json(r,{defval:""});if(0!==l.length)if(Z){const e=Object.keys(l[0]);z(e),T(l),G([]),(e=>{const s=e.map(e=>e.toLowerCase().trim()),t={};for(const a of _)for(let n=0;n<e.length;n++){const r=s[n];if(a.match.some(e=>r===e||r.includes(e))){t[a.key]=e[n];break}}O(t);const n={};if(y)for(const a of y.questions){const t=a.excelQuestionHeader;if(!t)continue;const r=t.toLowerCase().trim();for(let a=0;a<e.length;a++)if(s[a]===r||e[a]===t){n[t]=e[a];break}}W(n)})(e)}else{const e=l.map(e=>{const s=void 0!==e.userId&&""!==e.userId?Number(e.userId):null,t={},n={};for(const a of y.questions){const s=a.excelQuestionHeader;if(!s)continue;const r=e[s],l=me(r,a);t[s]=l.optionId,l.error&&(n[s]=l.error)}return{userId:s,answers:t,errors:n,userIdError:null===s?"Missing userId":void 0}});G(e)}else alert("The Excel file is empty or has no data rows.")},n.readAsBinaryString(t)}})]}),(0,N.jsx)("div",{className:"col-md-2",children:X&&(0,N.jsx)("small",{className:"text-muted",children:X})})]})]}),Z&&M.length>0&&!V&&(0,N.jsxs)("div",{className:"card card-body bg-light mb-4",children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,N.jsxs)("h6",{className:"mb-0",children:["Map Excel Columns"," ",(0,N.jsxs)(o.Z,{bg:"secondary",className:"ms-2",children:[fe," / ",ve," mapped"]})]}),(0,N.jsx)(i.Z,{variant:"primary",onClick:()=>{if(!y||0===P.length)return;const e=P.map(e=>{const s={};for(const a of _){const t=B[a.key];t&&null!=e[t]&&""!==e[t]&&(s[a.key]="studentDob"===a.key?A(e[t]):String(e[t]))}const t={},n={};for(const a of y.questions){const s=a.excelQuestionHeader;if(!s)continue;const r=U[s];if(!r){t[s]=null;continue}const l=e[r],o=me(l,a);t[s]=o.optionId,o.error&&(n[s]=o.error)}return{userId:null,studentData:s,answers:t,errors:n}});G(e),K(!0)},disabled:0===be,children:"Apply Mapping & Preview"})]}),(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)("h6",{className:"text-muted border-bottom pb-2",children:"Student Fields"}),(0,N.jsx)("div",{className:"row g-3",children:_.map(e=>(0,N.jsxs)("div",{className:"col-md-4",children:[(0,N.jsx)(r.Z.Label,{className:"mb-1 small fw-bold",children:e.label}),(0,N.jsxs)(r.Z.Select,{size:"sm",value:B[e.key]||"",onChange:s=>O(t=>(0,n.Z)((0,n.Z)({},t),{},{[e.key]:s.target.value})),children:[(0,N.jsx)("option",{value:"",children:"-- not mapped --"}),M.map(e=>(0,N.jsx)("option",{value:e,children:e},e))]})]},e.key))})]}),xe.length>0&&(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{className:"text-muted border-bottom pb-2",children:"Question Answers"}),(0,N.jsx)("div",{className:"row g-3",children:xe.map(e=>(0,N.jsxs)("div",{className:"col-md-4",children:[(0,N.jsxs)(r.Z.Label,{className:"mb-1 small fw-bold",title:e.questionText,children:[e.excelQuestionHeader,(0,N.jsxs)("span",{className:"text-muted fw-normal ms-1",style:{fontSize:"0.75rem"},children:["(",e.questionText.length>40?e.questionText.substring(0,40)+"...":e.questionText,")"]})]}),(0,N.jsxs)(r.Z.Select,{size:"sm",value:U[e.excelQuestionHeader]||"",onChange:s=>W(t=>(0,n.Z)((0,n.Z)({},t),{},{[e.excelQuestionHeader]:s.target.value})),children:[(0,N.jsx)("option",{value:"",children:"-- not mapped --"}),M.map(e=>(0,N.jsx)("option",{value:e,children:e},e))]})]},e.excelQuestionHeader))})]})]}),Z&&V&&Y.length>0&&(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsx)(i.Z,{variant:"outline-secondary",size:"sm",onClick:()=>{K(!1),G([])},children:"Back to Column Mapping"})}),Y.length>0&&y&&(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsxs)("h6",{className:"mb-3",children:["Preview (",Y.length," students)",Y.some(e=>Object.keys(e.errors).length>0)&&(0,N.jsx)(o.Z,{bg:"warning",className:"ms-2",children:"Has errors"})]}),(0,N.jsx)("div",{className:"table-responsive",style:{maxHeight:"500px"},children:(0,N.jsxs)("table",{className:"table table-bordered table-sm table-hover",children:[(0,N.jsx)("thead",{className:"table-dark",style:{position:"sticky",top:0},children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{style:{minWidth:"50px"},children:"#"}),Z?(0,N.jsx)(N.Fragment,{children:ge.map(e=>(0,N.jsx)("th",{style:{minWidth:"120px"},children:e.label},e.key))}):(0,N.jsx)("th",{style:{minWidth:"120px"},children:"userId"}),xe.map(e=>(0,N.jsx)("th",{style:{minWidth:"150px"},title:e.questionText,children:e.excelQuestionHeader},e.excelQuestionHeader))]})}),(0,N.jsx)("tbody",{children:Y.map((e,s)=>{var t;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:s+1}),Z?(0,N.jsx)(N.Fragment,{children:ge.map(s=>{var t;return(0,N.jsx)("td",{children:(null===(t=e.studentData)||void 0===t?void 0:t[s.key])||""},s.key)})}):(0,N.jsx)("td",{className:e.userIdError?"table-danger":"",children:(0,N.jsx)("input",{type:"number",className:"form-control form-control-sm",value:null!==(t=e.userId)&&void 0!==t?t:"",onChange:e=>{return t=s,a=e.target.value,void G(e=>{const s=[...e],r=""===a?null:Number(a);return s[t]=(0,n.Z)((0,n.Z)({},s[t]),{},{userId:r,userIdError:null===r||isNaN(r)?"Invalid userId":void 0}),s});var t,a},style:{width:"100px"}})}),xe.map(t=>{const a=t.excelQuestionHeader,r=e.answers[a],l=!!e.errors[a],o=null===r&&!l;return(0,N.jsx)("td",{className:l?"table-danger":o?"table-warning":"",title:e.errors[a]||"",children:(0,N.jsxs)("select",{className:"form-select form-select-sm",value:null!==r&&void 0!==r?r:"",onChange:e=>((e,s,t)=>{G(a=>{const r=[...a],l=(0,n.Z)({},r[e]);l.answers=(0,n.Z)((0,n.Z)({},l.answers),{},{[s]:t});const o=(0,n.Z)({},l.errors);return delete o[s],l.errors=o,r[e]=l,r})})(s,a,""===e.target.value?null:Number(e.target.value)),children:[(0,N.jsx)("option",{value:"",children:"-- Skip --"}),t.options.map(e=>(0,N.jsx)("option",{value:e.optionId,children:e.optionText},e.optionId))]})},a)})]},s)})})]})})]}),Y.length>0&&y&&(0,N.jsxs)("div",{className:"card card-body bg-light",children:[ee&&ae&&(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,N.jsxs)("small",{className:"fw-bold",children:[ae.phase,"..."]}),(0,N.jsxs)("small",{children:[ae.current," / ",ae.total]})]}),(0,N.jsx)(c.Z,{now:ae.total>0?ae.current/ae.total*100:0,animated:!0,striped:!0})]}),(0,N.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,N.jsx)(i.Z,{variant:"success",size:"lg",onClick:async()=>{y&&0!==Y.length&&(Z?await pe():await he())},disabled:ee,children:ee?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.Z,{animation:"border",size:"sm",className:"me-2"}),Z?"Processing...":"Submitting..."]}):(0,N.jsx)(N.Fragment,{children:Z?"Create Students & Submit (".concat(Y.length," rows)"):"Submit All (".concat(Y.length," students)")})}),te&&te.createStudentsMode&&(0,N.jsxs)(C,{variant:te.studentsFailed>0?"warning":"success",className:"mb-0 flex-grow-1",children:[(0,N.jsx)("strong",{children:te.studentsCreated})," student(s) created.",te.studentsFailed>0&&(0,N.jsxs)("span",{className:"text-danger ms-2",children:[te.studentsFailed," failed."]}),(null===(e=te.failedDetails)||void 0===e?void 0:e.length)>0&&(0,N.jsx)("div",{className:"mt-1",children:te.failedDetails.map((e,s)=>(0,N.jsxs)("div",{className:"text-danger small",children:["Row ",e.row,": ",e.error]},s))}),te.answersResult&&(0,N.jsx)("div",{className:"mt-1",children:"success"===te.answersResult.status?(0,N.jsxs)("span",{className:"text-success",children:["Answers submitted for"," ",(0,N.jsx)("strong",{children:te.answersResult.studentsProcessed})," student(s).",(null===(s=te.answersResult.errors)||void 0===s?void 0:s.length)>0&&(0,N.jsxs)("span",{className:"text-danger ms-2",children:[te.answersResult.errors.length," answer error(s)."]})]}):(0,N.jsxs)("span",{className:"text-danger",children:["Answer submission failed: ",te.answersResult.message]})})]}),te&&!te.createStudentsMode&&"success"===te.status&&(0,N.jsxs)(C,{variant:"success",className:"mb-0 flex-grow-1",children:["Successfully processed"," ",(0,N.jsx)("strong",{children:te.studentsProcessed})," students.",(null===(t=te.errors)||void 0===t?void 0:t.length)>0&&(0,N.jsxs)("span",{className:"text-danger ms-2",children:[te.errors.length," error(s):",te.errors.map((e,s)=>(0,N.jsxs)("div",{children:["Student ",e.userStudentId,": ",e.error]},s))]})]}),te&&!te.createStudentsMode&&"error"===te.status&&(0,N.jsxs)(C,{variant:"danger",className:"mb-0 flex-grow-1",children:["Submission failed: ",te.message]})]})]})]})]})}}}]);
//# sourceMappingURL=958.31f9470c.chunk.js.map