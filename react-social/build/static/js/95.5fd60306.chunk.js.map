{"version":3,"file":"static/js/95.5fd60306.chunk.js","mappings":"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","sources":["app/pages/AssessmentMapping/API/AssessmentMapping_APIs.ts","app/pages/College/components/CollegeInfoModal.tsx","app/pages/College/components/CollegeAssignRoleModal.tsx","app/pages/College/components/CollegeSectionSessionGradeModal.tsx","app/pages/College/components/AssessmentMappingModal.tsx","app/pages/College/components/CollegeTable.tsx","app/pages/College/components/StudentUploadModal.tsx","app/pages/College/CollegePage.tsx","app/pages/College/components/CollegeEditModal.tsx","../node_modules/react-bootstrap-v5/lib/esm/createChainedFunction.js","../node_modules/react-bootstrap-v5/lib/esm/SafeAnchor.js","../node_modules/react-bootstrap-v5/lib/esm/Button.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// ============ ADMIN APIs ============\n\nexport function createAssessmentMapping(data: {\n  assessmentId: number;\n  instituteCode: number;\n  mappingLevel: string;\n  sessionId?: number;\n  classId?: number;\n  sectionId?: number;\n}) {\n  return axios.post(`${API_URL}/assessment-mapping/create`, data);\n}\n\nexport function getAssessmentMappingsByInstitute(instituteCode: number) {\n  return axios.get(\n    `${API_URL}/assessment-mapping/getByInstitute/${instituteCode}`\n  );\n}\n\nexport function updateAssessmentMapping(\n  id: number,\n  data: { isActive: boolean }\n) {\n  return axios.put(`${API_URL}/assessment-mapping/update/${id}`, data);\n}\n\nexport function deleteAssessmentMapping(id: number) {\n  return axios.delete(`${API_URL}/assessment-mapping/delete/${id}`);\n}\n\n// Lightweight: only id, assessmentName, isActive (no questionnaire cascade)\nexport function getAssessmentSummaryList() {\n  return axios.get(`${API_URL}/assessments/get/list-summary`);\n}\n\n// ============ PUBLIC APIs ============\n\nexport function getMappingInfoByToken(token: string) {\n  return axios.get(`${API_URL}/assessment-mapping/public/info/${token}`);\n}\n\nexport function registerStudentByToken(\n  token: string,\n  studentData: {\n    name: string;\n    email: string;\n    dob: string;\n    phone: string;\n    gender: string;\n    classId?: number;\n    schoolSectionId?: number;\n  }\n) {\n  return axios.post(\n    `${API_URL}/assessment-mapping/public/register/${token}`,\n    studentData\n  );\n}\n","// CollegeInfoModal.tsx\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap-v5\";\nimport UseAnimations from \"react-useanimations\";\nimport menu2 from \"react-useanimations/lib/menu2\";\nimport { MapContactsAndBoards, GetInstituteMappings, UpdateCollegeData } from \"../API/College_APIs\";\nimport { ReadBoardData } from \"../../Board/API/Board_APIs\";\nimport { ReadContactInformationData } from \"../../ContactPerson/API/Contact_Person_APIs\";\n\ntype ContactPerson = {\n  id?: string;\n  name?: string;\n  email?: string;\n  phone?: string;\n  gender?: string;\n  designation?: string;\n};\n\ntype Board = {\n  id?: string | number;\n  boardName?: string;\n  name?: string;\n  [key: string]: any;\n};\n\ntype CollegeDataForModal = {\n  instituteCode?: string;\n  contactPersons?: ContactPerson[];\n  maxClass?: number | string;\n  [key: string]: any;\n};\n\ntype Props = {\n  show: boolean;\n  onHide: (v?: boolean) => void;\n  setPageLoading: (v: any) => void;\n  data?: CollegeDataForModal;\n};\n\nconst CollegeInfoModal = (props: Props) => {\n  const [loading, setLoading] = useState(false);\n\n  const [availableContacts, setAvailableContacts] = useState<ContactPerson[]>([]);\n  const [selectedContactIndexes, setSelectedContactIndexes] = useState<number[]>([]);\n  const [contactDropdownOpen, setContactDropdownOpen] = useState(false);\n\n  const [availableBoards, setAvailableBoards] = useState<Board[]>([]);\n  const [selectedBoardIndexes, setSelectedBoardIndexes] = useState<number[]>([]);\n  const [boardDropdownOpen, setBoardDropdownOpen] = useState(false);\n\n  //  Step 3: max class state\n  const [maxClass, setMaxClass] = useState<number | null>(null);\n\n  useEffect(() => {\n    if (!props.show) return;\n\n    const instituteCode = props.data?.instituteCode;\n\n    // Fetch all contacts, all boards, and existing mappings in parallel\n    const fetchData = async () => {\n      try {\n        const [contactsRes, boardsRes, mappingsRes] = await Promise.all([\n          ReadContactInformationData(),\n          ReadBoardData(),\n          instituteCode\n            ? GetInstituteMappings(instituteCode).catch(() => null)\n            : Promise.resolve(null),\n        ]);\n\n        // Parse contacts\n        const rawContacts: any[] =\n          (contactsRes as any)?.data?.data ??\n          (contactsRes as any)?.data?.contacts ??\n          (contactsRes as any)?.data ??\n          [];\n        const contacts: ContactPerson[] = rawContacts.filter(\n          (c) => c && (c.name || c.email || c.phone || c.designation)\n        );\n        setAvailableContacts(contacts);\n\n        // Parse boards\n        const rawBoards: any[] =\n          (boardsRes as any)?.data?.data ??\n          (boardsRes as any)?.data?.boards ??\n          (boardsRes as any)?.data ??\n          [];\n        const boards: Board[] = rawBoards.filter(\n          (b) =>\n            b &&\n            (typeof b.boardName === \"string\" ||\n              typeof b.name === \"string\" ||\n              typeof b.id !== \"undefined\")\n        );\n        setAvailableBoards(boards);\n\n        // Pre-select contacts and boards from existing mappings\n        const mappedContacts: any[] = mappingsRes?.data?.contactPersons ?? [];\n        const mappedBoards: any[] = mappingsRes?.data?.boards ?? [];\n\n        // Pre-select contacts\n        const preSelectedContacts: number[] = [];\n        contacts.forEach((contact, index) => {\n          const match = mappedContacts.find(\n            (mc: any) =>\n              (mc.id && contact.id && String(mc.id) === String(contact.id)) ||\n              (mc.email && contact.email && mc.email === contact.email)\n          );\n          if (match) preSelectedContacts.push(index);\n        });\n        setSelectedContactIndexes(preSelectedContacts);\n\n        // Pre-select boards\n        const preSelectedBoards: number[] = [];\n        boards.forEach((board, index) => {\n          const match = mappedBoards.find(\n            (mb: any) => mb.id !== undefined && board.id !== undefined && String(mb.id) === String(board.id)\n          );\n          if (match) preSelectedBoards.push(index);\n        });\n        setSelectedBoardIndexes(preSelectedBoards);\n      } catch (err) {\n        console.error(\"Failed to load data:\", err);\n        setAvailableContacts([]);\n        setAvailableBoards([]);\n        setSelectedContactIndexes([]);\n        setSelectedBoardIndexes([]);\n      }\n    };\n\n    fetchData();\n\n    // Initialize maxClass from props (if present)\n    if (props.data?.maxClass !== undefined && props.data?.maxClass !== null) {\n      const num = Number(props.data.maxClass);\n      if (!isNaN(num) && num >= 1 && num <= 12) {\n        setMaxClass(num);\n      } else {\n        setMaxClass(null);\n      }\n    } else {\n      setMaxClass(null);\n    }\n  }, [props.show, props.data]);\n\n  const toggleContactSelection = (index: number) => {\n    setSelectedContactIndexes((prev) =>\n      prev.includes(index) ? prev.filter((i) => i !== index) : [...prev, index]\n    );\n  };\n\n  const isContactSelected = (index: number) => selectedContactIndexes.includes(index);\n\n  const toggleBoardSelection = (index: number) => {\n    setSelectedBoardIndexes((prev) =>\n      prev.includes(index) ? prev.filter((i) => i !== index) : [...prev, index]\n    );\n  };\n\n  const isBoardSelected = (index: number) => selectedBoardIndexes.includes(index);\n\n  const handleMaxClassChange = (value: string) => {\n    if (value === \"\") {\n      setMaxClass(null);\n      return;\n    }\n    let num = Number(value);\n    if (isNaN(num)) return;\n    if (num < 1) num = 1;\n    if (num > 12) num = 12;\n    setMaxClass(num);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!props.data || !props.data.instituteCode) {\n      props.onHide();\n      return;\n    }\n\n    const contactPersonIds = selectedContactIndexes\n      .map((i) => availableContacts[i]?.id)\n      .filter((id) => id !== undefined)\n      .map((id) => Number(id));\n\n    const boardIds = selectedBoardIndexes\n      .map((i) => availableBoards[i]?.id)\n      .filter((id) => id !== undefined)\n      .map((id) => Number(id));\n\n    setLoading(true);\n    try {\n      // Save contact person and board mappings via dedicated endpoint\n      await MapContactsAndBoards(props.data.instituteCode, contactPersonIds, boardIds);\n\n      // Update maxClass via the existing institute update endpoint\n      if (maxClass !== null) {\n        await UpdateCollegeData({\n          ...props.data,\n          maxClass,\n        });\n      }\n\n      props.setPageLoading([\"true\"]);\n      props.onHide(false);\n    } catch (error) {\n      console.error(\"Mapping failed\", error);\n      window.location.replace(\"/error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getBoardLabel = (board: Board) =>\n    board.boardName ?? board.name ?? (board.id !== undefined ? String(board.id) : \"Board\");\n\n  const selectedContactList = selectedContactIndexes.map((i) => availableContacts[i]);\n  const selectedBoardList = selectedBoardIndexes.map((i) => availableBoards[i]);\n\n  //  Step 2 should only be usable after Step 1 has at least one selection\n  const isStep2Enabled = selectedContactIndexes.length > 0;\n\n  return (\n    <Modal\n      show={props.show}\n      onHide={() => props.onHide()}\n      centered\n      className=\"college-modal\"\n      aria-labelledby=\"college-info-modal-title\"\n    >\n      <Modal.Header className=\"border-0 pb-0\">\n        <div className=\"d-flex flex-column\">\n          <h3 id=\"college-info-modal-title\" className=\"mb-1 fw-bold\">\n            Map Board &amp; Contact Person(s)\n          </h3>\n          <span className=\"text-muted small\">\n            Link the institute with appropriate contact person(s), board(s) and max class.\n          </span>\n        </div>\n\n        <div\n          className=\"btn btn-sm btn-icon btn-light ms-3\"\n          onClick={() => props.onHide()}\n          style={{ cursor: \"pointer\" }}\n        >\n          <UseAnimations animation={menu2} size={24} strokeColor={\"#181C32\"} reverse />\n        </div>\n      </Modal.Header>\n\n      <form onSubmit={handleSubmit} className=\"form w-100\">\n        <Modal.Body className=\"pt-3\">\n          <div className=\"d-flex flex-column gap-4\">\n            {/* ====== STEP 1: CONTACT PERSONS ====== */}\n            <div className=\"card shadow-sm border-0\">\n              <div className=\"card-body\">\n                <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                  <div>\n                    <div className=\"badge bg-light text-dark mb-1\">Step 1</div>\n                    <h5 className=\"mb-0\">Select Contact Person(s)</h5>\n                    <small className=\"text-muted\">\n                      Choose one or more contact persons associated with this institute.\n                    </small>\n                  </div>\n                  {availableContacts.length > 0 && (\n                    <span className=\"badge bg-success-subtle text-success\">\n                      {selectedContactIndexes.length} selected\n                    </span>\n                  )}\n                </div>\n\n                <div className=\"mb-3\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-success dropdown-toggle d-flex align-items-center px-3 py-2\"\n                    onClick={() => setContactDropdownOpen((o) => !o)}\n                  >\n                    <span className=\"me-2\"></span>\n                    <span>\n                      {selectedContactIndexes.length > 0\n                        ? \"Edit selected contact person(s)\"\n                        : \"Select contact person(s)\"}\n                    </span>\n                  </button>\n\n                  <div\n                    className={`dropdown-menu mt-2 shadow-sm border-0 ${\n                      contactDropdownOpen ? \"show\" : \"\"\n                    }`}\n                    style={{\n                      maxHeight: \"260px\",\n                      overflowY: \"auto\",\n                      minWidth: \"320px\",\n                    }}\n                  >\n                    {availableContacts.length === 0 ? (\n                      <span className=\"dropdown-item-text text-muted fst-italic\">\n                        No contact persons found.\n                      </span>\n                    ) : (\n                      availableContacts.map((person, index) => {\n                        const initials =\n                          (person.name || \"\")\n                            .split(\" \")\n                            .map((p) => p[0])\n                            .join(\"\")\n                            .toUpperCase() || \"?\";\n\n                        return (\n                          <label\n                            key={person.id ?? `${person.email}-${index}`}\n                            className=\"dropdown-item d-flex align-items-start py-2\"\n                            style={{ cursor: \"pointer\" }}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              className=\"form-check-input me-3 mt-1\"\n                              checked={isContactSelected(index)}\n                              onChange={() => toggleContactSelection(index)}\n                            />\n                            <div className=\"d-flex align-items-start w-100\">\n                              <div\n                                className=\"rounded-circle d-flex align-items-center justify-content-center me-3\"\n                                style={{\n                                  width: 32,\n                                  height: 32,\n                                  background: \"#eef3ff\",\n                                  fontSize: 13,\n                                  fontWeight: 600,\n                                }}\n                              >\n                                {initials}\n                              </div>\n                              <div>\n                                <div className=\"fw-semibold\">\n                                  {person.name || \"Unnamed Contact\"}\n                                </div>\n                                <div className=\"text-muted small\">\n                                  {person.email && <span>{person.email}</span>}\n                                  {person.phone && (\n                                    <span>\n                                      {\" \"}\n                                      {person.email ? \"  \" : \"\"}\n                                      {person.phone}\n                                    </span>\n                                  )}\n                                </div>\n                                {(person.gender || person.designation) && (\n                                  <div className=\"small text-muted\">\n                                    {[person.gender, person.designation]\n                                      .filter(Boolean)\n                                      .join(\"  \")}\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n                          </label>\n                        );\n                      })\n                    )}\n                  </div>\n                </div>\n\n                {selectedContactList.length > 0 && (\n                  <div>\n                    <div className=\"text-muted small mb-1\">Selected contact(s):</div>\n                    <div className=\"d-flex flex-wrap gap-2\">\n                      {selectedContactList.map((person, idx) => (\n                        <span\n                          key={person.id ?? `${person.email}-chip-${idx}`}\n                          className=\"badge bg-light text-dark border\"\n                        >\n                          {person.name || \"Unnamed Contact\"}\n                          {person.designation && (\n                            <span className=\"text-muted ms-1 small\">\n                              ({person.designation})\n                            </span>\n                          )}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* ====== STEP 2: BOARDS ====== */}\n            <div\n              className={`card shadow-sm border-0 ${\n                !isStep2Enabled ? \"opacity-75\" : \"\"\n              }`}\n            >\n              <div className=\"card-body\">\n                <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                  <div>\n                    <div className=\"badge bg-light text-dark mb-1\">Step 2</div>\n                    <h5 className=\"mb-0\">Select Board(s)</h5>\n                    <small className=\"text-muted\">\n                      Map this institute to one or more education boards.\n                      {!isStep2Enabled && (\n                        <span className=\"text-danger ms-1\">\n                          (Select at least one contact person in Step 1 first)\n                        </span>\n                      )}\n                    </small>\n                  </div>\n                  {availableBoards.length > 0 && isStep2Enabled && (\n                    <span className=\"badge bg-primary-subtle text-primary\">\n                      {selectedBoardIndexes.length} selected\n                    </span>\n                  )}\n                </div>\n\n                <div className=\"mb-3\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary dropdown-toggle d-flex align-items-center px-3 py-2\"\n                    onClick={() => {\n                      if (!isStep2Enabled) return;\n                      setBoardDropdownOpen((o) => !o);\n                    }}\n                    disabled={!isStep2Enabled}\n                  >\n                    <span className=\"me-2\"></span>\n                    <span>\n                      {selectedBoardIndexes.length > 0\n                        ? \"Edit selected board(s)\"\n                        : \"Select board(s)\"}\n                    </span>\n                  </button>\n\n                  <div\n                    className={`dropdown-menu mt-2 shadow-sm border-0 ${\n                      boardDropdownOpen && isStep2Enabled ? \"show\" : \"\"\n                    }`}\n                    style={{\n                      maxHeight: \"260px\",\n                      overflowY: \"auto\",\n                      minWidth: \"260px\",\n                    }}\n                  >\n                    {!isStep2Enabled ? (\n                      <span className=\"dropdown-item-text text-muted fst-italic\">\n                        Please select contact person(s) in Step 1 first.\n                      </span>\n                    ) : availableBoards.length === 0 ? (\n                      <span className=\"dropdown-item-text text-muted fst-italic\">\n                        No boards found.\n                      </span>\n                    ) : (\n                      availableBoards.map((board, index) => {\n                        const label = getBoardLabel(board);\n\n                        return (\n                          <label\n                            key={`${label}-${index}`}\n                            className=\"dropdown-item d-flex align-items-center py-2\"\n                            style={{ cursor: \"pointer\" }}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              className=\"form-check-input me-3\"\n                              checked={isBoardSelected(index)}\n                              onChange={() => toggleBoardSelection(index)}\n                            />\n                            <span className=\"fw-semibold\">{label}</span>\n                          </label>\n                        );\n                      })\n                    )}\n                  </div>\n                </div>\n\n                {isStep2Enabled && selectedBoardList.length > 0 && (\n                  <div>\n                    <div className=\"text-muted small mb-1\">Selected board(s):</div>\n                    <div className=\"d-flex flex-wrap gap-2\">\n                      {selectedBoardList.map((board, idx) => (\n                        <span\n                          key={`${getBoardLabel(board)}-chip-${idx}`}\n                          className=\"badge bg-light text-dark border\"\n                        >\n                          {getBoardLabel(board)}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </Modal.Body>\n\n        <Modal.Footer className=\"border-0 pt-0\">\n          <div className=\"d-flex justify-content-between w-100 align-items-center\">\n            <div className=\"text-muted small\">\n              {props.data?.instituteCode && (\n                <>\n                  <span className=\"fw-semibold\">Institute Code: </span>\n                  <span>{props.data.instituteCode}</span>\n                </>\n              )}\n            </div>\n\n            <div>\n              <button\n                type=\"button\"\n                className=\"btn btn-sm btn-light me-2\"\n                onClick={() => props.onHide()}\n                disabled={loading}\n              >\n                Cancel\n              </button>\n\n              <button\n                type=\"submit\"\n                className=\"btn btn-sm btn-primary\"\n                disabled={\n                  loading ||\n                  (availableContacts.length === 0 && availableBoards.length === 0)\n                }\n              >\n                {!loading && (\n                  <span className=\"indicator-label\">Save Selection</span>\n                )}\n                {loading && (\n                  <span className=\"indicator-progress\" style={{ display: \"block\" }}>\n                    Please wait...\n                    <span className=\"spinner-border spinner-border-sm align-middle ms-2\" />\n                  </span>\n                )}\n              </button>\n            </div>\n          </div>\n        </Modal.Footer>\n      </form>\n    </Modal>\n  );\n};\n\nexport default CollegeInfoModal;\n","// CollegeInfoModal.tsx\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap-v5\";\nimport UseAnimations from \"react-useanimations\";\nimport menu2 from \"react-useanimations/lib/menu2\";\nimport { UpdateCollegeData } from \"../API/College_APIs\";\nimport { ReadBoardData } from \"../../Board/API/Board_APIs\";\nimport { ReadContactInformationData } from \"../../ContactPerson/API/Contact_Person_APIs\";\nimport { readRoleData } from \"../../../modules/role_roleGroup/components/core/Role_RoleGroup_APIs\";\nimport axios from \"axios\";\n\ntype ContactPerson = {\n  id?: string;\n  name?: string;\n  email?: string;\n  phone?: string;\n  gender?: string;\n  designation?: string;\n  roles?: string[]; // optional roles field\n};\n\ntype Board = {\n  id?: string | number;\n  boardName?: string;\n  name?: string;\n  [key: string]: any;\n};\n\ntype CollegeDataForModal = {\n  instituteCode?: string;\n  contactPersons?: ContactPerson[];\n  maxClass?: number | string;\n  [key: string]: any;\n};\n\ntype Props = {\n  show: boolean;\n  onHide: (v?: boolean) => void;\n  setPageLoading: (v: any) => void;\n  data?: CollegeDataForModal;\n};\n\n// fallback list in case API returns no roles or fails\nconst FALLBACK_ROLE_OPTIONS = [\n  \"Principal\",\n  \"Administrator\",\n  \"Coordinator\",\n  \"Teacher\",\n  \"Accountant\",\n  \"Counselor\",\n];\n\nconst CollegeAssignRoleModal = (props: Props) => {\n  const [loading, setLoading] = useState(false);\n\n  const [availableContacts, setAvailableContacts] = useState<ContactPerson[]>([]);\n  const [selectedContactIndexes, setSelectedContactIndexes] = useState<number[]>([]);\n\n  // Per-contact dropdown open state (index -> boolean)\n  const [openRoleDropdowns, setOpenRoleDropdowns] = useState<Record<number, boolean>>({});\n\n  // Per-contact selected roles (index -> string[])\n  const [contactRoles, setContactRoles] = useState<Record<number, string[]>>({});\n\n  const [availableBoards, setAvailableBoards] = useState<Board[]>([]);\n  const [selectedBoardIndexes, setSelectedBoardIndexes] = useState<number[]>([]);\n  const [boardDropdownOpen, setBoardDropdownOpen] = useState(false);\n\n  // Roles from API\n  const [roleOptions, setRoleOptions] = useState<string[]>(FALLBACK_ROLE_OPTIONS);\n  const [rolesLoading, setRolesLoading] = useState(false);\n\n  useEffect(() => {\n    if (!props.show) return;\n\n    // Fetch contacts\n    const fetchContacts = async () => {\n      try {\n        const res = await ReadContactInformationData();\n        const rawContacts: any[] =\n          (res as any)?.data?.data ??\n          (res as any)?.data?.contacts ??\n          (res as any)?.data ??\n          [];\n\n        const contacts: ContactPerson[] = rawContacts.filter(\n          (c) => c && (c.name || c.email || c.phone || c.designation)\n        );\n\n        setAvailableContacts(contacts);\n\n        // Pre-select contacts already mapped to this institute (if any)\n        const instituteContacts = props.data?.contactPersons ?? [];\n        const preSelected: number[] = [];\n\n        contacts.forEach((contact, index) => {\n          const match = instituteContacts.find(\n            (ic) =>\n              (ic.id && contact.id && ic.id === contact.id) ||\n              (ic.email && contact.email && ic.email === contact.email)\n          );\n          if (match) {\n            preSelected.push(index);\n          }\n        });\n\n        setSelectedContactIndexes(preSelected);\n      } catch (err) {\n        console.error(\"Failed to load contacts:\", err);\n        setAvailableContacts([]);\n        setSelectedContactIndexes([]);\n      }\n    };\n\n    // Fetch boards\n    const fetchBoards = async () => {\n      try {\n        const res = await ReadBoardData();\n        const rawBoards: any[] =\n          (res as any)?.data?.data ??\n          (res as any)?.data?.boards ??\n          (res as any)?.data ??\n          [];\n\n        const boards: Board[] = rawBoards.filter(\n          (b) =>\n            b &&\n            (typeof b.boardName === \"string\" ||\n              typeof b.name === \"string\" ||\n              typeof b.id !== \"undefined\")\n        );\n        setAvailableBoards(boards);\n        setSelectedBoardIndexes([]);\n      } catch (err) {\n        console.error(\"Failed to load boards:\", err);\n        setAvailableBoards([]);\n      }\n    };\n\n    // Fetch roles from API\n    const fetchRoles = async () => {\n      setRolesLoading(true);\n      try {\n        const res = await readRoleData();\n        // Normalize different possible shapes: { data: { data: [...] } } or { data: [...] } or [...]\n        const rawRoles: any[] =\n          (res as any)?.data?.data ??\n          (res as any)?.data?.roles ??\n          (res as any)?.data ??\n          [];\n\n        // Try to extract string labels. If roles are objects, try common keys.\n        const roles: string[] = (rawRoles || [])\n          .map((r) => {\n            if (!r && r !== 0) return null;\n            if (typeof r === \"string\") return r;\n            if (typeof r === \"object\") {\n              // prefer name/role/roleName/title\n              return r.role ?? r.name ?? r.roleName ?? r.title ?? r.label ?? null;\n            }\n            return null;\n          })\n          .filter(Boolean) as string[];\n\n        if (roles.length > 0) {\n          setRoleOptions(roles);\n        } else {\n          // fallback if API returned empty\n          setRoleOptions(FALLBACK_ROLE_OPTIONS);\n        }\n      } catch (err) {\n        console.error(\"Failed to load roles:\", err);\n        // fallback to default roles if API fails\n        setRoleOptions(FALLBACK_ROLE_OPTIONS);\n      } finally {\n        setRolesLoading(false);\n      }\n    };\n\n    fetchContacts();\n    fetchBoards();\n    fetchRoles();\n  }, [props.show, props.data]);\n\n  // Initialize per-contact role selections when contacts or selected indexes change.\n  // If props.data.contactPersons had roles, map them.\n  useEffect(() => {\n    const newContactRoles: Record<number, string[]> = {};\n    selectedContactIndexes.forEach((idx) => {\n      // Try to find matching contact in props.data to carry over existing roles\n      const contact = availableContacts[idx];\n      let rolesFromProps: string[] | undefined = undefined;\n      if (props.data?.contactPersons?.length) {\n        const match = (props.data.contactPersons as ContactPerson[]).find(\n          (ic) =>\n            (ic.id && contact?.id && ic.id === contact.id) ||\n            (ic.email && contact?.email && ic.email === contact.email)\n        );\n        rolesFromProps = match?.roles;\n      }\n      newContactRoles[idx] = rolesFromProps && Array.isArray(rolesFromProps) ? rolesFromProps : [];\n    });\n    setContactRoles((prev) => ({ ...newContactRoles, ...prev }));\n    // Reset dropdown open states for safety\n    setOpenRoleDropdowns({});\n  }, [availableContacts, selectedContactIndexes, props.data]);\n\n  const toggleContactSelection = (index: number) => {\n    setSelectedContactIndexes((prev) =>\n      prev.includes(index) ? prev.filter((i) => i !== index) : [...prev, index]\n    );\n\n    // If deselecting, also clean up roles & dropdown\n    setContactRoles((prev) => {\n      const copy = { ...prev };\n      if (copy[index]) delete copy[index];\n      return copy;\n    });\n    setOpenRoleDropdowns((prev) => {\n      const copy = { ...prev };\n      if (copy[index]) delete copy[index];\n      return copy;\n    });\n  };\n\n  const isContactSelected = (index: number) => selectedContactIndexes.includes(index);\n\n  const toggleBoardSelection = (index: number) => {\n    setSelectedBoardIndexes((prev) =>\n      prev.includes(index) ? prev.filter((i) => i !== index) : [...prev, index]\n    );\n  };\n\n  const isBoardSelected = (index: number) => selectedBoardIndexes.includes(index);\n\n  const openRoleDropdownFor = (index: number) => {\n    setOpenRoleDropdowns((prev) => ({ ...prev, [index]: !prev[index] }));\n  };\n\n  const setRoleForContact = (contactIndex: number, role: string, checked: boolean) => {\n    setContactRoles((prev) => {\n      const current = prev[contactIndex] ?? [];\n      if (checked) {\n        // add if not present\n        if (!current.includes(role)) {\n          return { ...prev, [contactIndex]: [...current, role] };\n        }\n        return prev;\n      } else {\n        // remove\n        return { ...prev, [contactIndex]: current.filter((r) => r !== role) };\n      }\n    });\n  };\n\n  const removeRoleFromContact = (contactIndex: number, role: string) => {\n    setContactRoles((prev) => {\n      const current = prev[contactIndex] ?? [];\n      return { ...prev, [contactIndex]: current.filter((r) => r !== role) };\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!props.data) {\n      props.onHide();\n      return;\n    }\n\n    // Build selected contacts and attach roles per contact (if any)\n    const selectedContacts = selectedContactIndexes.map((i) => {\n      const contact = availableContacts[i];\n      const roles = contactRoles[i] ?? [];\n      return {\n        ...contact,\n        roles,\n      } as ContactPerson;\n    });\n\n    const selectedBoards = selectedBoardIndexes.map((i) => availableBoards[i]);\n\n    setLoading(true);\n    try {\n      const payload: any = {\n        ...props.data,\n        contactPersons: selectedContacts,\n      };\n\n      if (selectedBoards.length > 0) {\n        payload.boards = selectedBoards;\n      }\n\n      await UpdateCollegeData(payload);\n      props.setPageLoading([\"true\"]);\n      props.onHide(false);\n    } catch (error) {\n      console.error(\"UpdateCollegeData failed\", error);\n      window.location.replace(\"/error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getBoardLabel = (board: Board) =>\n    board.boardName ?? board.name ?? (board.id !== undefined ? String(board.id) : \"Board\");\n\n  const selectedContactList = selectedContactIndexes.map((i) => availableContacts[i]);\n  const selectedBoardList = selectedBoardIndexes.map((i) => availableBoards[i]);\n\n  // Step 2 enabled only after Step 1 has at least one selection\n  const isStep2Enabled = selectedContactIndexes.length > 0;\n\n  return (\n    <Modal\n      show={props.show}\n      onHide={() => props.onHide()}\n      centered\n      className=\"college-modal\"\n      dialogClassName=\"college-modal-dialog\"\n      aria-labelledby=\"college-info-modal-title\"\n    >\n      {/* Inline styles to control modal width and prevent horizontal scroll */}\n      <style>{`\n        /* Make the modal wider and responsive */\n        .college-modal .modal-dialog {\n          max-width: 1200px;      /* increase as needed */\n          width: 95vw;\n        }\n        /* Ensure modal body doesn't force horizontal scroll */\n        .college-modal .modal-body {\n          overflow-x: hidden;\n        }\n\n        /* Let tables auto-layout and wrap cells instead of creating horizontal scroll */\n        .college-modal .table-responsive {\n          overflow-x: visible !important;\n        }\n        .college-modal table {\n          table-layout: auto;\n          width: 100%;\n        }\n        .college-modal th, .college-modal td {\n          white-space: normal;\n          word-wrap: break-word;\n          vertical-align: middle;\n        }\n\n        /* Make role badges wrap to next line when space is insufficient */\n        .college-modal .badge {\n          white-space: nowrap;\n          margin-bottom: 4px;\n        }\n\n        /* Ensure the per-contact dropdown doesn't push layout horizontally */\n        .college-modal .card.position-absolute {\n          left: 0;\n          right: auto;\n          max-width: 420px;\n        }\n\n        /* Small screens fallback */\n        @media (max-width: 768px) {\n          .college-modal .modal-dialog {\n            max-width: 100%;\n            width: 98vw;\n          }\n        }\n      `}</style>\n\n      <Modal.Header className=\"border-0 pb-0\">\n        <div className=\"d-flex flex-column\">\n          <h3 id=\"college-info-modal-title\" className=\"mb-1 fw-bold\">\n            Assign Roles\n          </h3>\n          <span className=\"text-muted small\">Assign roles to the selected contact person</span>\n        </div>\n\n        <div\n          className=\"btn btn-sm btn-icon btn-light ms-3\"\n          onClick={() => props.onHide()}\n          style={{ cursor: \"pointer\" }}\n        >\n          <UseAnimations animation={menu2} size={24} strokeColor={\"#181C32\"} reverse />\n        </div>\n      </Modal.Header>\n\n      <form onSubmit={handleSubmit} className=\"form w-100\">\n        <Modal.Body className=\"pt-3\">\n          <div className=\"d-flex flex-column gap-4\">\n            {/* ====== STEP 1: CONTACT PERSONS ====== */}\n            <div className=\"card shadow-sm border-0\">\n              <div className=\"card-body\">\n                <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                  <div>\n                    <h5 className=\"mb-0\">Selected Contact Person</h5>\n                    <small className=\"text-muted\">\n                      Choose one or more roles associated with the contact person.\n                    </small>\n                  </div>\n                </div>\n\n                {/* Contacts list (checkboxes to select contacts) */}\n                <div className=\"mt-3\">\n                  {availableContacts.length === 0 ? (\n                    <div className=\"text-muted small\">No contacts available</div>\n                  ) : (\n                    <div className=\"list-group\">\n                      {availableContacts.map((contact, idx) => (\n                        <label\n                          key={idx}\n                          className={`list-group-item d-flex justify-content-between align-items-center ${\n                            isContactSelected(idx) ? \"active\" : \"\"\n                          }`}\n                          style={{ cursor: \"pointer\" }}\n                        >\n                          <div className=\"form-check\">\n                            <input\n                              className=\"form-check-input me-2\"\n                              type=\"checkbox\"\n                              checked={isContactSelected(idx)}\n                              onChange={() => toggleContactSelection(idx)}\n                            />\n                            <span className=\"fw-semibold\">\n                              {contact.name ?? contact.email ?? contact.phone ?? \"Unnamed\"}\n                            </span>\n                            <div className=\"small text-muted\">\n                              {contact.designation ? `${contact.designation}  ` : \"\"}\n                              {contact.email ?? contact.phone}\n                            </div>\n                          </div>\n\n                          <div>\n                            {/* Open per-contact role dropdown only for selected contacts */}\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-sm btn-outline-secondary\"\n                              onClick={(ev) => {\n                                ev.stopPropagation();\n                                if (!isContactSelected(idx)) {\n                                  // automatically select contact if opening roles\n                                  toggleContactSelection(idx);\n                                }\n                                openRoleDropdownFor(idx);\n                              }}\n                            >\n                              Roles\n                            </button>\n                          </div>\n                        </label>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {/* ===== Table Listing Selected Contacts with roles dropdown & badges ===== */}\n                <div className=\"mt-4\">\n                  <h6 className=\"mb-2\">Selected Contacts & Roles</h6>\n\n                  {selectedContactIndexes.length === 0 ? (\n                    <div className=\"text-muted small\">No contact selected yet.</div>\n                  ) : (\n                    <div className=\"table-responsive\">\n                      <table className=\"table table-hover align-middle\">\n                        <thead>\n                          <tr>\n                            <th style={{ width: \"35%\" }}>Contact</th>\n                            <th style={{ width: \"50%\" }}>Assigned Roles</th>\n                            <th style={{ width: \"15%\" }}>Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {selectedContactIndexes.map((ci) => {\n                            const contact = availableContacts[ci];\n                            const roles = contactRoles[ci] ?? [];\n                            const dropdownOpen = !!openRoleDropdowns[ci];\n                            return (\n                              <tr key={ci}>\n                                <td>\n                                  <div className=\"fw-semibold\">\n                                    {contact.name ?? contact.email ?? contact.phone ?? \"Unnamed\"}\n                                  </div>\n                                  <div className=\"small text-muted\">\n                                    {contact.designation ?? \"\"}\n                                    {contact.email ? `  ${contact.email}` : \"\"}\n                                  </div>\n                                </td>\n\n                                <td>\n                                  {/* badges for selected roles */}\n                                  <div className=\"d-flex flex-wrap gap-2\">\n                                    {roles.length === 0 ? (\n                                      <span className=\"small text-muted\">No roles assigned</span>\n                                    ) : (\n                                      roles.map((r) => (\n                                        <span\n                                          key={r}\n                                          className=\"badge bg-light text-dark border d-inline-flex align-items-center\"\n                                          style={{ padding: \"0.45rem 0.6rem\" }}\n                                        >\n                                          <span className=\"me-2 small\">{r}</span>\n                                          <button\n                                            type=\"button\"\n                                            aria-label={`Remove ${r}`}\n                                            className=\"btn btn-sm btn-icon btn-light btn-xs\"\n                                            onClick={() => removeRoleFromContact(ci, r)}\n                                            style={{\n                                              border: \"none\",\n                                              padding: \"0\",\n                                              margin: \"0\",\n                                              lineHeight: 1,\n                                              cursor: \"pointer\",\n                                            }}\n                                          >\n                                            <span style={{ fontSize: 14, marginLeft: 4 }}></span>\n                                          </button>\n                                        </span>\n                                      ))\n                                    )}\n                                  </div>\n\n                                  {/* role dropdown (checkbox list) */}\n                                  <div className=\"position-relative mt-2\">\n                                    {dropdownOpen && (\n                                      <div\n                                        className=\"card shadow-sm position-absolute\"\n                                        style={{\n                                          zIndex: 1200,\n                                          left: 0,\n                                          top: 0,\n                                          minWidth: 260,\n                                          padding: 12,\n                                        }}\n                                        onClick={(e) => e.stopPropagation()}\n                                      >\n                                        <div className=\"fw-semibold mb-2\">Select Roles</div>\n\n                                        {rolesLoading ? (\n                                          <div className=\"small text-muted\">Loading roles...</div>\n                                        ) : (\n                                          <div className=\"roles-list\" style={{ maxHeight: 220, overflow: \"auto\" }}>\n                                            {roleOptions.map((role) => {\n                                              const checked = (contactRoles[ci] ?? []).includes(role);\n                                              return (\n                                                <div key={role} className=\"form-check mb-1\">\n                                                  <input\n                                                    className=\"form-check-input\"\n                                                    type=\"checkbox\"\n                                                    id={`contact-${ci}-role-${role}`}\n                                                    checked={checked}\n                                                    onChange={(ev) =>\n                                                      setRoleForContact(ci, role, ev.target.checked)\n                                                    }\n                                                  />\n                                                  <label\n                                                    className=\"form-check-label ms-2\"\n                                                    htmlFor={`contact-${ci}-role-${role}`}\n                                                    style={{ cursor: \"pointer\" }}\n                                                  >\n                                                    {role}\n                                                  </label>\n                                                </div>\n                                              );\n                                            })}\n                                          </div>\n                                        )}\n\n                                        <div className=\"d-flex justify-content-end mt-2\">\n                                          <button\n                                            type=\"button\"\n                                            className=\"btn btn-sm btn-secondary me-2\"\n                                            onClick={() =>\n                                              setOpenRoleDropdowns((prev) => ({ ...prev, [ci]: false }))\n                                            }\n                                          >\n                                            Done\n                                          </button>\n                                          <button\n                                            type=\"button\"\n                                            className=\"btn btn-sm btn-outline-danger\"\n                                            onClick={() =>\n                                              setContactRoles((prev) => ({ ...prev, [ci]: [] }))\n                                            }\n                                          >\n                                            Clear\n                                          </button>\n                                        </div>\n                                      </div>\n                                    )}\n                                  </div>\n                                </td>\n\n                                <td>\n                                  <div className=\"d-flex gap-2\">\n                                    <button\n                                      type=\"button\"\n                                      className=\"btn btn-sm btn-outline-primary\"\n                                      onClick={() => openRoleDropdownFor(ci)}\n                                    >\n                                      {dropdownOpen ? \"Close\" : \"Edit\"}\n                                    </button>\n\n                                    <button\n                                      type=\"button\"\n                                      className=\"btn btn-sm btn-outline-danger\"\n                                      onClick={() => toggleContactSelection(ci)}\n                                    >\n                                      Remove\n                                    </button>\n                                  </div>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* ====== You can keep existing / additional steps below (Step 2 or Boards) ====== */}\n            {/* ... For brevity I haven't rearranged the rest of your modal  preserved original footer logic below */}\n          </div>\n        </Modal.Body>\n\n        <Modal.Footer className=\"border-0 pt-0\">\n          <div className=\"d-flex justify-content-between w-100 align-items-center\">\n            <div className=\"text-muted small\">\n              {props.data?.instituteCode && (\n                <>\n                  <span className=\"fw-semibold\">Institute Code: </span>\n                  <span>{props.data.instituteCode}</span>\n                </>\n              )}\n            </div>\n\n            <div>\n              <button\n                type=\"button\"\n                className=\"btn btn-sm btn-light me-2\"\n                onClick={() => props.onHide()}\n                disabled={loading}\n              >\n                Cancel\n              </button>\n\n              <button\n                type=\"submit\"\n                className=\"btn btn-sm btn-primary\"\n                disabled={\n                  loading || (availableContacts.length === 0 && availableBoards.length === 0)\n                }\n              >\n                {!loading && <span className=\"indicator-label\">Save Selection</span>}\n                {loading && (\n                  <span className=\"indicator-progress\" style={{ display: \"block\" }}>\n                    Please wait...\n                    <span className=\"spinner-border spinner-border-sm align-middle ms-2\" />\n                  </span>\n                )}\n              </button>\n            </div>\n          </div>\n        </Modal.Footer>\n      </form>\n    </Modal>\n  );\n};\n\nexport default CollegeAssignRoleModal;\n","// CollegeSectionSessionGradeModal.tsx\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { Modal, Button } from \"react-bootstrap-v5\";\nimport UseAnimations from \"react-useanimations\";\nimport menu2 from \"react-useanimations/lib/menu2\";\nimport {\n  CreateSessionData,\n  GetSessionsByInstituteCode,\n  UpdateSessionData,\n  DeleteSessionData,\n  UpdateClassData,\n  DeleteClassData,\n  UpdateSectionData,\n  DeleteSectionData\n} from \"../API/College_APIs\";\n\n// ============ TYPE DEFINITIONS ============\n\ntype CollegeDataForModal = {\n  instituteCode?: string;\n  instituteName?: string;\n  [key: string]: any;\n};\n\ntype Props = {\n  show: boolean;\n  onHide: (v?: boolean) => void;\n  setPageLoading: (v: any) => void;\n  data?: CollegeDataForModal;\n};\n\ninterface SectionData {\n  id: number | null;\n  sectionName: string;\n  isNew?: boolean;\n}\n\ninterface GradeData {\n  id: number | null;\n  gradeName: string;\n  sections: SectionData[];\n  isNew?: boolean;\n}\n\ninterface SessionData {\n  id: number | null;\n  sessionName: string;\n  grades: GradeData[];\n  isNew?: boolean;\n}\n\ninterface EditState {\n  type: 'session' | 'grade' | 'section';\n  id: number;\n  sessionIndex: number;\n  gradeIndex?: number;\n  sectionIndex?: number;\n  originalValue: string;\n}\n\ninterface DeleteConfirmState {\n  type: 'session' | 'grade' | 'section';\n  id: number;\n  name: string;\n  sessionIndex: number;\n  gradeIndex?: number;\n  sectionIndex?: number;\n}\n\n// ============ COMPONENT ============\n\nconst CollegeSectionSessionGradeModal = (props: Props) => {\n  const [loading, setLoading] = useState(false);\n  const [fetchLoading, setFetchLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Dropdown states\n  const [sessionDropdownOpen, setSessionDropdownOpen] = useState(false);\n  const [gradeDropdownOpen, setGradeDropdownOpen] = useState(false);\n  const [sectionDropdownOpen, setSectionDropdownOpen] = useState(false);\n\n  // Existing data from backend\n  const [existingData, setExistingData] = useState<SessionData[]>([]);\n\n  // New data being added (not yet saved)\n  const [newSessionsData, setNewSessionsData] = useState<SessionData[]>([]);\n\n  // Input states\n  const [newSessionInput, setNewSessionInput] = useState(\"\");\n  const [newGradeInput, setNewGradeInput] = useState(\"\");\n  const [newSectionInput, setNewSectionInput] = useState(\"\");\n\n  // Currently working with (for new data)\n  const [currentSessionIndex, setCurrentSessionIndex] = useState<number | null>(null);\n  const [currentGradeIndex, setCurrentGradeIndex] = useState<number | null>(null);\n\n  // Edit mode tracking\n  const [editState, setEditState] = useState<EditState | null>(null);\n  const [editValue, setEditValue] = useState(\"\");\n\n  // Delete confirmation\n  const [deleteConfirm, setDeleteConfirm] = useState<DeleteConfirmState | null>(null);\n\n  // ============ DATA FETCHING ============\n\n  const transformBackendToLocal = (backendData: any[]): SessionData[] => {\n    return backendData.map(session => ({\n      id: session.id,\n      sessionName: session.sessionYear,\n      grades: (session.schoolClasses || []).map((cls: any) => ({\n        id: cls.id,\n        gradeName: cls.className,\n        sections: (cls.schoolSections || []).map((sec: any) => ({\n          id: sec.id,\n          sectionName: sec.sectionName,\n          isNew: false\n        })),\n        isNew: false\n      })),\n      isNew: false\n    }));\n  };\n\n  const fetchExistingData = async (instituteCode: string | number) => {\n    if (!instituteCode) {\n      console.log(\"No institute code provided, skipping fetch\");\n      return;\n    }\n\n    console.log(\"Fetching data for institute code:\", instituteCode);\n    setFetchLoading(true);\n    setError(null);\n    try {\n      const response = await GetSessionsByInstituteCode(instituteCode);\n      console.log(\"API Response:\", response.data);\n      const transformedData = transformBackendToLocal(response.data);\n      console.log(\"Transformed Data:\", transformedData);\n      setExistingData(transformedData);\n    } catch (err: any) {\n      console.error(\"Error fetching existing data:\", err);\n      console.error(\"Error details:\", err.response?.data || err.message);\n      setError(\"Failed to load existing data\");\n    } finally {\n      setFetchLoading(false);\n    }\n  };\n\n  // Reset and fetch when modal opens\n  useEffect(() => {\n    if (props.show) {\n      console.log(\"Modal opened with data:\", props.data);\n\n      // Reset new data states\n      setNewSessionsData([]);\n      setNewSessionInput(\"\");\n      setNewGradeInput(\"\");\n      setNewSectionInput(\"\");\n      setCurrentSessionIndex(null);\n      setCurrentGradeIndex(null);\n      setSessionDropdownOpen(false);\n      setGradeDropdownOpen(false);\n      setSectionDropdownOpen(false);\n      setEditState(null);\n      setDeleteConfirm(null);\n      setError(null);\n      setExistingData([]);\n\n      // Fetch existing data if institute code exists\n      const instituteCode = props.data?.instituteCode;\n      if (instituteCode && instituteCode !== \"\") {\n        fetchExistingData(instituteCode);\n      } else {\n        console.log(\"No valid institute code in props.data:\", props.data);\n      }\n    }\n  }, [props.show, props.data?.instituteCode]);\n\n  // ============ ADD HANDLERS (for new data) ============\n\n  const handleAddSession = () => {\n    if (newSessionInput.trim()) {\n      const sessionExists = newSessionsData.some(s => s.sessionName === newSessionInput.trim());\n      if (!sessionExists) {\n        setNewSessionsData([...newSessionsData, {\n          id: null,\n          sessionName: newSessionInput.trim(),\n          grades: [],\n          isNew: true\n        }]);\n        setNewSessionInput(\"\");\n      }\n    }\n  };\n\n  const handleSelectSession = (index: number) => {\n    setCurrentSessionIndex(index);\n    setCurrentGradeIndex(null);\n    setSessionDropdownOpen(false);\n  };\n\n  const handleAddGrade = () => {\n    if (currentSessionIndex !== null && newGradeInput.trim()) {\n      const updatedSessions = [...newSessionsData];\n      const currentSession = updatedSessions[currentSessionIndex];\n\n      const gradeExists = currentSession.grades.some(g => g.gradeName === newGradeInput.trim());\n      if (!gradeExists) {\n        currentSession.grades.push({\n          id: null,\n          gradeName: newGradeInput.trim(),\n          sections: [],\n          isNew: true\n        });\n        setNewSessionsData(updatedSessions);\n        setNewGradeInput(\"\");\n      }\n    }\n  };\n\n  const handleSelectGrade = (gradeIndex: number) => {\n    setCurrentGradeIndex(gradeIndex);\n    setGradeDropdownOpen(false);\n  };\n\n  const handleAddSection = () => {\n    if (currentSessionIndex !== null && currentGradeIndex !== null && newSectionInput.trim()) {\n      const updatedSessions = [...newSessionsData];\n      const currentGrade = updatedSessions[currentSessionIndex].grades[currentGradeIndex];\n\n      const sectionExists = currentGrade.sections.some(s => s.sectionName === newSectionInput.trim());\n      if (!sectionExists) {\n        currentGrade.sections.push({\n          id: null,\n          sectionName: newSectionInput.trim(),\n          isNew: true\n        });\n        setNewSessionsData(updatedSessions);\n        setNewSectionInput(\"\");\n      }\n    }\n  };\n\n  const handleRemoveNewSection = (sectionIndex: number) => {\n    if (currentSessionIndex !== null && currentGradeIndex !== null) {\n      const updatedSessions = [...newSessionsData];\n      updatedSessions[currentSessionIndex].grades[currentGradeIndex].sections.splice(sectionIndex, 1);\n      setNewSessionsData(updatedSessions);\n    }\n  };\n\n  // ============ EDIT HANDLERS (for existing data) ============\n\n  const handleStartEdit = (\n    type: 'session' | 'grade' | 'section',\n    id: number,\n    sessionIndex: number,\n    currentValue: string,\n    gradeIndex?: number,\n    sectionIndex?: number\n  ) => {\n    setEditState({\n      type,\n      id,\n      sessionIndex,\n      gradeIndex,\n      sectionIndex,\n      originalValue: currentValue\n    });\n    setEditValue(currentValue);\n  };\n\n  const handleCancelEdit = () => {\n    setEditState(null);\n    setEditValue(\"\");\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editState || !editValue.trim()) return;\n\n    // Optimistic update\n    const updatedData = [...existingData];\n    const session = updatedData[editState.sessionIndex];\n\n    if (editState.type === 'session') {\n      session.sessionName = editValue.trim();\n    } else if (editState.type === 'grade' && editState.gradeIndex !== undefined) {\n      session.grades[editState.gradeIndex].gradeName = editValue.trim();\n    } else if (editState.type === 'section' && editState.gradeIndex !== undefined && editState.sectionIndex !== undefined) {\n      session.grades[editState.gradeIndex].sections[editState.sectionIndex].sectionName = editValue.trim();\n    }\n\n    setExistingData(updatedData);\n    setEditState(null);\n    setEditValue(\"\");\n\n    try {\n      if (editState.type === 'session') {\n        await UpdateSessionData(editState.id, { sessionYear: editValue.trim() });\n      } else if (editState.type === 'grade') {\n        await UpdateClassData(editState.id, { className: editValue.trim() });\n      } else if (editState.type === 'section') {\n        await UpdateSectionData(editState.id, { sectionName: editValue.trim() });\n      }\n    } catch (err) {\n      console.error(\"Error updating:\", err);\n      // Rollback on error\n      const rollbackData = [...existingData];\n      const rollbackSession = rollbackData[editState.sessionIndex];\n\n      if (editState.type === 'session') {\n        rollbackSession.sessionName = editState.originalValue;\n      } else if (editState.type === 'grade' && editState.gradeIndex !== undefined) {\n        rollbackSession.grades[editState.gradeIndex].gradeName = editState.originalValue;\n      } else if (editState.type === 'section' && editState.gradeIndex !== undefined && editState.sectionIndex !== undefined) {\n        rollbackSession.grades[editState.gradeIndex].sections[editState.sectionIndex].sectionName = editState.originalValue;\n      }\n\n      setExistingData(rollbackData);\n      setError(\"Failed to update. Please try again.\");\n    }\n  };\n\n  // ============ DELETE HANDLERS ============\n\n  const handleDeleteConfirm = (\n    type: 'session' | 'grade' | 'section',\n    id: number,\n    name: string,\n    sessionIndex: number,\n    gradeIndex?: number,\n    sectionIndex?: number\n  ) => {\n    setDeleteConfirm({ type, id, name, sessionIndex, gradeIndex, sectionIndex });\n  };\n\n  const handleDeleteConfirmed = async () => {\n    if (!deleteConfirm) return;\n\n    setLoading(true);\n    try {\n      if (deleteConfirm.type === 'session') {\n        await DeleteSessionData(deleteConfirm.id);\n      } else if (deleteConfirm.type === 'grade') {\n        await DeleteClassData(deleteConfirm.id);\n      } else if (deleteConfirm.type === 'section') {\n        await DeleteSectionData(deleteConfirm.id);\n      }\n\n      // Refresh data after delete\n      if (props.data?.instituteCode) {\n        await fetchExistingData(props.data.instituteCode);\n      }\n    } catch (err) {\n      console.error(\"Error deleting:\", err);\n      setError(\"Failed to delete. Please try again.\");\n    } finally {\n      setLoading(false);\n      setDeleteConfirm(null);\n    }\n  };\n\n  // ============ SUBMIT NEW DATA ============\n\n  const handleSubmitNew = async () => {\n    if (newSessionsData.length === 0) return;\n\n    setLoading(true);\n\n    const formattedOutput = newSessionsData.map((session) => ({\n      id: null,\n      sessionYear: session.sessionName,\n      schoolClasses: session.grades.map((grade) => ({\n        id: null,\n        className: grade.gradeName,\n        schoolSections: grade.sections.map((section) => ({\n          id: null,\n          sectionName: section.sectionName\n        }))\n      })),\n      instituteCode: props.data?.instituteCode || null\n    }));\n\n    try {\n      await CreateSessionData(formattedOutput);\n      alert('New sessions submitted successfully!');\n      setNewSessionsData([]);\n      setCurrentSessionIndex(null);\n      setCurrentGradeIndex(null);\n      if (props.data?.instituteCode) {\n        await fetchExistingData(props.data.instituteCode);\n      }\n    } catch (error) {\n      console.error(\"Error in CreateSessionData:\", error);\n      alert('Error submitting. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ============ HELPER FUNCTIONS ============\n\n  const getCurrentSessionName = () => {\n    if (currentSessionIndex !== null) {\n      return newSessionsData[currentSessionIndex]?.sessionName;\n    }\n    return null;\n  };\n\n  const getCurrentGradeName = () => {\n    if (currentSessionIndex !== null && currentGradeIndex !== null) {\n      return newSessionsData[currentSessionIndex]?.grades[currentGradeIndex]?.gradeName;\n    }\n    return null;\n  };\n\n  const getCurrentSections = () => {\n    if (currentSessionIndex !== null && currentGradeIndex !== null) {\n      return newSessionsData[currentSessionIndex]?.grades[currentGradeIndex]?.sections || [];\n    }\n    return [];\n  };\n\n  // Flatten existing data for table display\n  const tableRows = useMemo(() => {\n    const rows: any[] = [];\n    existingData.forEach((session, sIdx) => {\n      if (session.grades.length === 0) {\n        rows.push({\n          sessionId: session.id,\n          sessionName: session.sessionName,\n          sessionIndex: sIdx,\n          gradeId: null,\n          gradeName: '-',\n          gradeIndex: null,\n          sectionId: null,\n          sectionName: '-',\n          sectionIndex: null\n        });\n      } else {\n        session.grades.forEach((grade, gIdx) => {\n          if (grade.sections.length === 0) {\n            rows.push({\n              sessionId: session.id,\n              sessionName: session.sessionName,\n              sessionIndex: sIdx,\n              gradeId: grade.id,\n              gradeName: grade.gradeName,\n              gradeIndex: gIdx,\n              sectionId: null,\n              sectionName: '-',\n              sectionIndex: null\n            });\n          } else {\n            grade.sections.forEach((section, secIdx) => {\n              rows.push({\n                sessionId: session.id,\n                sessionName: session.sessionName,\n                sessionIndex: sIdx,\n                gradeId: grade.id,\n                gradeName: grade.gradeName,\n                gradeIndex: gIdx,\n                sectionId: section.id,\n                sectionName: section.sectionName,\n                sectionIndex: secIdx\n              });\n            });\n          }\n        });\n      }\n    });\n    return rows;\n  }, [existingData]);\n\n  // ============ RENDER ============\n\n  return (\n    <>\n      <Modal\n        show={props.show}\n        onHide={() => props.onHide()}\n        centered\n        size=\"xl\"\n        className=\"college-modal\"\n        aria-labelledby=\"college-detail-modal-title\"\n        style={{ maxHeight: '90vh' }}\n      >\n        <style>{`\n          .college-modal .modal-dialog {\n            max-width: 1200px;\n            height: 85vh;\n          }\n\n          .college-modal .modal-content {\n            height: 100%;\n            display: flex;\n            flex-direction: column;\n          }\n\n          .college-modal .modal-body {\n            flex: 1;\n            overflow-y: auto;\n            max-height: calc(85vh - 180px);\n          }\n\n          .college-modal .dropdown-menu {\n            max-height: 300px;\n          }\n\n          .editable-cell:hover {\n            background-color: #f8f9fa;\n            cursor: pointer;\n          }\n        `}</style>\n\n        <Modal.Header className=\"border-0 pb-0\">\n          <div className=\"d-flex flex-column\">\n            <h3 id=\"college-detail-modal-title\" className=\"mb-1 fw-bold\">\n              Institute Details\n            </h3>\n            <span className=\"text-muted small\">\n              {props.data?.instituteName && (\n                <span className=\"fw-semibold me-2\">{props.data.instituteName}</span>\n              )}\n              Manage sessions, grades, and sections\n            </span>\n          </div>\n\n          <div\n            className=\"btn btn-sm btn-icon btn-light ms-3\"\n            onClick={() => props.onHide()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <UseAnimations animation={menu2} size={24} strokeColor={\"#181C32\"} reverse />\n          </div>\n        </Modal.Header>\n\n        <div className=\"form w-100\">\n          <Modal.Body className=\"pt-3\">\n            {error && (\n              <div className=\"alert alert-danger alert-dismissible mb-3\">\n                {error}\n                <button type=\"button\" className=\"btn-close\" onClick={() => setError(null)}></button>\n              </div>\n            )}\n\n            {/* ====== QUICK ACTIONS - HORIZONTAL LAYOUT ====== */}\n            <div className=\"card shadow-sm border-0 mb-4\" style={{ background: 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)' }}>\n              <div className=\"card-body\">\n                <div className=\"mb-3\">\n                  <h5 className=\"mb-1 fw-semibold\">Add New Items</h5>\n                  <small className=\"text-muted\">\n                    Add new sessions, grades, and sections for this institute\n                  </small>\n                </div>\n\n                {/* Horizontal row of dropdowns */}\n                <div className=\"d-flex gap-3 flex-wrap\">\n                  {/* Session Dropdown */}\n                  <div className=\"flex-fill position-relative\" style={{ minWidth: '200px' }}>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-primary dropdown-toggle d-flex align-items-center justify-content-between gap-2 w-100\"\n                      onClick={() => {\n                        setSessionDropdownOpen(!sessionDropdownOpen);\n                        setGradeDropdownOpen(false);\n                        setSectionDropdownOpen(false);\n                      }}\n                    >\n                      <div className=\"d-flex align-items-center gap-2\">\n                        <i className=\"bi bi-calendar-plus\"></i>\n                        <span>{getCurrentSessionName() || \"Session\"}</span>\n                      </div>\n                    </button>\n                    {sessionDropdownOpen && (\n                      <div\n                        className=\"dropdown-menu show w-100 p-3 shadow-lg\"\n                        style={{ minWidth: '100%', maxHeight: '300px', overflowY: 'auto', position: 'absolute', zIndex: 1000 }}\n                      >\n                        <div className=\"mb-3\">\n                          <label className=\"form-label small fw-semibold\">Add New Session</label>\n                          <div className=\"input-group\">\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              placeholder=\"e.g., 2024-25\"\n                              value={newSessionInput}\n                              onChange={(e) => setNewSessionInput(e.target.value)}\n                              onKeyPress={(e) => {\n                                if (e.key === 'Enter') {\n                                  handleAddSession();\n                                  e.preventDefault();\n                                }\n                              }}\n                            />\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-primary\"\n                              onClick={handleAddSession}\n                              disabled={!newSessionInput.trim()}\n                            >\n                              <i className=\"bi bi-plus-lg\"></i>\n                            </button>\n                          </div>\n                        </div>\n\n                        {newSessionsData.length > 0 && (\n                          <>\n                            <div className=\"dropdown-divider\"></div>\n                            <label className=\"form-label small fw-semibold\">New Sessions</label>\n                            <div className=\"list-group\">\n                              {newSessionsData.map((session, index) => (\n                                <button\n                                  key={index}\n                                  type=\"button\"\n                                  className={`list-group-item list-group-item-action ${currentSessionIndex === index ? 'active' : ''}`}\n                                  onClick={() => handleSelectSession(index)}\n                                >\n                                  <div className=\"d-flex justify-content-between align-items-center\">\n                                    <span>{session.sessionName}</span>\n                                    <span className=\"badge bg-secondary\">{session.grades.length} grades</span>\n                                  </div>\n                                </button>\n                              ))}\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Grade Dropdown */}\n                  <div className=\"flex-fill position-relative\" style={{ minWidth: '200px' }}>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-success dropdown-toggle d-flex align-items-center justify-content-between gap-2 w-100\"\n                      onClick={() => {\n                        if (currentSessionIndex !== null) {\n                          setGradeDropdownOpen(!gradeDropdownOpen);\n                          setSessionDropdownOpen(false);\n                          setSectionDropdownOpen(false);\n                        }\n                      }}\n                      disabled={currentSessionIndex === null}\n                    >\n                      <div className=\"d-flex align-items-center gap-2\">\n                        <i className=\"bi bi-award\"></i>\n                        <span>{getCurrentGradeName() || \"Grade\"}</span>\n                        {currentSessionIndex === null && <small className=\"ms-1 text-light\">(select session)</small>}\n                      </div>\n                    </button>\n                    {gradeDropdownOpen && currentSessionIndex !== null && (\n                      <div\n                        className=\"dropdown-menu show w-100 p-3 shadow-lg\"\n                        style={{ minWidth: '100%', maxHeight: '300px', overflowY: 'auto', position: 'absolute', zIndex: 1000 }}\n                      >\n                        <div className=\"mb-3\">\n                          <label className=\"form-label small fw-semibold\">\n                            Add Grade to \"{getCurrentSessionName()}\"\n                          </label>\n                          <div className=\"input-group\">\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              placeholder=\"e.g., Class 9\"\n                              value={newGradeInput}\n                              onChange={(e) => setNewGradeInput(e.target.value)}\n                              onKeyPress={(e) => {\n                                if (e.key === 'Enter') {\n                                  handleAddGrade();\n                                  e.preventDefault();\n                                }\n                              }}\n                            />\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-success\"\n                              onClick={handleAddGrade}\n                              disabled={!newGradeInput.trim()}\n                            >\n                              <i className=\"bi bi-plus-lg\"></i>\n                            </button>\n                          </div>\n                        </div>\n\n                        {newSessionsData[currentSessionIndex]?.grades.length > 0 && (\n                          <>\n                            <div className=\"dropdown-divider\"></div>\n                            <label className=\"form-label small fw-semibold\">Grades</label>\n                            <div className=\"list-group\">\n                              {newSessionsData[currentSessionIndex].grades.map((grade, index) => (\n                                <button\n                                  key={index}\n                                  type=\"button\"\n                                  className={`list-group-item list-group-item-action ${currentGradeIndex === index ? 'active' : ''}`}\n                                  onClick={() => handleSelectGrade(index)}\n                                >\n                                  <div className=\"d-flex justify-content-between align-items-center\">\n                                    <span>{grade.gradeName}</span>\n                                    <span className=\"badge bg-secondary\">{grade.sections.length} sections</span>\n                                  </div>\n                                </button>\n                              ))}\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Section Dropdown */}\n                  <div className=\"flex-fill position-relative\" style={{ minWidth: '200px' }}>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-info dropdown-toggle d-flex align-items-center justify-content-between gap-2 w-100\"\n                      onClick={() => {\n                        if (currentGradeIndex !== null) {\n                          setSectionDropdownOpen(!sectionDropdownOpen);\n                          setSessionDropdownOpen(false);\n                          setGradeDropdownOpen(false);\n                        }\n                      }}\n                      disabled={currentGradeIndex === null}\n                    >\n                      <div className=\"d-flex align-items-center gap-2\">\n                        <i className=\"bi bi-grid-3x3\"></i>\n                        <span>Section ({getCurrentSections().length})</span>\n                        {currentGradeIndex === null && <small className=\"ms-1 text-light\">(select grade)</small>}\n                      </div>\n                    </button>\n                    {sectionDropdownOpen && currentGradeIndex !== null && (\n                      <div\n                        className=\"dropdown-menu show w-100 p-3 shadow-lg\"\n                        style={{ minWidth: '100%', maxHeight: '300px', overflowY: 'auto', position: 'absolute', zIndex: 1000 }}\n                      >\n                        <div className=\"mb-3\">\n                          <label className=\"form-label small fw-semibold\">\n                            Add Section to \"{getCurrentGradeName()}\"\n                          </label>\n                          <div className=\"input-group\">\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              placeholder=\"e.g., A, B, C\"\n                              value={newSectionInput}\n                              onChange={(e) => setNewSectionInput(e.target.value)}\n                              onKeyPress={(e) => {\n                                if (e.key === 'Enter') {\n                                  handleAddSection();\n                                  e.preventDefault();\n                                }\n                              }}\n                            />\n                            <button\n                              type=\"button\"\n                              className=\"btn btn-info\"\n                              onClick={handleAddSection}\n                              disabled={!newSectionInput.trim()}\n                            >\n                              <i className=\"bi bi-plus-lg\"></i>\n                            </button>\n                          </div>\n                        </div>\n\n                        {getCurrentSections().length > 0 && (\n                          <>\n                            <div className=\"dropdown-divider\"></div>\n                            <label className=\"form-label small fw-semibold\">Sections</label>\n                            <div className=\"list-group\">\n                              {getCurrentSections().map((section, index) => (\n                                <div\n                                  key={index}\n                                  className=\"list-group-item d-flex justify-content-between align-items-center\"\n                                >\n                                  <span>{section.sectionName}</span>\n                                  <button\n                                    type=\"button\"\n                                    className=\"btn btn-sm btn-danger\"\n                                    onClick={() => handleRemoveNewSection(index)}\n                                  >\n                                    <i className=\"bi bi-trash\"></i>\n                                  </button>\n                                </div>\n                              ))}\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* New Items Summary */}\n                {newSessionsData.length > 0 && (\n                  <div className=\"mt-3 p-3 bg-white rounded border\">\n                    <h6 className=\"mb-2 fw-semibold d-flex align-items-center gap-2\">\n                      <i className=\"bi bi-plus-circle text-success\"></i>\n                      New Items to Submit\n                    </h6>\n                    <div className=\"d-flex flex-wrap gap-2\">\n                      {newSessionsData.map((session, idx) => (\n                        <span key={idx} className=\"badge bg-primary px-2 py-1\">\n                          {session.sessionName} ({session.grades.length} grades)\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* ====== EXISTING DATA TABLE ====== */}\n            <div className=\"card shadow-sm border-0\">\n              <div className=\"card-body\">\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                  <div>\n                    <h5 className=\"mb-1 fw-semibold\">Existing Data</h5>\n                    <small className=\"text-muted\">\n                      Click on any cell to edit. Changes are saved immediately.\n                    </small>\n                  </div>\n                  {fetchLoading && (\n                    <div className=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                      <span className=\"visually-hidden\">Loading...</span>\n                    </div>\n                  )}\n                </div>\n\n                {tableRows.length === 0 && !fetchLoading ? (\n                  <div className=\"text-center text-muted py-5\">\n                    <i className=\"bi bi-inbox\" style={{ fontSize: '3rem' }}></i>\n                    <p className=\"mt-2 mb-0\">No existing data for this institute</p>\n                  </div>\n                ) : (\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-bordered table-hover mb-0\">\n                      <thead className=\"table-light\">\n                        <tr>\n                          <th style={{ width: '25%' }}>Session</th>\n                          <th style={{ width: '25%' }}>Grade/Class</th>\n                          <th style={{ width: '25%' }}>Section</th>\n                          <th style={{ width: '25%' }}>Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {tableRows.map((row, idx) => (\n                          <tr key={idx}>\n                            {/* Session Cell */}\n                            <td className=\"editable-cell\">\n                              {editState?.type === 'session' && editState.sessionIndex === row.sessionIndex ? (\n                                <div className=\"d-flex gap-1\">\n                                  <input\n                                    type=\"text\"\n                                    className=\"form-control form-control-sm\"\n                                    value={editValue}\n                                    onChange={(e) => setEditValue(e.target.value)}\n                                    onKeyPress={(e) => {\n                                      if (e.key === 'Enter') handleSaveEdit();\n                                      if (e.key === 'Escape') handleCancelEdit();\n                                    }}\n                                    autoFocus\n                                  />\n                                  <button className=\"btn btn-sm btn-success\" onClick={handleSaveEdit}>\n                                    <i className=\"bi bi-check\"></i>\n                                  </button>\n                                  <button className=\"btn btn-sm btn-secondary\" onClick={handleCancelEdit}>\n                                    <i className=\"bi bi-x\"></i>\n                                  </button>\n                                </div>\n                              ) : (\n                                <span\n                                  onClick={() => row.sessionId && handleStartEdit('session', row.sessionId, row.sessionIndex, row.sessionName)}\n                                  title=\"Click to edit\"\n                                >\n                                  {row.sessionName}\n                                </span>\n                              )}\n                            </td>\n\n                            {/* Grade Cell */}\n                            <td className=\"editable-cell\">\n                              {editState?.type === 'grade' && editState.sessionIndex === row.sessionIndex && editState.gradeIndex === row.gradeIndex ? (\n                                <div className=\"d-flex gap-1\">\n                                  <input\n                                    type=\"text\"\n                                    className=\"form-control form-control-sm\"\n                                    value={editValue}\n                                    onChange={(e) => setEditValue(e.target.value)}\n                                    onKeyPress={(e) => {\n                                      if (e.key === 'Enter') handleSaveEdit();\n                                      if (e.key === 'Escape') handleCancelEdit();\n                                    }}\n                                    autoFocus\n                                  />\n                                  <button className=\"btn btn-sm btn-success\" onClick={handleSaveEdit}>\n                                    <i className=\"bi bi-check\"></i>\n                                  </button>\n                                  <button className=\"btn btn-sm btn-secondary\" onClick={handleCancelEdit}>\n                                    <i className=\"bi bi-x\"></i>\n                                  </button>\n                                </div>\n                              ) : (\n                                <span\n                                  onClick={() => row.gradeId && handleStartEdit('grade', row.gradeId, row.sessionIndex, row.gradeName, row.gradeIndex)}\n                                  title={row.gradeId ? \"Click to edit\" : \"\"}\n                                  style={{ color: row.gradeId ? 'inherit' : '#6c757d' }}\n                                >\n                                  {row.gradeName}\n                                </span>\n                              )}\n                            </td>\n\n                            {/* Section Cell */}\n                            <td className=\"editable-cell\">\n                              {editState?.type === 'section' && editState.sessionIndex === row.sessionIndex && editState.gradeIndex === row.gradeIndex && editState.sectionIndex === row.sectionIndex ? (\n                                <div className=\"d-flex gap-1\">\n                                  <input\n                                    type=\"text\"\n                                    className=\"form-control form-control-sm\"\n                                    value={editValue}\n                                    onChange={(e) => setEditValue(e.target.value)}\n                                    onKeyPress={(e) => {\n                                      if (e.key === 'Enter') handleSaveEdit();\n                                      if (e.key === 'Escape') handleCancelEdit();\n                                    }}\n                                    autoFocus\n                                  />\n                                  <button className=\"btn btn-sm btn-success\" onClick={handleSaveEdit}>\n                                    <i className=\"bi bi-check\"></i>\n                                  </button>\n                                  <button className=\"btn btn-sm btn-secondary\" onClick={handleCancelEdit}>\n                                    <i className=\"bi bi-x\"></i>\n                                  </button>\n                                </div>\n                              ) : (\n                                <span\n                                  onClick={() => row.sectionId && handleStartEdit('section', row.sectionId, row.sessionIndex, row.sectionName, row.gradeIndex, row.sectionIndex)}\n                                  title={row.sectionId ? \"Click to edit\" : \"\"}\n                                  style={{ color: row.sectionId ? 'inherit' : '#6c757d' }}\n                                >\n                                  {row.sectionName}\n                                </span>\n                              )}\n                            </td>\n\n                            {/* Actions Cell */}\n                            <td>\n                              <div className=\"d-flex gap-1\">\n                                {row.sectionId && (\n                                  <button\n                                    className=\"btn btn-sm btn-outline-danger\"\n                                    onClick={() => handleDeleteConfirm('section', row.sectionId, row.sectionName, row.sessionIndex, row.gradeIndex, row.sectionIndex)}\n                                    title=\"Delete section\"\n                                  >\n                                    <i className=\"bi bi-trash\"></i> Section\n                                  </button>\n                                )}\n                                {row.gradeId && !row.sectionId && (\n                                  <button\n                                    className=\"btn btn-sm btn-outline-danger\"\n                                    onClick={() => handleDeleteConfirm('grade', row.gradeId, row.gradeName, row.sessionIndex, row.gradeIndex)}\n                                    title=\"Delete grade\"\n                                  >\n                                    <i className=\"bi bi-trash\"></i> Grade\n                                  </button>\n                                )}\n                                {row.sessionId && !row.gradeId && (\n                                  <button\n                                    className=\"btn btn-sm btn-outline-danger\"\n                                    onClick={() => handleDeleteConfirm('session', row.sessionId, row.sessionName, row.sessionIndex)}\n                                    title=\"Delete session\"\n                                  >\n                                    <i className=\"bi bi-trash\"></i> Session\n                                  </button>\n                                )}\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                )}\n              </div>\n            </div>\n          </Modal.Body>\n\n          <Modal.Footer className=\"border-0 pt-0\">\n            <div className=\"d-flex justify-content-between w-100 align-items-center\">\n              <div className=\"text-muted small\">\n                {props.data?.instituteCode && (\n                  <>\n                    <span className=\"fw-semibold\">Institute Code: </span>\n                    <span>{props.data.instituteCode}</span>\n                  </>\n                )}\n              </div>\n\n              <div className=\"d-flex gap-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-sm btn-light\"\n                  onClick={() => props.onHide()}\n                  disabled={loading}\n                >\n                  Close\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"btn btn-sm btn-primary\"\n                  onClick={handleSubmitNew}\n                  disabled={loading || newSessionsData.length === 0}\n                >\n                  {!loading && (\n                    <span className=\"d-flex align-items-center gap-1\">\n                      <i className=\"bi bi-check-circle\"></i>\n                      Submit New ({newSessionsData.length})\n                    </span>\n                  )}\n                  {loading && (\n                    <span className=\"d-flex align-items-center gap-2\">\n                      <span className=\"spinner-border spinner-border-sm\" />\n                      Submitting...\n                    </span>\n                  )}\n                </button>\n              </div>\n            </div>\n          </Modal.Footer>\n        </div>\n      </Modal>\n\n      {/* Delete Confirmation Modal */}\n      <Modal show={deleteConfirm !== null} onHide={() => setDeleteConfirm(null)} centered size=\"sm\">\n        <Modal.Header closeButton>\n          <Modal.Title className=\"h5\">Confirm Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p className=\"mb-2\">Are you sure you want to delete this {deleteConfirm?.type}?</p>\n          <p className=\"fw-bold text-danger mb-2\">\"{deleteConfirm?.name}\"</p>\n          {deleteConfirm?.type === 'session' && (\n            <p className=\"text-warning small mb-0\">\n              <i className=\"bi bi-exclamation-triangle me-1\"></i>\n              This will also delete all grades and sections within this session.\n            </p>\n          )}\n          {deleteConfirm?.type === 'grade' && (\n            <p className=\"text-warning small mb-0\">\n              <i className=\"bi bi-exclamation-triangle me-1\"></i>\n              This will also delete all sections within this grade.\n            </p>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" size=\"sm\" onClick={() => setDeleteConfirm(null)}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" size=\"sm\" onClick={handleDeleteConfirmed} disabled={loading}>\n            {loading ? (\n              <span className=\"d-flex align-items-center gap-1\">\n                <span className=\"spinner-border spinner-border-sm\" />\n                Deleting...\n              </span>\n            ) : (\n              \"Delete\"\n            )}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default CollegeSectionSessionGradeModal;\n","import { useEffect, useState } from \"react\";\nimport { Modal, Button, Form, Spinner, Badge } from \"react-bootstrap\";\nimport { MdContentCopy, MdDelete } from \"react-icons/md\";\nimport { GetSessionsByInstituteCode } from \"../API/College_APIs\";\nimport {\n  createAssessmentMapping,\n  getAssessmentMappingsByInstitute,\n  getAssessmentSummaryList,\n  deleteAssessmentMapping,\n  updateAssessmentMapping,\n} from \"../../AssessmentMapping/API/AssessmentMapping_APIs\";\n\ninterface AssessmentMappingModalProps {\n  show: boolean;\n  onHide: () => void;\n  instituteCode: number;\n  instituteName: string;\n}\n\nconst AssessmentMappingModal = (props: AssessmentMappingModalProps) => {\n  const [assessments, setAssessments] = useState<any[]>([]);\n  const [sessions, setSessions] = useState<any[]>([]);\n  const [mappings, setMappings] = useState<any[]>([]);\n\n  const [selectedAssessment, setSelectedAssessment] = useState<string>(\"\");\n  const [mappingLevel, setMappingLevel] = useState<string>(\"CLASS\");\n  const [selectedSession, setSelectedSession] = useState<string>(\"\");\n  const [selectedClass, setSelectedClass] = useState<string>(\"\");\n  const [selectedSection, setSelectedSection] = useState<string>(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [copySuccess, setCopySuccess] = useState<string>(\"\");\n\n  // Derived: classes and sections from selected session/class\n  const selectedSessionObj = sessions.find(\n    (s: any) => String(s.id) === selectedSession\n  );\n  const classes: any[] = selectedSessionObj?.schoolClasses || [];\n\n  const selectedClassObj = classes.find(\n    (c: any) => String(c.id) === selectedClass\n  );\n  const sections: any[] = selectedClassObj?.schoolSections || [];\n\n  useEffect(() => {\n    if (props.show && props.instituteCode) {\n      loadData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.show, props.instituteCode]);\n\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const [assessmentRes, sessionRes, mappingRes] = await Promise.all([\n        getAssessmentSummaryList(),\n        GetSessionsByInstituteCode(props.instituteCode),\n        getAssessmentMappingsByInstitute(props.instituteCode),\n      ]);\n      setAssessments(\n        (assessmentRes.data || []).filter((a: any) => a.isActive !== false)\n      );\n      setSessions(sessionRes.data || []);\n      setMappings(mappingRes.data || []);\n    } catch (error) {\n      console.error(\"Failed to load data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreate = async () => {\n    if (!selectedAssessment) {\n      alert(\"Please select an assessment\");\n      return;\n    }\n\n    const data: any = {\n      assessmentId: Number(selectedAssessment),\n      instituteCode: props.instituteCode,\n      mappingLevel: mappingLevel,\n    };\n\n    if (mappingLevel === \"SESSION\") {\n      if (!selectedSession) {\n        alert(\"Please select a session\");\n        return;\n      }\n      data.sessionId = Number(selectedSession);\n    } else if (mappingLevel === \"CLASS\") {\n      if (!selectedSession || !selectedClass) {\n        alert(\"Please select a session and class\");\n        return;\n      }\n      data.sessionId = Number(selectedSession);\n      data.classId = Number(selectedClass);\n    } else if (mappingLevel === \"SECTION\") {\n      if (!selectedSession || !selectedClass || !selectedSection) {\n        alert(\"Please select a session, class, and section\");\n        return;\n      }\n      data.sessionId = Number(selectedSession);\n      data.classId = Number(selectedClass);\n      data.sectionId = Number(selectedSection);\n    }\n\n    setSubmitting(true);\n    try {\n      await createAssessmentMapping(data);\n      // Refresh mappings\n      const res = await getAssessmentMappingsByInstitute(props.instituteCode);\n      setMappings(res.data || []);\n      // Reset form\n      setSelectedAssessment(\"\");\n      setSelectedSession(\"\");\n      setSelectedClass(\"\");\n      setSelectedSection(\"\");\n    } catch (error: any) {\n      console.error(\"Failed to create mapping:\", error);\n      alert(\n        \"Failed to create mapping: \" +\n          (error.response?.data || error.message)\n      );\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    if (!window.confirm(\"Are you sure you want to delete this mapping?\"))\n      return;\n    try {\n      await deleteAssessmentMapping(id);\n      setMappings(mappings.filter((m) => m.mappingId !== id));\n    } catch (error) {\n      console.error(\"Failed to delete mapping:\", error);\n    }\n  };\n\n  const handleToggleActive = async (mapping: any) => {\n    try {\n      await updateAssessmentMapping(mapping.mappingId, {\n        isActive: !mapping.isActive,\n      });\n      setMappings(\n        mappings.map((m) =>\n          m.mappingId === mapping.mappingId\n            ? { ...m, isActive: !m.isActive }\n            : m\n        )\n      );\n    } catch (error) {\n      console.error(\"Failed to update mapping:\", error);\n    }\n  };\n\n  const getRegistrationUrl = (token: string) => {\n    return `${window.location.origin}/assessment-register/${token}`;\n  };\n\n  const copyToClipboard = (token: string) => {\n    navigator.clipboard.writeText(getRegistrationUrl(token));\n    setCopySuccess(token);\n    setTimeout(() => setCopySuccess(\"\"), 2000);\n  };\n\n  const getAssessmentName = (assessmentId: number) => {\n    const a = assessments.find((a: any) => a.id === assessmentId);\n    return a ? a.AssessmentName || a.assessmentName || `ID: ${assessmentId}` : `ID: ${assessmentId}`;\n  };\n\n  const getLevelLabel = (mapping: any) => {\n    const parts: string[] = [];\n    if (mapping.sessionId) {\n      const s = sessions.find((s: any) => s.id === mapping.sessionId);\n      if (s) parts.push(s.sessionYear);\n    }\n    if (mapping.classId) {\n      // Find class in sessions\n      for (const session of sessions) {\n        const cls = (session.schoolClasses || []).find(\n          (c: any) => c.id === mapping.classId\n        );\n        if (cls) {\n          parts.push(`Class ${cls.className}`);\n          if (mapping.sectionId) {\n            const sec = (cls.schoolSections || []).find(\n              (s: any) => s.id === mapping.sectionId\n            );\n            if (sec) parts.push(`Section ${sec.sectionName}`);\n          }\n          break;\n        }\n      }\n    }\n    return parts.join(\" / \") || mapping.mappingLevel;\n  };\n\n  return (\n    <Modal show={props.show} onHide={props.onHide} size=\"xl\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title>\n          Assessment Mapping - {props.instituteName}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {loading ? (\n          <div className=\"text-center py-5\">\n            <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n            Loading...\n          </div>\n        ) : (\n          <>\n            {/* Create Form */}\n            <div className=\"card card-body bg-light mb-4\">\n              <h6 className=\"mb-3\">Create New Mapping</h6>\n              <div className=\"row g-3\">\n                <div className=\"col-md-4\">\n                  <Form.Label>Assessment</Form.Label>\n                  <Form.Select\n                    value={selectedAssessment}\n                    onChange={(e) => setSelectedAssessment(e.target.value)}\n                  >\n                    <option value=\"\">Select Assessment</option>\n                    {assessments.map((a: any) => (\n                      <option key={a.id} value={a.id}>\n                        {a.AssessmentName || a.assessmentName}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </div>\n\n                <div className=\"col-md-2\">\n                  <Form.Label>Level</Form.Label>\n                  <Form.Select\n                    value={mappingLevel}\n                    onChange={(e) => {\n                      setMappingLevel(e.target.value);\n                      setSelectedClass(\"\");\n                      setSelectedSection(\"\");\n                    }}\n                  >\n                    <option value=\"SESSION\">Session</option>\n                    <option value=\"CLASS\">Class</option>\n                    <option value=\"SECTION\">Section</option>\n                  </Form.Select>\n                </div>\n\n                <div className=\"col-md-2\">\n                  <Form.Label>Session</Form.Label>\n                  <Form.Select\n                    value={selectedSession}\n                    onChange={(e) => {\n                      setSelectedSession(e.target.value);\n                      setSelectedClass(\"\");\n                      setSelectedSection(\"\");\n                    }}\n                  >\n                    <option value=\"\">Select Session</option>\n                    {sessions.map((s: any) => (\n                      <option key={s.id} value={s.id}>\n                        {s.sessionYear}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </div>\n\n                {(mappingLevel === \"CLASS\" || mappingLevel === \"SECTION\") && (\n                  <div className=\"col-md-2\">\n                    <Form.Label>Class</Form.Label>\n                    <Form.Select\n                      value={selectedClass}\n                      onChange={(e) => {\n                        setSelectedClass(e.target.value);\n                        setSelectedSection(\"\");\n                      }}\n                    >\n                      <option value=\"\">Select Class</option>\n                      {classes.map((c: any) => (\n                        <option key={c.id} value={c.id}>\n                          {c.className}\n                        </option>\n                      ))}\n                    </Form.Select>\n                  </div>\n                )}\n\n                {mappingLevel === \"SECTION\" && (\n                  <div className=\"col-md-2\">\n                    <Form.Label>Section</Form.Label>\n                    <Form.Select\n                      value={selectedSection}\n                      onChange={(e) => setSelectedSection(e.target.value)}\n                    >\n                      <option value=\"\">Select Section</option>\n                      {sections.map((s: any) => (\n                        <option key={s.id} value={s.id}>\n                          {s.sectionName}\n                        </option>\n                      ))}\n                    </Form.Select>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mt-3\">\n                <Button\n                  variant=\"primary\"\n                  size=\"sm\"\n                  onClick={handleCreate}\n                  disabled={submitting}\n                >\n                  {submitting ? (\n                    <>\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-1\" />\n                      Creating...\n                    </>\n                  ) : (\n                    \"Create Mapping\"\n                  )}\n                </Button>\n              </div>\n            </div>\n\n            {/* Existing Mappings Table */}\n            <h6 className=\"mb-3\">\n              Existing Mappings ({mappings.length})\n            </h6>\n            {mappings.length === 0 ? (\n              <div className=\"text-muted text-center py-3\">\n                No assessment mappings yet. Create one above.\n              </div>\n            ) : (\n              <div style={{ maxHeight: \"400px\", overflowY: \"auto\" }}>\n                <table className=\"table table-striped table-hover table-sm\">\n                  <thead\n                    className=\"table-dark\"\n                    style={{ position: \"sticky\", top: 0 }}\n                  >\n                    <tr>\n                      <th>Assessment</th>\n                      <th>Level</th>\n                      <th>Details</th>\n                      <th>Status</th>\n                      <th>URL</th>\n                      <th style={{ width: \"100px\" }}>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {mappings.map((mapping: any) => (\n                      <tr key={mapping.mappingId}>\n                        <td>{getAssessmentName(mapping.assessmentId)}</td>\n                        <td>\n                          <Badge bg=\"info\">{mapping.mappingLevel}</Badge>\n                        </td>\n                        <td style={{ fontSize: \"0.85em\" }}>\n                          {getLevelLabel(mapping)}\n                        </td>\n                        <td>\n                          <Badge\n                            bg={mapping.isActive ? \"success\" : \"secondary\"}\n                            style={{ cursor: \"pointer\" }}\n                            onClick={() => handleToggleActive(mapping)}\n                          >\n                            {mapping.isActive ? \"Active\" : \"Inactive\"}\n                          </Badge>\n                        </td>\n                        <td>\n                          <Button\n                            variant=\"outline-primary\"\n                            size=\"sm\"\n                            onClick={() => copyToClipboard(mapping.token)}\n                            title=\"Copy URL\"\n                          >\n                            <MdContentCopy size={14} />\n                            {copySuccess === mapping.token ? (\n                              <span className=\"ms-1\" style={{ fontSize: \"0.8em\" }}>\n                                Copied!\n                              </span>\n                            ) : (\n                              <span className=\"ms-1\" style={{ fontSize: \"0.8em\" }}>\n                                Copy\n                              </span>\n                            )}\n                          </Button>\n                        </td>\n                        <td>\n                          <Button\n                            variant=\"outline-danger\"\n                            size=\"sm\"\n                            onClick={() => handleDelete(mapping.mappingId)}\n                          >\n                            <MdDelete size={14} />\n                          </Button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </>\n        )}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={props.onHide}>\n          Close\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default AssessmentMappingModal;\n","// CollegeTable.tsx\nimport React, { useState } from \"react\";\nimport { MDBDataTableV5 } from \"mdbreact\";\nimport { AiFillEdit, AiOutlineInfoCircle } from \"react-icons/ai\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport UseAnimations from \"react-useanimations\";\nimport trash from \"react-useanimations/lib/trash\";\nimport { Button, Dropdown } from \"react-bootstrap\";\nimport { IconContext } from \"react-icons\";\nimport { MdEdit, MdDelete, MdSchool, MdOutlineDashboard, MdUploadFile } from \"react-icons/md\";\n\nimport { DeleteCollegeData } from \"../API/College_APIs\";\nimport CollegeEditModal from \"./CollegeEditModal\";\nimport CollegeInfoModal from \"./CollegeInfoModal\";\nimport CollegeAssignRoleModal from \"../components/CollegeAssignRoleModal\";\nimport CollegeDetailModal from \"./CollegeSectionSessionGradeModal\";\nimport AssessmentMappingModal from \"./AssessmentMappingModal\";\n\n// Layout reference image (local path)\nconst layoutImagePath = \"/mnt/data/556d6c4d-1033-4fd7-8d4f-f02d4f436ce2.png\";\n\n/**\n * Row item shape coming from parent table data\n * (kept permissive  API may return extra fields)\n */\ntype CollegeRow = {\n  id?: string | number; //  added: backend id used for delete\n  instituteName?: string;\n  instituteAddress?: string;\n  instituteCode?: string;\n  display?: boolean | string | number | undefined;\n  // optional: questionOptions, contactPersons, etc. if present from API\n  questionOptions?: string[];\n  contactPersons?: any[];\n  [k: string]: any;\n};\n\n/**\n * Modal-friendly partial form shape (matches CollegeInfoModal expected fields).\n * We only include fields the modal uses.\n */\ntype ModalData = {\n  instituteName?: string;\n  instituteAddress?: string;\n  instituteCode?: string;\n  display?: string | number | undefined;\n  questionOptions?: string[];\n  contactPersons?: any[];\n};\n\nconst CollegeTable = (props: {\n  data?: CollegeRow[];\n  setLoading: (v: boolean) => void;\n  setPageLoading: (v: any) => void;\n  onUploadClick?: (college: CollegeRow) => void;\n}) => {\n  const [modalShowEdit, setModalShowEdit] = useState(false);\n  const [editModalData, setEditModalData] = useState<CollegeRow>({\n    instituteName: \"\",\n    instituteAddress: \"\",\n    instituteCode: \"\",\n  });\n\n  // Info modal state: typed as ModalData | undefined\n  const [infoModalShow, setInfoModalShow] = useState(false);\n  const [infoModalData, setInfoModalData] = useState<ModalData | undefined>(\n    undefined\n  );\n\n  const [detailModalShow, setDetailModalShow] = useState(false);\n  const [detailModalData, setDetailModalData] = useState<ModalData | undefined>(\n    undefined\n  );\n\n  const [infoRolesModalShow, setInfoRolesModalShow] = useState(false);\n  const [infoRolesModalData, setInfoRolesModalData] = useState<ModalData | undefined>(\n    undefined\n  );\n\n  const [assessmentMappingModalShow, setAssessmentMappingModalShow] = useState(false);\n  const [assessmentMappingInstitute, setAssessmentMappingInstitute] = useState<{\n    code: number;\n    name: string;\n  }>({ code: 0, name: \"\" });\n\n  const navigate = useNavigate();\n  // convert a table row into the modal-compatible partial form shape\n  const toModalData = (row: CollegeRow): ModalData => {\n    // convert boolean display -> numeric (1/0), keep numeric/string as is\n    let display: string | number | undefined;\n    if (typeof row.display === \"boolean\") display = row.display ? 1 : 0;\n    else display = row.display as string | number | undefined;\n\n    return {\n      instituteName: row.instituteName ?? \"\",\n      instituteAddress: row.instituteAddress ?? \"\",\n      instituteCode: row.instituteCode ?? \"\",\n      display,\n      // preserve if API returned these already, otherwise use minimal defaults\n      questionOptions: row.questionOptions ?? [\"\"],\n      contactPersons:\n        row.contactPersons &&\n        Array.isArray(row.contactPersons) &&\n        row.contactPersons.length\n          ? row.contactPersons\n          : [\n              {\n                name: \"\",\n                email: \"\",\n                phone: \"\",\n                gender: \"\",\n                designation: \"\",\n              },\n            ],\n    };\n  };\n\n  // Prepare rows only for items with display === true (accepts boolean or numeric/string truthy)\n  const rows =\n    (props.data ?? [])\n      .filter((d) => {\n        if (!d) return false;\n        // if display is boolean, require true; if string/number, treat \"true\"/1 as shown\n        if (typeof d.display === \"boolean\") return d.display === true;\n        if (typeof d.display === \"number\") return d.display !== 0;\n        if (typeof d.display === \"string\")\n          return d.display !== \"0\" && d.display !== \"false\";\n        return Boolean(d.display);\n      })\n      .map((data) => ({\n        name: data.instituteName ?? \"\",\n        code: data.instituteCode ?? \"\",\n        address: data.instituteAddress ?? \"\",\n        actions: (\n          <>\n            {/* Edit Button */}\n            <button\n              type=\"button\"\n              onClick={() => {\n                setEditModalData(data);\n                setModalShowEdit(true);\n              }}\n              className=\"btn btn-icon btn-primary btn-sm me-3\"\n            >\n              <AiFillEdit size={16} />\n            </button>\n\n            {/* Delete Button */}\n            <button\n              type=\"button\"\n              onClick={async () => {\n                try {\n                  const deleteId = data.id ?? data.instituteCode;\n\n                  console.log(\"Attempting to delete college. Row:\", data);\n                  console.log(\"Using deleteId:\", deleteId);\n\n                  if (!deleteId) {\n                    console.error(\n                      \"No 'id' or 'instituteCode' found on this row. Cannot call DeleteCollegeData.\"\n                    );\n                    alert(\"Cannot delete: no valid ID found for this record.\");\n                    return;\n                  }\n\n                  props.setLoading(true);\n\n                  //  Backend expects /instituteDetail/delete/{id}\n                  await DeleteCollegeData(deleteId);\n\n                  // trigger parent reload  toggle pattern is generic\n                  props.setPageLoading((p: any) => !p);\n                } catch (err) {\n                  console.error(\"Delete failed:\", err);\n                  alert(\"Delete failed. Check console for details.\");\n                } finally {\n                  props.setLoading(false);\n                }\n              }}\n              className=\"btn btn-icon btn-danger btn-sm me-3\"\n            >\n              <UseAnimations\n                animation={trash}\n                size={22}\n                strokeColor={\"#EFF8FE\"}\n              />\n            </button>\n\n            {/* Actions Dropdown - Combines Add Course, Info, and Assign Role */}\n            <Dropdown className=\"d-inline\">\n              <Dropdown.Toggle \n                variant=\"success\" \n                size=\"sm\" \n                id={`dropdown-${data.instituteCode}`}\n                className=\"dropdown-toggle\"\n              >\n                Actions\n              </Dropdown.Toggle>\n\n              <Dropdown.Menu\n                style={{\n                  minWidth: '150px',\n                  zIndex: 1050,\n                }}\n                popperConfig={{ strategy: 'fixed' }}\n                renderOnMount\n              >\n                {/* Add Course */}\n                <Link\n                  to=\"/course\"\n                  state={{\n                    collegeId: data.instituteCode,\n                    college: data.instituteName,\n                  }}\n                  style={{ textDecoration: 'none' }}\n                >\n                  <Dropdown.Item as=\"button\">\n                    <AiOutlineInfoCircle size={18} className=\"me-2\" />\n                    Add Course\n                  </Dropdown.Item>\n                </Link>\n\n                {/* Info */}\n                <Dropdown.Item\n                  onClick={() => {\n                    setInfoModalData(toModalData(data));\n                    setInfoModalShow(true);\n                  }}\n                >\n                  <AiOutlineInfoCircle size={18} className=\"me-2\" />\n                  Info\n                </Dropdown.Item>\n\n                {/* Add Details */}\n                <Dropdown.Item\n                  onClick={() => {\n                    setDetailModalData(toModalData(data));\n                    setDetailModalShow(true);\n                  }}\n                >\n                  <AiOutlineInfoCircle size={18} className=\"me-2\" />\n                  Add Details\n                </Dropdown.Item>\n\n                {/* Assign Role */}\n                <Dropdown.Item\n                  onClick={() => {\n                    setInfoRolesModalData(toModalData(data));\n                    setInfoRolesModalShow(true);\n                  }}\n                >\n                  <AiOutlineInfoCircle size={18} className=\"me-2\" />\n                  Assign Roles\n                </Dropdown.Item>\n\n                {/* Assessment Mapping */}\n                <Dropdown.Item\n                  onClick={() => {\n                    setAssessmentMappingInstitute({\n                      code: Number(data.instituteCode),\n                      name: data.instituteName || \"\",\n                    });\n                    setAssessmentMappingModalShow(true);\n                  }}\n                >\n                  <MdSchool size={18} className=\"me-2\" />\n                  Assessment Mapping\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n\n            {/* Upload students excel for this institute */}\n            <Button\n              variant=\"outline-success\"\n              size=\"sm\"\n              onClick={() => {\n                if (props.onUploadClick) {\n                  props.onUploadClick(editModalData);\n                }\n              }}\n              onClickCapture={() => {\n                if (typeof ({} as any) === \"undefined\") {}\n              }}\n            >\n              {/* fallback when using compiled TypeScript; real handler below */}\n            </Button>\n            {/* School Dashboard */}\n            <Button\n              variant=\"outline-info\"\n              size=\"sm\"\n              className=\"me-2\"\n              onClick={() => navigate(`/school/dashboard/${data.instituteCode || data.id}`)}\n            >\n              <IconContext.Provider value={{ style: { paddingBottom: \"3px\" } }}>\n                <MdOutlineDashboard />\n              </IconContext.Provider>\n              <span style={{ marginLeft: 6 }}>Dashboard</span>\n            </Button>\n\n            {/* Actual safe handler - call passed in prop */}\n            <Button\n              variant=\"outline-success\"\n              size=\"sm\"\n              className=\"me-2\"\n              onClick={() => props.onUploadClick && props.onUploadClick(data)}\n            >\n              <IconContext.Provider value={{ style: { paddingBottom: \"3px\" } }}>\n                <MdUploadFile />\n              </IconContext.Provider>\n              <span style={{ marginLeft: 6 }}>Upload Students</span>\n            </Button>\n            {/* Simpler: call prop directly if provided */}\n            <Button\n              hidden\n              onClick={() => {}}\n            />\n          </>\n        ),\n      })) ?? [];\n\n  const datatable = {\n    columns: [\n      {\n        label: \"Name\",\n        field: \"name\",\n        width: 150,\n        attributes: {\n          \"aria-controls\": \"DataTable\",\n          \"aria-label\": \"Name\",\n        },\n      },\n      {\n        label: \"Code\",\n        field: \"code\",\n        sort: \"asc\",\n        width: 100,\n      },\n      {\n        label: \"Address\",\n        field: \"address\",\n        width: 100,\n      },\n      {\n        label: \"Actions\",\n        field: \"actions\",\n        sort: \"disabled\",\n        width: 150,\n      },\n    ],\n    rows: rows,\n  };\n\n  return (\n    <>\n      <MDBDataTableV5\n        hover\n        scrollY\n        maxHeight=\"160vh\"\n        entriesOptions={[5, 20, 25]}\n        entries={25}\n        pagesAmount={4}\n        data={datatable}\n      />\n\n      {/* Edit modal (existing) */}\n      <CollegeEditModal\n        show={modalShowEdit}\n        onHide={() => setModalShowEdit(false)}\n        data={editModalData}\n        setPageLoading={props.setPageLoading}\n      />\n\n      {/* Info modal */}\n      <CollegeInfoModal\n        show={infoModalShow}\n        onHide={() => setInfoModalShow(false)}\n        data={infoModalData}\n        setPageLoading={props.setPageLoading}\n      />\n      {/* Detail modal */}\n      <CollegeDetailModal\n        show={detailModalShow}\n        onHide={() => setDetailModalShow(false)}\n        data={detailModalData}\n        setPageLoading={props.setPageLoading}\n      />\n\n      {/* Assign Roles */}\n      <CollegeAssignRoleModal\n        show={infoRolesModalShow}\n        onHide={() => setInfoRolesModalShow(false)}\n        data={infoRolesModalData}\n        setPageLoading={props.setPageLoading}\n      />\n\n      {/* Assessment Mapping */}\n      <AssessmentMappingModal\n        show={assessmentMappingModalShow}\n        onHide={() => setAssessmentMappingModalShow(false)}\n        instituteCode={assessmentMappingInstitute.code}\n        instituteName={assessmentMappingInstitute.name}\n      />\n    </>\n  );\n};\n\nexport default CollegeTable;","import React, { useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\n\ntype Props = {\n  show: boolean;\n  onHide: () => void;\n  college: any | null;\n  onUploaded?: () => void;\n};\n\nconst StudentUploadModal: React.FC<Props> = ({ show, onHide, college, onUploaded }) => {\n  const [file, setFile] = useState<File | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  const onFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFile(e.target.files?.[0] || null);\n  };\n\n  const upload = async () => {\n    if (!file || !college) {\n      setMessage(\"Please select a file and institute.\");\n      return;\n    }\n    setLoading(true);\n    setMessage(null);\n    try {\n      const fd = new FormData();\n      fd.append(\"file\", file);\n      // Adjust endpoint to match your backend\n      const res = await fetch(`/api/colleges/${college.instituteCode || college.id}/students/upload`, {\n        method: \"POST\",\n        body: fd,\n      });\n      if (!res.ok) throw new Error(\"Upload failed\");\n      setMessage(\"Uploaded successfully\");\n      if (onUploaded) onUploaded();\n    } catch (err) {\n      console.error(err);\n      setMessage(\"Upload failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Modal show={show} onHide={onHide} size=\"lg\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Upload Students Excel</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div>\n          <div><strong>Institute:</strong> {college?.instituteName || \"\"}</div>\n          <Form.Group className=\"mt-3\">\n            <Form.Label>Student file (.xlsx, .xls, .csv)</Form.Label>\n            <Form.Control type=\"file\" accept=\".xlsx,.xls,.csv\" onChange={onFileChange} />\n            <Form.Text className=\"text-muted\">First row should contain headers (name, email, rollNo etc.)</Form.Text>\n          </Form.Group>\n          {message && <div className=\"mt-2\">{message}</div>}\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={onHide} disabled={loading}>Close</Button>\n        <Button variant=\"primary\" onClick={upload} disabled={loading || !file}>\n          {loading ? \"Uploading\" : \"Upload\"}\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default StudentUploadModal;","import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport { IconContext } from \"react-icons\";\nimport { MdSchool } from \"react-icons/md\";\nimport { MdPersonAdd } from \"react-icons/md\";\nimport { ReadCollegeData } from \"./API/College_APIs\";\nimport CollegeCreateModal from \"./components/CollegeCreateModal\";\nimport CollegeTable from \"./components/CollegeTable\";\nimport StudentUploadModal from \"./components/StudentUploadModal\";\n\nconst CollegePage = () => {\n  const [modalShowCreate, setModalShowCreate] = useState(false);\n  const [collegeData, setCollegeData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pageLoading, setPageLoading] = useState([\"false\"]);\n  const [showStudentUpload, setShowStudentUpload] = useState(false);\n  const [selectedCollegeForUpload, setSelectedCollegeForUpload] = useState<any>(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setLoading(true);\n    try {\n      ReadCollegeData().then((data) => {\n        setCollegeData(data.data);\n        setLoading(false);\n      });\n    } catch (error) {\n      console.error(error);\n      // window.location.replace(\"/error\");\n    }\n  }, [pageLoading]);\n\n  const openUploadForCollege = (college: any) => {\n    setSelectedCollegeForUpload(college);\n    setShowStudentUpload(true);\n  };\n\n  const onUploadComplete = () => {\n    // trigger refresh\n    setShowStudentUpload(false);\n    setSelectedCollegeForUpload(null);\n    setPageLoading([String(Date.now())]);\n  };\n\n  return (\n    <div className=\"card\">\n      {loading && (\n        <span className=\"indicator-progress m-5\" style={{ display: \"block\" }}>\n          Please wait...{\" \"}\n          <span className=\"spinner-border spinner-border-sm align-middle ms-2\"></span>\n        </span>\n      )}\n\n      {!loading && (\n        <div className=\"card-header border-0 pt-6\">\n          <div className=\"card-title\">\n            <h1>Institutes List</h1>\n          </div>\n\n          <div className=\"card-toolbar\">\n            <div className=\"d-flex justify-content-end\">\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <Button\n                  variant=\"primary\"\n                  onClick={() => {\n                    setModalShowCreate(true);\n                  }}\n                >\n                  <IconContext.Provider value={{ style: { paddingBottom: \"4px\" } }}>\n                    <div>\n                      Add Institute <MdSchool size={21} />\n                    </div>\n                  </IconContext.Provider>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {!loading && (\n        <div className=\"card-body pt-5\">\n          <CollegeTable\n            data={collegeData}\n            setLoading={setLoading}\n            setPageLoading={setPageLoading}\n            onUploadClick={openUploadForCollege}\n          />\n        </div>\n      )}\n\n      <CollegeCreateModal\n        setPageLoading={setPageLoading}\n        show={modalShowCreate}\n        onHide={() => setModalShowCreate(false)}\n      />\n\n      <StudentUploadModal\n        show={showStudentUpload}\n        onHide={() => setShowStudentUpload(false)}\n        college={selectedCollegeForUpload}\n        onUploaded={onUploadComplete}\n      />\n    </div>\n  );\n};\n\nexport default CollegePage;\n","import clsx from \"clsx\";\nimport { useFormik } from \"formik\";\nimport { useState } from \"react\";\nimport { Modal } from \"react-bootstrap-v5\";\nimport UseAnimations from \"react-useanimations\";\nimport menu2 from \"react-useanimations/lib/menu2\";\nimport * as Yup from \"yup\";\nimport { UpdateCollegeData } from \"../API/College_APIs\";\n\nconst validationSchema = Yup.object().shape({\n  instituteName: Yup.string().required(),\n  instituteAddress: Yup.string().required(),\n  instituteCode: Yup.string().required(),\n  maxStudents: Yup.string().required(),\n  maxContactPersons: Yup.string().required(),\n});\n\nconst CollegeEditModal = (props: {\n  show: Boolean;\n  onHide: any;\n  data: any;\n  setPageLoading: any;\n}) => {\n  const [loading, setLoading] = useState(false);\n\n  var initialValues: any = {\n    instituteName: props.data.instituteName,\n    instituteAddress: props.data.instituteAddress,\n    instituteCode: props.data.instituteCode,\n    maxStudents: props.data.maxStudents,\n    maxContactPersons: props.data.maxContactPersons,\n    display: 1,\n  };\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues,\n    validationSchema: validationSchema,\n    onSubmit: (values) => {\n      try {\n        setLoading(true);\n        UpdateCollegeData(values).then(() => {\n          props.onHide(false);\n          props.setPageLoading([\"true\"]);\n        });\n      } catch (error) {\n        console.error(error);\n        window.location.replace(\"/error\");\n      }\n    },\n  });\n  return (\n    <Modal {...props} aria-labelledby=\"contained-modal-title-vcenter\" centered>\n      <Modal.Header>\n        <Modal.Title>\n          <h1>Edit College</h1>\n        </Modal.Title>\n        <div\n          className=\"btn btn-sm btn-icon btn-active-color-primary\"\n          onClick={props.onHide}\n        >\n          <UseAnimations\n            animation={menu2}\n            size={28}\n            strokeColor={\"#181C32\"}\n            reverse={true}\n          />\n        </div>\n      </Modal.Header>\n      <form\n        className=\"form w-100 fv-plugins-bootstrap5 fv-plugins-framework\"\n        onSubmit={formik.handleSubmit}\n      >\n        <Modal.Body>\n          <div className=\"modal-body\">\n            <div\n              className=\"scroll-y me-n7 pe-7\"\n              id=\"kt_modal_add_scroll\"\n              data-kt-scroll=\"true\"\n              data-kt-scroll-activate=\"{default: false, lg: true}\"\n              data-kt-scroll-max-height=\"auto\"\n              data-kt-scroll-dependencies=\"#kt_modal_add_header\"\n              data-kt-scroll-wrappers=\"#kt_modal_add_scroll\"\n              data-kt-scroll-offset=\"300px\"\n            >\n              <div className=\"fv-row mb-7\">\n                <label className=\"fs-6 fw-bold mb-2\">Institute Code :</label>\n\n                <input\n                  placeholder=\"Enter Institute Code\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  {...formik.getFieldProps(\"instituteCode\")}\n                  className=\"form-control form-control-lg form-control-solid\"\n                  disabled\n                />\n              </div>\n              <div className=\"fv-row mb-7\">\n                <label className=\"required fs-6 fw-bold mb-2\">\n                  College Name :\n                </label>\n\n                <input\n                  placeholder=\"Enter College Name\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  {...formik.getFieldProps(\"instituteName\")}\n                  className={clsx(\n                    \"form-control form-control-lg form-control-solid\",\n                    {\n                      \"is-invalid text-danger\":\n                        formik.touched.instituteName &&\n                        formik.errors.instituteName,\n                    },\n                    {\n                      \"is-valid\":\n                        formik.touched.instituteName &&\n                        !formik.errors.instituteName,\n                    }\n                  )}\n                />\n                {formik.touched.instituteName && formik.errors.instituteName && (\n                  <div className=\"fv-plugins-message-container\">\n                    <div className=\"fv-help-block text-danger\">\n                      <span role=\"alert\">College Name is Required</span>\n                    </div>\n                  </div>\n                )}\n              </div>\n              <div className=\"fv-row mb-7\">\n                <label className=\"required fs-6 fw-bold mb-2\">\n                  Institute Address :\n                </label>\n\n                <input\n                  placeholder=\"Enter Institute Address\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  {...formik.getFieldProps(\"instituteAddress\")}\n                  className={clsx(\n                    \"form-control form-control-lg form-control-solid\",\n                    {\n                      \"is-invalid text-danger\":\n                        formik.touched.instituteAddress &&\n                        formik.errors.instituteAddress,\n                    },\n                    {\n                      \"is-valid\":\n                        formik.touched.instituteAddress &&\n                        !formik.errors.instituteAddress,\n                    }\n                  )}\n                />\n                {formik.touched.instituteAddress &&\n                  formik.errors.instituteAddress && (\n                    <div className=\"fv-plugins-message-container\">\n                      <div className=\"fv-help-block text-danger\">\n                        <span role=\"alert\">Institute Address is Required</span>\n                      </div>\n                    </div>\n                  )}\n              </div>\n\n              {/* Max Students */}\n              <div className=\"fv-row mb-7\">\n                <label className=\"required fs-6 fw-bold mb-2\">\n                  Maximum Students :\n                </label>\n                <input\n                  placeholder=\"Enter Maximum Students\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  {...formik.getFieldProps(\"maxStudents\")}\n                  className={clsx(\n                    \"form-control form-control-lg form-control-solid\",\n                    {\n                      \"is-invalid text-danger\":\n                        formik.touched.maxStudents && !!formik.errors.maxStudents,\n                    },\n                    {\n                      \"is-valid\":\n                        formik.touched.maxStudents && !formik.errors.maxStudents,\n                    }\n                  )}\n                />\n                {formik.touched.maxStudents && formik.errors.maxStudents && (\n                  <div className=\"fv-plugins-message-container\">\n                    <div className=\"fv-help-block text-danger\">\n                      <span role=\"alert\">Maximum Students is Required</span>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Max Contact Persons */}\n              <div className=\"fv-row mb-7\">\n                <label className=\"required fs-6 fw-bold mb-2\">\n                  Maximum Contact Persons :\n                </label>\n                <input\n                  placeholder=\"Enter Maximum Contact Persons\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  {...formik.getFieldProps(\"maxContactPersons\")}\n                  className={clsx(\n                    \"form-control form-control-lg form-control-solid\",\n                    {\n                      \"is-invalid text-danger\":\n                        formik.touched.maxContactPersons &&\n                        !!formik.errors.maxContactPersons,\n                    },\n                    {\n                      \"is-valid\":\n                        formik.touched.maxContactPersons &&\n                        !formik.errors.maxContactPersons,\n                    }\n                  )}\n                />\n                {formik.touched.maxContactPersons &&\n                  formik.errors.maxContactPersons && (\n                    <div className=\"fv-plugins-message-container\">\n                      <div className=\"fv-help-block text-danger\">\n                        <span role=\"alert\">\n                          Maximum Contact Persons is Required\n                        </span>\n                      </div>\n                    </div>\n                  )}\n              </div>\n\n            </div>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button\n            className=\"btn btn-sm btn-light btn-active-light-secoundary\"\n            onClick={props.onHide}\n          >\n            Close\n          </button>\n          <button\n            type=\"submit\"\n            id=\"kt_sign_up_submit\"\n            className=\"btn btn-sm btn-primary btn-active-light-secoundary\"\n            disabled={formik.isSubmitting || !formik.isValid}\n          >\n            {!loading && <span className=\"indicator-label\">Submit</span>}\n            {loading && (\n              <span className=\"indicator-progress\" style={{ display: \"block\" }}>\n                Please wait...{\" \"}\n                <span className=\"spinner-border spinner-border-sm align-middle ms-2\"></span>\n              </span>\n            )}\n          </button>\n        </Modal.Footer>\n      </form>\n    </Modal>\n  );\n};\n\nexport default CollegeEditModal;\n","/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nfunction createChainedFunction() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.filter(function (f) {\n    return f != null;\n  }).reduce(function (acc, f) {\n    if (typeof f !== 'function') {\n      throw new Error('Invalid Argument Type, must only provide functions, undefined, or null.');\n    }\n\n    if (acc === null) return f;\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      // @ts-ignore\n      acc.apply(this, args); // @ts-ignore\n\n      f.apply(this, args);\n    };\n  }, null);\n}\n\nexport default createChainedFunction;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport createChainedFunction from './createChainedFunction';\n\nfunction isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\n/**\n * There are situations due to browser quirks or Bootstrap CSS where\n * an anchor tag is needed, when semantically a button tag is the\n * better choice. SafeAnchor ensures that when an anchor is used like a\n * button its accessible. It also emulates input `disabled` behavior for\n * links, which is usually desirable for Buttons, NavItems, DropdownItems, etc.\n */\n\n\nvar SafeAnchor = React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'a' : _ref$as,\n      disabled = _ref.disabled,\n      onKeyDown = _ref.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"disabled\", \"onKeyDown\"]);\n\n  var handleClick = function handleClick(event) {\n    var href = props.href,\n        onClick = props.onClick;\n\n    if (disabled || isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === ' ') {\n      event.preventDefault();\n      handleClick(event);\n    }\n  };\n\n  if (isTrivialHref(props.href)) {\n    props.role = props.role || 'button'; // we want to make sure there is a href attribute on the node\n    // otherwise, the cursor incorrectly styled (except with role='button')\n\n    props.href = props.href || '#';\n  }\n\n  if (disabled) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    onClick: handleClick,\n    onKeyDown: createChainedFunction(handleKeyDown, onKeyDown)\n  }));\n});\nSafeAnchor.displayName = 'SafeAnchor';\nexport default SafeAnchor;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nvar Button = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      size = _ref.size,\n      active = _ref.active,\n      className = _ref.className,\n      block = _ref.block,\n      type = _ref.type,\n      as = _ref.as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"size\", \"active\", \"className\", \"block\", \"type\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  var classes = classNames(className, prefix, active && 'active', variant && prefix + \"-\" + variant, block && prefix + \"-block\", size && prefix + \"-\" + size);\n\n  if (props.href) {\n    return /*#__PURE__*/React.createElement(SafeAnchor, _extends({}, props, {\n      as: as,\n      ref: ref,\n      className: classNames(classes, props.disabled && 'disabled')\n    }));\n  }\n\n  if (ref) {\n    props.ref = ref;\n  }\n\n  if (type) {\n    props.type = type;\n  } else if (!as) {\n    props.type = 'button';\n  }\n\n  var Component = as || 'button';\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    className: classes\n  }));\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;"],"names":["API_URL","process","createAssessmentMapping","data","axios","concat","getAssessmentMappingsByInstitute","instituteCode","updateAssessmentMapping","id","deleteAssessmentMapping","getAssessmentSummaryList","getMappingInfoByToken","token","registerStudentByToken","studentData","props","_props$data4","loading","setLoading","useState","availableContacts","setAvailableContacts","selectedContactIndexes","setSelectedContactIndexes","contactDropdownOpen","setContactDropdownOpen","availableBoards","setAvailableBoards","selectedBoardIndexes","setSelectedBoardIndexes","boardDropdownOpen","setBoardDropdownOpen","maxClass","setMaxClass","useEffect","_props$data","_props$data2","_props$data3","show","async","_ref","_ref2","_data$data","_data","_data2","_ref3","_ref4","_data$data2","_data3","_data4","_mappingsRes$data$con","_mappingsRes$data","_mappingsRes$data$boa","_mappingsRes$data2","contactsRes","boardsRes","mappingsRes","Promise","all","ReadContactInformationData","ReadBoardData","GetInstituteMappings","catch","resolve","contacts","filter","c","name","email","phone","designation","boards","b","boardName","mappedContacts","contactPersons","mappedBoards","preSelectedContacts","forEach","contact","index","find","mc","String","push","preSelectedBoards","board","mb","undefined","err","console","error","fetchData","num","Number","isNaN","isContactSelected","includes","isBoardSelected","getBoardLabel","_ref5","_board$boardName","selectedContactList","map","i","selectedBoardList","isStep2Enabled","length","_jsxs","Modal","onHide","centered","className","children","_jsx","onClick","style","cursor","UseAnimations","animation","menu2","size","strokeColor","reverse","onSubmit","e","preventDefault","contactPersonIds","_availableContacts$i","boardIds","_availableBoards$i","MapContactsAndBoards","UpdateCollegeData","_objectSpread","setPageLoading","window","location","replace","type","o","maxHeight","overflowY","minWidth","person","_person$id","initials","split","p","join","toUpperCase","checked","onChange","prev","toggleContactSelection","width","height","background","fontSize","fontWeight","gender","Boolean","idx","_person$id2","disabled","label","toggleBoardSelection","_Fragment","display","FALLBACK_ROLE_OPTIONS","openRoleDropdowns","setOpenRoleDropdowns","contactRoles","setContactRoles","roleOptions","setRoleOptions","rolesLoading","setRolesLoading","_props$data$contactPe","res","instituteContacts","preSelected","ic","fetchContacts","fetchBoards","_ref6","_data$data3","_data5","_data6","readRoleData","roles","r","_ref7","_ref8","_ref9","_ref0","_r$role","role","roleName","title","fetchRoles","newContactRoles","_props$data2$contactP","rolesFromProps","match","Array","isArray","copy","openRoleDropdownFor","dialogClassName","selectedContacts","_contactRoles$i","selectedBoards","payload","_ref10","_ref11","_contact$name","_contact$email","ev","stopPropagation","ci","_contactRoles$ci","_ref12","_ref13","_contact$name2","_contact$designation","dropdownOpen","padding","removeRoleFromContact","contactIndex","_prev$contactIndex2","current","border","margin","lineHeight","marginLeft","zIndex","left","top","overflow","_contactRoles$ci2","setRoleForContact","_prev$contactIndex","target","htmlFor","_props$data6","_newSessionsData$curr6","_props$data7","fetchLoading","setFetchLoading","setError","sessionDropdownOpen","setSessionDropdownOpen","gradeDropdownOpen","setGradeDropdownOpen","sectionDropdownOpen","setSectionDropdownOpen","existingData","setExistingData","newSessionsData","setNewSessionsData","newSessionInput","setNewSessionInput","newGradeInput","setNewGradeInput","newSectionInput","setNewSectionInput","currentSessionIndex","setCurrentSessionIndex","currentGradeIndex","setCurrentGradeIndex","editState","setEditState","editValue","setEditValue","deleteConfirm","setDeleteConfirm","fetchExistingData","log","response","GetSessionsByInstituteCode","transformedData","session","sessionName","sessionYear","grades","schoolClasses","cls","gradeName","sections","schoolSections","sec","sectionName","isNew","_err$response","message","handleAddSession","trim","some","s","handleAddGrade","updatedSessions","currentSession","g","handleAddSection","currentGrade","handleStartEdit","sessionIndex","currentValue","gradeIndex","sectionIndex","originalValue","handleCancelEdit","handleSaveEdit","updatedData","UpdateSessionData","UpdateClassData","UpdateSectionData","rollbackData","rollbackSession","handleDeleteConfirm","getCurrentSessionName","_newSessionsData$curr","getCurrentGradeName","_newSessionsData$curr2","_newSessionsData$curr3","getCurrentSections","_newSessionsData$curr4","_newSessionsData$curr5","tableRows","useMemo","rows","sIdx","sessionId","gradeId","sectionId","grade","gIdx","section","secIdx","instituteName","position","placeholder","value","onKeyPress","key","handleSelectSession","splice","handleRemoveNewSection","row","autoFocus","color","formattedOutput","_props$data5","CreateSessionData","alert","closeButton","Button","variant","DeleteSessionData","DeleteClassData","DeleteSectionData","assessments","setAssessments","sessions","setSessions","mappings","setMappings","selectedAssessment","setSelectedAssessment","mappingLevel","setMappingLevel","selectedSession","setSelectedSession","selectedClass","setSelectedClass","selectedSection","setSelectedSection","submitting","setSubmitting","copySuccess","setCopySuccess","selectedSessionObj","classes","selectedClassObj","loadData","assessmentRes","sessionRes","mappingRes","a","isActive","copyToClipboard","navigator","clipboard","writeText","origin","getRegistrationUrl","setTimeout","getAssessmentName","assessmentId","AssessmentName","assessmentName","getLevelLabel","mapping","parts","classId","Spinner","Form","_error$response","Badge","bg","mappingId","m","handleToggleActive","MdContentCopy","confirm","handleDelete","MdDelete","_filter$map","modalShowEdit","setModalShowEdit","editModalData","setEditModalData","instituteAddress","infoModalShow","setInfoModalShow","infoModalData","setInfoModalData","detailModalShow","setDetailModalShow","detailModalData","setDetailModalData","infoRolesModalShow","setInfoRolesModalShow","infoRolesModalData","setInfoRolesModalData","assessmentMappingModalShow","setAssessmentMappingModalShow","assessmentMappingInstitute","setAssessmentMappingInstitute","code","navigate","useNavigate","toModalData","_row$instituteName","_row$instituteAddress","_row$instituteCode","_row$questionOptions","questionOptions","datatable","columns","field","attributes","sort","d","_data$instituteName","_data$instituteCode","_data$instituteAddres","address","actions","AiFillEdit","_data$id","deleteId","DeleteCollegeData","trash","Dropdown","popperConfig","strategy","renderOnMount","Link","to","state","collegeId","college","textDecoration","as","AiOutlineInfoCircle","MdSchool","onUploadClick","onClickCapture","IconContext","paddingBottom","MdOutlineDashboard","MdUploadFile","hidden","MDBDataTableV5","hover","scrollY","entriesOptions","entries","pagesAmount","CollegeEditModal","CollegeInfoModal","CollegeDetailModal","CollegeAssignRoleModal","AssessmentMappingModal","onUploaded","file","setFile","setMessage","accept","_e$target$files","files","fd","FormData","append","fetch","method","body","ok","Error","CollegePage","modalShowCreate","setModalShowCreate","collegeData","setCollegeData","pageLoading","showStudentUpload","setShowStudentUpload","selectedCollegeForUpload","setSelectedCollegeForUpload","ReadCollegeData","then","gap","CollegeTable","CollegeCreateModal","StudentUploadModal","onUploadComplete","Date","now","validationSchema","Yup","shape","required","maxStudents","maxContactPersons","initialValues","formik","useFormik","enableReinitialize","values","handleSubmit","autoComplete","getFieldProps","clsx","touched","errors","isSubmitting","isValid","_len","arguments","funcs","_key","f","reduce","acc","_len2","args","_key2","apply","this","isTrivialHref","href","SafeAnchor","React","ref","_ref$as","Component","onKeyDown","_objectWithoutPropertiesLoose","handleClick","event","tabIndex","_extends","createChainedFunction","displayName","bsPrefix","active","block","prefix","useBootstrapPrefix","classNames","defaultProps"],"sourceRoot":""}