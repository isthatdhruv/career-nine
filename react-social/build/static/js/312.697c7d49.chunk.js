"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[312],{42312:(e,a,s)=>{s.r(a),s.d(a,{default:()=>H});var r=s(72791),t=s(43360),i=s(89983),o=s(7692),l=s(16871),n=s(74569),d=s.n(n);const c="https://api.career-9.com",m=("".concat(c,"/instituteCourse/get"),"".concat(c,"/instituteCourse/getbyCollegeId/")),b="".concat(c,"/instituteCourse/update"),u="".concat(c,"/instituteCourse/delete/");function h(e){return d().post(b,{values:e})}var v=s(1413),p=s(28182),x=s(92506),j=s(28403),g=s(70099),N=s(7755),f=s(81724),k=s(80184);const y=f.Ry().shape({courseName:f.Z_().required(),abbreviation:f.Z_().required()}),C=e=>{const[a,s]=(0,r.useState)(!1);var t={courseName:"",courseCode:null,abbreviation:"",instituteId:e.collegeId,display:1};const i=(0,x.TA)({enableReinitialize:!0,initialValues:t,validationSchema:y,onSubmit:a=>{try{h(a).then(()=>{e.onHide(!1),e.setPageLoading(["true"])})}catch(r){console.error(r),window.location.replace("/error")}s(!0)}});return(0,k.jsxs)(j.Z,(0,v.Z)((0,v.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,k.jsxs)(j.Z.Header,{children:[(0,k.jsx)(j.Z.Title,{children:(0,k.jsx)("h1",{children:"Add Course"})}),(0,k.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:e.onHide,children:(0,k.jsx)(g.Z,{animation:N.Z,size:28,strokeColor:"#181C32",reverse:!0})})]}),(0,k.jsxs)("form",{className:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",onSubmit:i.handleSubmit,children:[(0,k.jsx)(j.Z.Body,{children:(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsxs)("div",{className:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px",children:[(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Course Name :"}),(0,k.jsx)("input",(0,v.Z)((0,v.Z)({placeholder:"Enter Course Name",type:"text",autoComplete:"off"},i.getFieldProps("courseName")),{},{className:(0,p.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.courseName&&i.errors.courseName},{"is-valid":i.touched.courseName&&!i.errors.courseName})})),i.touched.courseName&&i.errors.courseName&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Course Name is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Abbreviation :"}),(0,k.jsx)("input",(0,v.Z)((0,v.Z)({placeholder:"Enter Abbreviation",type:"text",autoComplete:"off"},i.getFieldProps("abbreviation")),{},{className:(0,p.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.abbreviation&&i.errors.abbreviation},{"is-valid":i.touched.abbreviation&&!i.errors.abbreviation})})),i.touched.abbreviation&&i.errors.abbreviation&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Abbreviation is Required"})})})]})]})})}),(0,k.jsxs)(j.Z.Footer,{children:[(0,k.jsx)("button",{className:"btn btn-sm btn-light btn-active-light-secoundary",onClick:e.onHide,children:"Close"}),(0,k.jsxs)("button",{type:"submit",className:"btn btn-sm btn-primary btn-active-light-secoundary",disabled:i.isSubmitting||!i.isValid,children:[!a&&(0,k.jsx)("span",{className:"indicator-label",children:"Submit"}),a&&(0,k.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,k.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]}))};var Z=s(17137),w=s(78820),_=s(43504),S=s(10120);const P=f.Ry().shape({courseName:f.Z_().required(),abbreviation:f.Z_().required()}),A=e=>{const[a,s]=(0,r.useState)(!1);var t={courseName:e.data.courseName,courseCode:e.data.courseCode,abbreviation:e.data.abbreviation,instituteId:e.data.instituteId,display:1};const i=(0,x.TA)({enableReinitialize:!0,initialValues:t,validationSchema:P,onSubmit:a=>{try{h(a).then(()=>{e.onHide(!1),e.setPageLoading(["true"])})}catch(r){console.error(r),window.location.replace("/error")}s(!0)}});return(0,k.jsxs)(j.Z,(0,v.Z)((0,v.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,k.jsxs)(j.Z.Header,{children:[(0,k.jsx)(j.Z.Title,{children:(0,k.jsx)("h1",{children:"Edit Course"})}),(0,k.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:e.onHide,children:(0,k.jsx)(g.Z,{animation:N.Z,size:28,strokeColor:"#181C32",reverse:!0})})]}),(0,k.jsxs)("form",{className:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",onSubmit:i.handleSubmit,children:[(0,k.jsx)(j.Z.Body,{children:(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsxs)("div",{className:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px",children:[(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Course Name :"}),(0,k.jsx)("input",(0,v.Z)((0,v.Z)({placeholder:"Enter Course Name",type:"text",autoComplete:"off"},i.getFieldProps("courseName")),{},{className:(0,p.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.courseName&&i.errors.courseName},{"is-valid":i.touched.courseName&&!i.errors.courseName})})),i.touched.courseName&&i.errors.courseName&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Course Name is Required"})})})]}),(0,k.jsxs)("div",{className:"fv-row mb-7",children:[(0,k.jsx)("label",{className:"required fs-6 fw-bold mb-2",children:"Abbreviation :"}),(0,k.jsx)("input",(0,v.Z)((0,v.Z)({placeholder:"Enter Abbreviation",type:"text",autoComplete:"off"},i.getFieldProps("abbreviation")),{},{className:(0,p.default)("form-control form-control-lg form-control-solid",{"is-invalid text-danger":i.touched.abbreviation&&i.errors.abbreviation},{"is-valid":i.touched.abbreviation&&!i.errors.abbreviation})})),i.touched.abbreviation&&i.errors.abbreviation&&(0,k.jsx)("div",{className:"fv-plugins-message-container",children:(0,k.jsx)("div",{className:"fv-help-block text-danger",children:(0,k.jsx)("span",{role:"alert",children:"Abbreviation is Required"})})})]})]})})}),(0,k.jsxs)(j.Z.Footer,{children:[(0,k.jsx)("button",{className:"btn btn-sm btn-light btn-active-light-secoundary",onClick:e.onHide,children:"Close"}),(0,k.jsxs)("button",{type:"submit",id:"kt_sign_up_submit",className:"btn btn-sm btn-primary btn-active-light-secoundary",disabled:i.isSubmitting||!i.isValid,children:[!a&&(0,k.jsx)("span",{className:"indicator-label",children:"Submit"}),a&&(0,k.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,k.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]}))},q=e=>{const[a,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)({courseName:"",courseCode:"",abbreviation:"",instituteId:""}),o={columns:[{label:"Name",field:"name",width:100,attributes:{"aria-controls":"DataTable","aria-label":"Name"}},{label:"Abbreviation",field:"abbreviation",sort:"asc",width:100},{label:"Actions",field:"actions",sort:"disabled",width:100}],rows:e.data.map(a=>!0===a.display?{name:a.courseName,abbreviation:a.abbreviation,actions:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{onClick:()=>{i(a),s(!0)},className:"btn btn-icon btn-primary btn-sm me-3",children:(0,k.jsx)(w.QML,{size:16})}),(0,k.jsx)("button",{onClick:()=>{var s;e.setLoading(!0),(s=a.courseCode,d().get(u+s)).then(()=>{e.setPageLoading(["true"])})},className:"btn btn-icon btn-danger btn-sm me-3",children:(0,k.jsx)(g.Z,{animation:S.Z,size:22,strokeColor:"#EFF8FE"})}),(0,k.jsx)(_.rU,{to:"/branch",state:{courseId:a.courseCode,course:a.abbreviation},className:"btn btn-sm btn-info",children:"Add Branch"})]})}:{})};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Z.Vm4,{hover:!0,scrollY:!0,maxHeight:"160vh",entriesOptions:[5,20,25],entries:25,pagesAmount:4,data:o}),(0,k.jsx)(A,{show:a,onHide:()=>s(!1),data:t,setPageLoading:e.setPageLoading})]})},H=()=>{const[e,a]=(0,r.useState)(!1),[s,n]=(0,r.useState)([]),[c,b]=(0,r.useState)(!1),[u,h]=(0,r.useState)(["false"]),v=(0,l.TH)().state;return(0,r.useEffect)(()=>{b(!0);try{(e=v.collegeId,d().get(m+e)).then(e=>{n(e.data),b(!1)})}catch(a){console.error(a),window.location.replace("/error")}var e},[u]),(0,k.jsxs)("div",{className:"card",children:[c&&(0,k.jsxs)("span",{className:"indicator-progress m-5",style:{display:"block"},children:["Please wait..."," ",(0,k.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]}),!c&&(0,k.jsxs)("div",{className:"card-header border-0 pt-6",children:[(0,k.jsx)("div",{className:"card-title",children:(0,k.jsxs)("h1",{children:[v.college," - Courses"]})}),(0,k.jsx)("div",{className:"card-toolbar",children:(0,k.jsx)("div",{className:"d-flex justify-content-end",children:(0,k.jsx)(t.Z,{variant:"primary",onClick:()=>{a(!0)},children:(0,k.jsx)(i.Pd.Provider,{value:{style:{paddingBottom:"4px"}},children:(0,k.jsxs)("div",{children:["Add Course ",(0,k.jsx)(o.eXA,{size:23})]})})})})})]}),!c&&(0,k.jsx)("div",{className:"card-body pt-5",children:(0,k.jsx)(q,{data:s,setLoading:b,setPageLoading:h})}),(0,k.jsx)(C,{collegeId:v.collegeId,setPageLoading:h,show:e,onHide:()=>a(!1)})]})}}}]);
//# sourceMappingURL=312.697c7d49.chunk.js.map