const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/JungleSpotGame-Cxc-sUf_.js","assets/index-ByJWqZb0.js","assets/firebase-CdU9twii.js","assets/index-DBkz-poX.css","assets/RabbitPathGame-CWLKH-Jy.js","assets/HydroTubeGame-BLe0V5Ma.js"])))=>i.map(i=>d[i]);
import{j as t,r as d,_ as X,d as Ee,c as Ge,u as Be,a as Le,b as Pe,R as $}from"./index-ByJWqZb0.js";import"./firebase-CdU9twii.js";const Qe=d.lazy(()=>X(()=>import("./JungleSpotGame-Cxc-sUf_.js"),__vite__mapDeps([0,1,2,3])).then(i=>({default:i.JungleSpotGame}))),$e=d.lazy(()=>X(()=>import("./RabbitPathGame-CWLKH-Jy.js"),__vite__mapDeps([4,1,2,3])).then(i=>({default:i.RabbitPathGame}))),De=d.lazy(()=>X(()=>import("./HydroTubeGame-BLe0V5Ma.js"),__vite__mapDeps([5,1,2,3])).then(i=>({default:i.HydroTubeGame}))),Fe=()=>t.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading game..."})})});function Je({gameCode:i,userStudentId:y,playerName:h,onComplete:I,onExit:v}){const A=()=>{switch(i){case 101:return t.jsx(Qe,{userStudentId:y,playerName:h,onComplete:I,onExit:v});case 102:return t.jsx($e,{userStudentId:y,playerName:h,onComplete:I,onExit:v});case 103:return t.jsx(De,{userStudentId:y,playerName:h,onComplete:I,onExit:v});default:return t.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#fee2e2"},children:t.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[t.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:"Unknown Game"}),t.jsxs("p",{style:{color:"#4b5563",marginBottom:"1rem"},children:["Game code ",t.jsx("strong",{children:i})," is not recognized."]}),t.jsx("button",{onClick:v,style:{background:"#dc2626",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Exit"})]})})}};return t.jsx(d.Suspense,{fallback:t.jsx(Fe,{}),children:A()})}function _e({gameCode:i,userStudentId:y,playerName:h,onComplete:I,onExit:v}){const{saveAnimalReaction:A,saveRabbitPath:x,saveHydroTube:E}=Ee(),q=d.useCallback(async l=>{console.log("=== Game Complete Handler Called ==="),console.log("Received data:",l),console.log("Game code:",i);try{switch(i){case 101:console.log("Saving Jungle-Spot via DataContext..."),await A({totalTrials:l.totalTrials,trialMs:l.trialMs,target:l.target,targetsShown:l.targetsShown,hits:l.hits,misses:l.misses,falsePositives:l.falsePositives,hitRTsMs:l.hitRTsMs||[]},y),console.log("Jungle-Spot results saved via DataContext!");break;case 102:console.log("Saving Rabbit-Path via DataContext..."),await x({score:l.score,totalRounds:l.totalRounds,roundsPlayed:l.roundsPlayed,history:l.history},y),console.log("Rabbit-Path results saved via DataContext!");break;case 103:console.log("Saving Hydro-Tube via DataContext..."),await E({patternsCompleted:l.patternsCompleted,totalPatterns:l.totalPatterns,aimlessRotations:l.aimlessRotations,curiousClicks:l.curiousClicks,tilesCorrect:l.tilesCorrect,totalTiles:l.totalTiles,timeSpentSeconds:l.timeSpentSeconds},y),console.log("Hydro-Tube results saved via DataContext!");break;default:console.warn("Unknown game code:",i)}}catch(N){console.error("Failed to save game results:",N),console.error("Error message:",N?.message)}I()},[I,y,i,A,x,E]),D=d.useCallback(()=>{v()},[v]);return t.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,backgroundColor:"white",overflowY:"auto",width:"100%",height:"100%"},children:t.jsx(Je,{gameCode:i,userStudentId:y,playerName:h,onComplete:q,onExit:D})})}const Me=()=>{const{sectionId:i,questionIndex:y}=Ge(),h=Be(),{assessmentData:I,assessmentConfig:v}=Le(),A=v?.showTimer!==!1;Pe();const[x,E]=d.useState(null),[q,D]=d.useState([]),[l,N]=d.useState(0),[se,oe]=d.useState([]),[ie,re]=d.useState(null),[ae,G]=d.useState(!1),[F,le]=d.useState(()=>{const e=localStorage.getItem("assessmentSeenSectionInstructions");return e?new Set(JSON.parse(e)):new Set}),[de,J]=d.useState(!1),[_,ce]=d.useState([]),[ge,H]=d.useState(!1),[O,U]=d.useState(null),[C,M]=d.useState(()=>{const e=localStorage.getItem("assessmentAnswers");return e?JSON.parse(e):{}}),[k,Z]=d.useState(()=>{const e=localStorage.getItem("assessmentRankingAnswers");return e?JSON.parse(e):{}}),[B,ue]=d.useState(()=>{const e=localStorage.getItem("assessmentSavedForLater");if(e){const n=JSON.parse(e),o={};for(const s in n)o[s]=new Set(n[s]);return o}return{}}),[L,P]=d.useState(()=>{const e=localStorage.getItem("assessmentSkipped");if(e){const n=JSON.parse(e),o={};for(const s in n)o[s]=new Set(n[s]);return o}return{}}),[Y,xe]=d.useState(()=>{const e=localStorage.getItem("assessmentElapsedTime");return e?parseInt(e):0}),[R,me]=d.useState(()=>{const e=localStorage.getItem("assessmentCompletedGames");return e?JSON.parse(e):{}});d.useEffect(()=>{if(I&&I[0]){const e=I[0];E(e);const n=e.sections.find(o=>String(o.section.sectionId)===String(i));if(!n)return;re(n),D(n.questions||[]),N(Number(y)||0),oe(e.languages||[])}},[i,y,I]),d.useEffect(()=>{localStorage.setItem("assessmentAnswers",JSON.stringify(C))},[C]),d.useEffect(()=>{localStorage.setItem("assessmentRankingAnswers",JSON.stringify(k))},[k]),d.useEffect(()=>{const e={};for(const n in B)e[n]=Array.from(B[n]);localStorage.setItem("assessmentSavedForLater",JSON.stringify(e))},[B]),d.useEffect(()=>{const e={};for(const n in L)e[n]=Array.from(L[n]);localStorage.setItem("assessmentSkipped",JSON.stringify(e))},[L]),d.useEffect(()=>{localStorage.setItem("assessmentElapsedTime",String(Y))},[Y]),d.useEffect(()=>{localStorage.setItem("assessmentCompletedGames",JSON.stringify(R))},[R]),d.useEffect(()=>{localStorage.setItem("assessmentSeenSectionInstructions",JSON.stringify(Array.from(F)))},[F]),d.useEffect(()=>{if(!i||!x||F.has(i))return;const e=x.sections.find(n=>String(n.section.sectionId)===String(i));if(e?.instruction&&e.instruction.length>0){const n=s=>{if(!s)return!1;const g=s.trim().toUpperCase();return g==="NA"||g==="N/A"},o=e.instruction.filter(s=>s.instructionText&&!n(s.instructionText)).map(s=>({text:s.instructionText,language:s.language?.languageName||"English"}));o.length>0&&(ce(o),J(!0))}le(n=>{const o=new Set(n);return o.add(i),o})},[i,x]),d.useEffect(()=>{const e=setInterval(()=>{xe(n=>n+1)},1e3);return()=>clearInterval(e)},[]);const fe=e=>{const n=Math.floor(e/3600),o=Math.floor(e%3600/60),s=e%60;return`${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};if(!x||!q.length)return t.jsx("div",{className:"text-center mt-5",children:"No questions found"});const m=q[l],u=m.questionnaireQuestionId,j=C[i]?.[u]||[],b=se.filter(e=>e.language.languageId===100?!0:m.question.languageQuestions?.some(n=>n.language.languageId===e.language.languageId)),pe=()=>x?x.sections.findIndex(n=>String(n.section.sectionId)===String(i))===x.sections.length-1:!1,ee=()=>pe()&&l===q.length-1,te=()=>{if(!x)return!1;for(const e of x.sections){const n=String(e.section.sectionId);for(const o of e.questions){const s=o.questionnaireQuestionId,g=o.question.questionType==="ranking";let r=!1;if(g){const c=k[n]?.[s]||{};r=Object.keys(c).length>0}else r=C[n]?.[s]?.length>0;if(!r)return!1}}return!0},he=()=>{const e=[];if(x&&x.sections)for(const g of x.sections){const r=String(g.section.sectionId);for(const c of g.questions){const a=c.questionnaireQuestionId;if(c.question.questionType==="ranking"){const p=k[r]?.[a]||{};for(const[w,S]of Object.entries(p)){const W={questionnaireQuestionId:a,optionId:parseInt(w),rankOrder:S};e.push(W)}}else{const p=C[r]?.[a]||[];if(p.length>0)for(const w of p){const S={questionnaireQuestionId:a,optionId:w};e.push(S)}}}}const n=localStorage.getItem("userStudentId")?parseInt(localStorage.getItem("userStudentId")):null,o=localStorage.getItem("assessmentId")?parseInt(localStorage.getItem("assessmentId")):null;return{userStudentId:n,assessmentId:o,status:"completed",answers:e}},be=()=>{P(e=>{const n=new Set(e[i]||[]);return n.add(u),{...e,[i]:n}})},Se=e=>{const n=j.length,o=j.includes(e),s=m.question.maxOptionsAllowed,g=!o&&s>0&&n+1===s;M(r=>{const c=r[i]||{},a=c[u]||[];if(a.includes(e)){const f=a.filter(p=>p!==e);return{...r,[i]:{...c,[u]:f}}}else if(m.question.maxOptionsAllowed===0||a.length<m.question.maxOptionsAllowed){const f=[...a,e];return{...r,[i]:{...c,[u]:f}}}return r}),P(r=>{const c=new Set(r[i]||[]);return c.delete(u),{...r,[i]:c}}),g&&setTimeout(()=>{const r=z(i,l,u);r&&h(`/studentAssessment/sections/${r.sectionId}/questions/${r.questionIndex}`)},400)},ye=(e,n)=>{const o=k[i]?.[u]||{},s=Object.keys(o).length,g=m.question.maxOptionsAllowed,c=n!==null&&!o[e]&&s+1===g;Z(a=>{const f=a[i]||{},p=f[u]||{};if(n===null){const{[e]:w,...S}=p;return{...a,[i]:{...f,[u]:S}}}else return{...a,[i]:{...f,[u]:{...p,[e]:n}}}}),n!==null&&P(a=>{const f=new Set(a[i]||[]);return f.delete(u),{...a,[i]:f}}),c&&setTimeout(()=>{const a=z(i,l,u);a&&h(`/studentAssessment/sections/${a.sectionId}/questions/${a.questionIndex}`)},400)},je=e=>{const n=k[i]?.[u]||{},o=new Set(Object.entries(n).filter(([r])=>parseInt(r)!==e).map(([,r])=>r)),s=m.question.maxOptionsAllowed,g=[];for(let r=1;r<=s;r++)o.has(r)||g.push(r);return g},Ie=()=>{ue(n=>{const o=new Set(n[i]||[]);return o.add(u),{...n,[i]:o}}),M(n=>{const o=n[i]||{},{[u]:s,...g}=o;return{...n,[i]:g}}),Z(n=>{const o=n[i]||{},{[u]:s,...g}=o;return{...n,[i]:g}});const e=z(i,l,u);e&&h(`/studentAssessment/sections/${e.sectionId}/questions/${e.questionIndex}`)},ke=()=>{j.length===0&&be();const e=z(i,l);e?h(`/studentAssessment/sections/${e.sectionId}/questions/${e.questionIndex}`):ve()},we=()=>{if(l>0){const e=l-1;N(e),h(`/studentAssessment/sections/${i}/questions/${e}`)}},ve=()=>{const e=x.sections.findIndex(o=>String(o.section.sectionId)===String(i)),n=x.sections[e+1];h(n?`/studentAssessment/sections/${n.section.sectionId}/questions/0`:"/studentAssessment/completed")},Ce=async()=>{if(te())try{const e=he();console.log("=== ASSESSMENT SUBMISSION DATA ==="),console.log(JSON.stringify(e,null,2)),console.log("=== END OF SUBMISSION DATA ===");const n=await fetch("https://api.career-9.com/assessment-answer/submit",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.text();throw new Error(`Failed to submit assessment: ${s}`)}const o=await n.json();console.log("=== SUBMISSION SUCCESSFUL ==="),console.log("Saved answers:",o),h("/studentAssessment/completed")}catch(e){console.error("Error submitting assessment:",e),alert("Failed to submit assessment. Please try again.")}else G(!0)},qe=()=>{if(!x)return;const e=String(x.sections[0].section.sectionId),n=z(e,-1);n&&(G(!1),h(`/studentAssessment/sections/${n.sectionId}/questions/${n.questionIndex}`))},Re=(e,n)=>C[e]?.[n]?.length||Object.keys(k[e]?.[n]||{}).length>0?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":B[e]?.has(n)?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":L[e]?.has(n)?"linear-gradient(135deg, #f87171 0%, #dc2626 100%)":"#d1d5db",z=(e,n,o)=>{if(!x)return null;const s=x.sections,g=s.findIndex(r=>String(r.section.sectionId)===e);if(g===-1)return null;for(let r=g;r<s.length;r++){const c=s[r],a=String(c.section.sectionId),f=r===g?n+1:0;for(let p=f;p<c.questions.length;p++){const w=c.questions[p],S=w.questionnaireQuestionId;if(o&&S===o)continue;const W=w.question.questionType==="ranking";let T=!1;if(W){const K=k[a]?.[S]||{};T=Object.keys(K).length>0}else T=(C[a]?.[S]?.length||0)>0;if(!T)return{sectionId:a,questionIndex:p}}}for(let r=0;r<=g;r++){const c=s[r],a=String(c.section.sectionId),f=r===g?n:c.questions.length;for(let p=0;p<f;p++){const w=c.questions[p],S=w.questionnaireQuestionId;if(o&&S===o)continue;const W=w.question.questionType==="ranking";let T=!1;if(W){const K=k[a]?.[S]||{};T=Object.keys(K).length>0}else T=(C[a]?.[S]?.length||0)>0;if(!T)return{sectionId:a,questionIndex:p}}}return null},Te=e=>{if(e===100)return m.question.questionText;const n=m.question.languageQuestions?.find(o=>o.language.languageId===e);return n?n.questionText:m.question.questionText},Q=(e,n)=>{if(n===100)return e.optionText;const o=e.languageOptions?.find(s=>s.language.languageId===n);return o?o.optionText:e.optionText},V=e=>!!(e.optionImageBase64&&e.optionImageBase64.trim()!==""),Ae=e=>e.optionImageBase64?e.optionImageBase64.startsWith("data:")?e.optionImageBase64:`data:image/png;base64,${e.optionImageBase64}`:"",ne=(e,n)=>V(e)?t.jsx("img",{src:Ae(e),alt:e.optionText||"Option image",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"contain",borderRadius:"8px",border:"1px solid #e0e0e0",filter:"brightness(0.85) contrast(1.15)"}}):n!==void 0?Q(e,n):e.optionText,Ne=e=>e.optionDescription?t.jsx("div",{style:{fontSize:"0.85rem",color:"#9ca3af",marginTop:"4px",lineHeight:"1.4",fontWeight:400,fontStyle:"italic"},children:e.optionDescription}):null,Oe=e=>{U(e),H(!0)},ze=()=>{if(O&&i){me(n=>({...n,[O]:!0}));const e=m.question.options.find(n=>n.isGame&&n.game?.gameCode===O);e&&(M(n=>{const o=n[i]||{},s=o[u]||[];if(!s.includes(e.optionId)){const g=[...s,e.optionId];return console.log(`‚úÖ Game completed! Marking question ${u} as answered with option ${e.optionId}`),{...n,[i]:{...o,[u]:g}}}return n}),P(n=>{const o=new Set(n[i]||[]);return o.delete(u),{...n,[i]:o}}))}H(!1),U(null)},We=()=>{H(!1),U(null)};if(ge&&O){const e=localStorage.getItem("User Student id")||"",n=localStorage.getItem("userName")||"Student";return t.jsx(_e,{gameCode:O,userStudentId:e,playerName:n,onComplete:ze,onExit:We})}return t.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",colorScheme:"light"},children:[de&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>J(!1),children:t.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"28px 32px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",color:"#2d3748"},onClick:e=>e.stopPropagation(),children:[t.jsx("h5",{style:{fontWeight:700,marginBottom:"16px",color:"#2d3748"},children:"Section Instructions"}),_.map((e,n)=>t.jsxs("div",{style:{marginBottom:n<_.length-1?"16px":0},children:[_.length>1&&t.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,color:"#667eea",marginBottom:"6px"},children:e.language}),t.jsx("p",{style:{whiteSpace:"pre-line",lineHeight:1.7,margin:0,fontSize:"1rem",color:"#4a5568"},children:e.text})]},n)),t.jsx("div",{style:{textAlign:"right",marginTop:"20px"},children:t.jsx("button",{onClick:()=>J(!1),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",borderRadius:"8px",padding:"8px 28px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer"},children:"OK"})})]})}),t.jsxs("div",{style:{width:280,background:"#ffffff",borderRight:"none",display:"flex",flexDirection:"column",height:"100vh",position:"sticky",top:0,boxShadow:"4px 0 30px rgba(0,0,0,0.1)",borderRadius:"0 24px 24px 0",colorScheme:"light",color:"#2d3748"},children:[t.jsxs("div",{style:{borderBottom:"2px solid #e2e8f0",padding:"16px 20px",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%)"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:t.jsx("img",{src:"/media/logos/kcc.jpg",alt:"KCC Logo",style:{height:"48px",objectFit:"contain"}})}),t.jsxs("h6",{style:{fontSize:"0.85rem",fontWeight:700,color:"#2d3748",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{width:"6px",height:"18px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"3px"}}),"Legend"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px 12px"},children:[t.jsxs("div",{className:"d-flex align-items-center gap-2",children:[t.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",flexShrink:0,boxShadow:"0 2px 6px rgba(102, 126, 234, 0.4)"}}),t.jsx("span",{style:{fontSize:"0.8rem",color:"#4a5568",fontWeight:500},children:"Answered"})]}),t.jsxs("div",{className:"d-flex align-items-center gap-2",children:[t.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",flexShrink:0,boxShadow:"0 2px 6px rgba(251, 191, 36, 0.4)"}}),t.jsx("span",{style:{fontSize:"0.8rem",color:"#4a5568",fontWeight:500},children:"Saved"})]}),t.jsxs("div",{className:"d-flex align-items-center gap-2",children:[t.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:"linear-gradient(135deg, #f87171 0%, #dc2626 100%)",flexShrink:0,boxShadow:"0 2px 6px rgba(248, 113, 113, 0.4)"}}),t.jsx("span",{style:{fontSize:"0.8rem",color:"#4a5568",fontWeight:500},children:"Skipped"})]}),t.jsxs("div",{className:"d-flex align-items-center gap-2",children:[t.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:"#d1d5db",flexShrink:0,border:"2px solid #9ca3af"}}),t.jsx("span",{style:{fontSize:"0.8rem",color:"#4a5568",fontWeight:500},children:"Not Visited"})]})]})]}),t.jsxs("div",{style:{flex:1,overflowY:"auto",padding:20},children:[t.jsxs("h6",{style:{fontSize:"0.95rem",fontWeight:700,color:"#2d3748",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{width:"6px",height:"20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"3px"}}),"Question Status"]}),x.sections.map(e=>t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"#4a5568",marginBottom:"10px",padding:"6px 12px",background:"rgba(102, 126, 234, 0.08)",borderRadius:"8px",borderLeft:"3px solid #667eea"},children:e.section.sectionName}),t.jsx("div",{className:"d-flex flex-wrap gap-2",children:e.questions.map((n,o)=>t.jsx("div",{onClick:()=>h(`/studentAssessment/sections/${e.section.sectionId}/questions/${o}`),style:{width:32,height:32,borderRadius:"8px",background:Re(String(e.section.sectionId),n.questionnaireQuestionId),color:"#fff",fontSize:12,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:o+1},n.questionnaireQuestionId))})]},e.section.sectionId))]})]}),t.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"30px 30px 30px 20px",overflowY:"auto"},children:t.jsx("div",{className:"card",style:{width:"auto",minWidth:"900px",maxWidth:"1200px",minHeight:"auto",borderRadius:"24px",border:"none",boxShadow:"0 20px 60px rgba(0,0,0,0.15)",background:"#ffffff",colorScheme:"light",color:"#2d3748"},children:t.jsxs("div",{className:"card-body p-5",children:[t.jsx("div",{className:"mb-3",children:t.jsx("span",{style:{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%)",color:"#667eea",padding:"8px 20px",borderRadius:"30px",fontSize:"0.9rem",fontWeight:600,display:"inline-block",border:"1px solid rgba(102, 126, 234, 0.3)"},children:ie?.section?.sectionName})}),t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[t.jsxs("h6",{style:{color:"#2d3748",fontWeight:700,marginBottom:0,fontSize:"1.1rem"},children:["Question ",l+1," of ",q.length]}),A&&t.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"10px 24px",borderRadius:"30px",fontWeight:700,fontSize:"1rem",color:"white",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:["‚è±Ô∏è ",fe(Y)]})]}),ae&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>G(!1),children:t.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"32px 36px",maxWidth:"440px",width:"90%",textAlign:"center",boxShadow:"0 20px 60px rgba(0,0,0,0.25)",color:"#2d3748"},onClick:e=>e.stopPropagation(),children:[t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"1.8rem"},children:"‚ö†Ô∏è"}),t.jsx("h5",{style:{fontWeight:700,marginBottom:"12px",color:"#1a202c",fontSize:"1.2rem"},children:"Mark all answers before saving"}),t.jsx("p",{style:{color:"#6b7280",fontSize:"0.95rem",lineHeight:1.6,marginBottom:"24px"},children:"Some questions are still unanswered, saved for later, or skipped. Please answer all questions before submitting."}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[t.jsx("button",{onClick:()=>G(!1),style:{background:"#e2e8f0",color:"#4a5568",border:"none",borderRadius:"10px",padding:"10px 24px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer"},children:"Close"}),t.jsx("button",{onClick:qe,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",borderRadius:"10px",padding:"10px 24px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:"Continue ‚Üí"})]})]})}),b.length>0?t.jsx("div",{style:{display:"grid",gridTemplateColumns:b.length>1?"1fr 1px 1fr":"1fr",gap:20,marginBottom:30},children:b.map((e,n)=>t.jsxs($.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h6",{className:"fw-bold mb-3"}),t.jsx("div",{style:{fontSize:"1.2rem",lineHeight:"1.7",whiteSpace:"pre-line",color:"#1a202c",fontWeight:500},children:Te(e.language.languageId)})]}),n===0&&b.length>1&&t.jsx("div",{style:{width:1,backgroundColor:"#dee2e6"}})]},e.language.languageId))}):t.jsx("h4",{className:"mb-4",style:{fontSize:"1.2rem",color:"#1a202c",fontWeight:500},children:m.question.questionText}),t.jsx("div",{className:"text-muted mb-3",children:t.jsx("small",{style:{fontSize:"1.1rem",color:"#4a5568",fontWeight:500},children:m.question.questionType==="ranking"?t.jsxs(t.Fragment,{children:["Please rank ",t.jsx("strong",{children:m.question.maxOptionsAllowed})," option(s) in order of preference (1 = most important)."]}):m.question.maxOptionsAllowed===0?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:["You can select up to ",t.jsx("strong",{children:m.question.maxOptionsAllowed})," option(s)."]})})}),t.jsx("div",{className:"mt-4",children:(()=>{const e=m.question.options,n=m.question.questionType==="ranking",o=(s,g)=>{if(s.isGame&&s.game)return t.jsx("div",{className:"rounded p-4 mb-3",style:{border:"1px solid #dee2e6",background:"#faf5ff"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-bold text-purple-900 mb-2",style:{fontSize:"1.1rem",color:"#2d3748"},children:["üéÆ Game: ",s.game.gameName]}),b.length>0?t.jsx("div",{style:{display:"grid",gridTemplateColumns:b.length>1?"1fr 1px 1fr":"1fr",gap:15},children:b.map((r,c)=>t.jsxs($.Fragment,{children:[t.jsx("div",{style:{fontSize:"1.2rem",lineHeight:"1.6",color:"#2d3748"},children:Q(s,r.language.languageId)}),c===0&&b.length>1&&t.jsx("div",{style:{width:1,backgroundColor:"#dee2e6"}})]},r.language.languageId))}):t.jsx("span",{style:{fontSize:"1.2rem",color:"#2d3748"},children:s.optionText})]}),t.jsx("button",{onClick:()=>Oe(s.game.gameCode),style:{marginLeft:"16px",background:j.includes(s.optionId)||s.game&&R[s.game.gameCode]?"linear-gradient(to right, #22c55e, #16a34a)":"linear-gradient(to right, #8b5cf6, #d946ef)",color:"white",padding:"12px 24px",borderRadius:"9999px",fontWeight:700,fontSize:"14px",border:"none",cursor:j.includes(s.optionId)||s.game&&R[s.game.gameCode]?"default":"pointer",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.4)",transition:"all 0.2s ease",opacity:j.includes(s.optionId)||s.game&&R[s.game.gameCode]?.8:1},disabled:j.includes(s.optionId)||s.game&&R[s.game.gameCode],children:j.includes(s.optionId)||s.game&&R[s.game.gameCode]?"‚úì Completed":"üéÆ Launch Game"})]})},s.optionId);if(n){const r=k[i]?.[u]?.[s.optionId],c=je(s.optionId);return t.jsxs("div",{className:"rounded p-3 d-block mb-2",style:{display:"flex",alignItems:"center",gap:"15px",background:r?"#f8f9fa":"#fff",border:"1px solid #dee2e6"},children:[t.jsx("div",{style:{minWidth:"120px"},children:t.jsxs("select",{className:"form-select form-select-sm",value:r||"",onChange:a=>{const f=a.target.value;ye(s.optionId,f?parseInt(f):null)},style:{width:"110px",fontSize:"1rem",fontWeight:600,color:"#2d3748",background:"#fff",borderColor:"#dee2e6"},children:[t.jsx("option",{value:"",children:"Rank"}),r&&!c.includes(r)?t.jsx("option",{value:r,children:r}):null,c.map(a=>t.jsx("option",{value:a,children:a},a))]})}),t.jsx("div",{style:{flex:1},children:V(s)?ne(s):b.length>0?t.jsx("div",{style:{display:"grid",gridTemplateColumns:b.length>1?"1fr 1px 1fr":"1fr",gap:15},children:b.map((a,f)=>t.jsxs($.Fragment,{children:[t.jsx("div",{style:{fontSize:"1.2rem",lineHeight:"1.6",color:"#2d3748"},children:Q(s,a.language.languageId)}),f===0&&b.length>1&&t.jsx("div",{style:{width:1,backgroundColor:"#dee2e6"}})]},a.language.languageId))}):t.jsx("span",{style:{fontSize:"1.2rem",color:"#2d3748"},children:s.optionText})})]},s.optionId)}return t.jsx("label",{className:"rounded p-3 d-block mb-2",style:{cursor:"pointer",background:j.includes(s.optionId)?"#f8f9fa":"#fff",border:"1px solid #dee2e6"},children:t.jsxs("div",{className:"d-flex align-items-start",children:[t.jsx("input",{type:"checkbox",className:"me-3 mt-1",checked:j.includes(s.optionId),onChange:()=>Se(s.optionId),disabled:m.question.maxOptionsAllowed>0&&!j.includes(s.optionId)&&j.length>=m.question.maxOptionsAllowed}),t.jsxs("div",{style:{flex:1},children:[V(s)?t.jsx("div",{children:ne(s)}):b.length>0?t.jsx("div",{style:{display:"grid",gridTemplateColumns:b.length>1?"1fr 1px 1fr":"1fr",gap:15},children:b.map((r,c)=>t.jsxs($.Fragment,{children:[t.jsx("div",{style:{fontSize:"1.2rem",lineHeight:"1.6",color:"#2d3748"},children:Q(s,r.language.languageId)}),c===0&&b.length>1&&t.jsx("div",{style:{width:1,backgroundColor:"#dee2e6"}})]},r.language.languageId))}):t.jsx("span",{style:{fontSize:"1.2rem",color:"#2d3748"},children:s.optionText}),Ne(s)]})]})},s.optionId)};if(e.length>5){const s=Math.ceil(e.length/2),g=e.slice(0,s),r=e.slice(s);return t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[t.jsx("div",{children:g.map((c,a)=>o(c))}),t.jsx("div",{children:r.map((c,a)=>o(c))})]})}return e.map((s,g)=>o(s))})()}),t.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-3",style:{borderTop:"1px solid #e2e8f0"},children:[t.jsx("button",{disabled:l===0,onClick:we,style:{background:l===0?"#e2e8f0":"white",color:l===0?"#9ca3af":"#4a5568",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"12px 28px",fontWeight:600,fontSize:"0.95rem",cursor:l===0?"not-allowed":"pointer",transition:"all 0.2s ease"},children:"‚Üê Back"}),t.jsxs("div",{className:"d-flex gap-3 align-items-center",children:[t.jsx("button",{onClick:Ie,style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",color:"#78350f",border:"none",borderRadius:"12px",padding:"12px 24px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 15px rgba(251, 191, 36, 0.4)",transition:"all 0.2s ease"},children:"Save for Later"}),!ee()&&t.jsx("button",{onClick:ke,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",padding:"12px 32px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.2s ease"},children:l===q.length-1?"NEXT SECTION ‚Üí":"NEXT ‚Üí"}),(ee()||te())&&t.jsx("button",{onClick:Ce,style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",border:"none",borderRadius:"12px",padding:"12px 32px",fontWeight:700,fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 15px rgba(34, 197, 94, 0.4)",transition:"all 0.2s ease",marginLeft:"auto"},children:"‚úì SUBMIT ASSESSMENT"})]})]})]})})})]})};export{Me as default};
