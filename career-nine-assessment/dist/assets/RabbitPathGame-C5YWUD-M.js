<<<<<<<< HEAD:career-nine-assessment/dist/assets/RabbitPathGame-CFFkyLq7.js
import{j as e}from"./index-DoebR7eq.js";import{b as n}from"./router-Cb5lJ_RW.js";const Se="/game-scenes/2nd/game-scene-2nd.png",we="/game-scenes/2nd/rabbit-nobg-old.png",je="/game-scenes/2nd/rabbit-nobg.png",De="/assets/game/rabbit-path-tutorial.mp4",ve=[{id:0,xPct:21.4,yPct:81.3,rPct:4,rabbitScale:3,rabbitYOffset:-5},{id:1,xPct:50.1,yPct:79.2,rPct:4.8,rabbitScale:2.6,rabbitYOffset:-11},{id:2,xPct:39.1,yPct:70.2,rPct:4,rabbitScale:2.3,rabbitYOffset:-10},{id:3,xPct:56.8,yPct:68,rPct:4.4,rabbitScale:2.2,rabbitYOffset:-9},{id:4,xPct:47,yPct:60.3,rPct:4,rabbitScale:2,rabbitYOffset:-8},{id:5,xPct:72.4,yPct:62.8,rPct:3.5,rabbitScale:1.6,rabbitYOffset:-6.5},{id:6,xPct:61.3,yPct:56.1,rPct:3.2,rabbitScale:1.4,rabbitYOffset:-5.5},{id:7,xPct:80,yPct:55.9,rPct:3.1,rabbitScale:1.4,rabbitYOffset:-6.5},{id:8,xPct:70.9,yPct:51.6,rPct:2.4,rabbitScale:1.2,rabbitYOffset:-5.5},{id:9,xPct:86.7,yPct:50.9,rPct:2.3,rabbitScale:1.1,rabbitYOffset:-5.5},{id:10,xPct:78,yPct:49.5,rPct:2,rabbitScale:1.1,rabbitYOffset:-5},{id:11,xPct:76.3,yPct:41.6,rPct:4,rabbitScale:1,rabbitYOffset:-1.5}],R=1e4,G=2e4,ke=1e4,U=15e4,M=12,V={xPct:21.4,yPct:81.3};function Pe(I){const b=[...I];for(let m=b.length-1;m>0;m--){const C=Math.floor(Math.random()*(m+1));[b[m],b[C]]=[b[C],b[m]]}return b}const Fe=(I,b,m,C)=>{let j=4;if(!C){const o=m.filter(c=>c.round>=0&&c.round<=3&&c.correct).length===4;if(b>=4&&o&&(j=5),b>=8){const c=m.filter(g=>g.round>=4&&g.round<=7&&g.correct).length===4;o&&c?j=6:o&&!c?j=5:j=4}}const _=I.filter(o=>o.id!==0&&o.id!==11).map(o=>o.id);let a=[],p=0;for(;p<500;){const o=Pe(_).slice(0,j).sort((S,y)=>S-y);let c=0;for(let S=0;S<o.length-1;S++)o[S+1]===o[S]+1&&c++;let g=!1;if(j===6?c<=2&&(g=!0):j===5?c<=1&&(g=!0):c===0&&(g=!0),g){a=o;break}p++}return a.length===0&&(a=Pe(_).slice(0,j).sort((o,c)=>o-c)),a};function Ue({userStudentId:I,playerName:b,onComplete:m,onExit:C}){const[j,_]=n.useState(!0),[a,p]=n.useState("ready"),[o,c]=n.useState(!0),[g,S]=n.useState(0),[y,L]=n.useState(0),[X,N]=n.useState(0),[$e,J]=n.useState([]),[Re,B]=n.useState([]),[Ce,T]=n.useState(null),[re,Z]=n.useState(!1),[ne,K]=n.useState([]),[w,ie]=n.useState(ve),[oe,ae]=n.useState([]),[se,D]=n.useState({x:V.xPct,y:V.yPct}),[Te,F]=n.useState(1),[ze,Q]=n.useState(!0),[Ee,v]=n.useState(0),[qe,$]=n.useState(U),[de,le]=n.useState(null),O=n.useRef([]),z=n.useRef([]),Y=n.useRef([]),u=n.useRef([]),We=n.useRef(null),k=n.useRef(()=>{}),ce=n.useRef(()=>{}),pe=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),[x,Ie]=n.useState(!1),[P,ee]=n.useState(null),[A,xe]=n.useState(null),te=n.useRef(null),q=n.useCallback((t,r)=>{ie(i=>i.map(s=>s.id===t?{...s,...r}:s))},[]),Oe=n.useCallback(()=>{const t=w.map(r=>`  { id: ${r.id}, xPct: ${r.xPct}, yPct: ${r.yPct}, rPct: ${r.rPct}, rabbitScale: ${r.rabbitScale??1}, rabbitYOffset: ${r.rabbitYOffset??-5} }`).join(`,
========
import{r as n,j as e}from"./index-c2dQya25.js";import"./firebase-CdU9twii.js";const Se="/game-scenes/2nd/game-scene-2nd.png",we="/game-scenes/2nd/rabbit-nobg-old.png",je="/game-scenes/2nd/rabbit-nobg.png",De="/assets/game/rabbit-path-tutorial.mp4",ve=[{id:0,xPct:21.4,yPct:81.3,rPct:4,rabbitScale:3,rabbitYOffset:-5},{id:1,xPct:50.1,yPct:79.2,rPct:4.8,rabbitScale:2.6,rabbitYOffset:-11},{id:2,xPct:39.1,yPct:70.2,rPct:4,rabbitScale:2.3,rabbitYOffset:-10},{id:3,xPct:56.8,yPct:68,rPct:4.4,rabbitScale:2.2,rabbitYOffset:-9},{id:4,xPct:47,yPct:60.3,rPct:4,rabbitScale:2,rabbitYOffset:-8},{id:5,xPct:72.4,yPct:62.8,rPct:3.5,rabbitScale:1.6,rabbitYOffset:-6.5},{id:6,xPct:61.3,yPct:56.1,rPct:3.2,rabbitScale:1.4,rabbitYOffset:-5.5},{id:7,xPct:80,yPct:55.9,rPct:3.1,rabbitScale:1.4,rabbitYOffset:-6.5},{id:8,xPct:70.9,yPct:51.6,rPct:2.4,rabbitScale:1.2,rabbitYOffset:-5.5},{id:9,xPct:86.7,yPct:50.9,rPct:2.3,rabbitScale:1.1,rabbitYOffset:-5.5},{id:10,xPct:78,yPct:49.5,rPct:2,rabbitScale:1.1,rabbitYOffset:-5},{id:11,xPct:76.3,yPct:41.6,rPct:4,rabbitScale:1,rabbitYOffset:-1.5}],R=1e4,G=2e4,ke=1e4,U=15e4,M=12,V={xPct:21.4,yPct:81.3};function Pe(I){const b=[...I];for(let m=b.length-1;m>0;m--){const C=Math.floor(Math.random()*(m+1));[b[m],b[C]]=[b[C],b[m]]}return b}const Fe=(I,b,m,C)=>{let j=4;if(!C){const o=m.filter(c=>c.round>=0&&c.round<=3&&c.correct).length===4;if(b>=4&&o&&(j=5),b>=8){const c=m.filter(g=>g.round>=4&&g.round<=7&&g.correct).length===4;o&&c?j=6:o&&!c?j=5:j=4}}const _=I.filter(o=>o.id!==0&&o.id!==11).map(o=>o.id);let a=[],p=0;for(;p<500;){const o=Pe(_).slice(0,j).sort((S,y)=>S-y);let c=0;for(let S=0;S<o.length-1;S++)o[S+1]===o[S]+1&&c++;let g=!1;if(j===6?c<=2&&(g=!0):j===5?c<=1&&(g=!0):c===0&&(g=!0),g){a=o;break}p++}return a.length===0&&(a=Pe(_).slice(0,j).sort((o,c)=>o-c)),a};function Ue({userStudentId:I,playerName:b,onComplete:m,onExit:C}){const[j,_]=n.useState(!0),[a,p]=n.useState("ready"),[o,c]=n.useState(!0),[g,S]=n.useState(0),[y,L]=n.useState(0),[X,N]=n.useState(0),[$e,J]=n.useState([]),[Re,B]=n.useState([]),[Ce,T]=n.useState(null),[re,Z]=n.useState(!1),[ne,K]=n.useState([]),[w,ie]=n.useState(ve),[oe,ae]=n.useState([]),[se,D]=n.useState({x:V.xPct,y:V.yPct}),[Te,F]=n.useState(1),[ze,Q]=n.useState(!0),[Ee,v]=n.useState(0),[qe,$]=n.useState(U),[de,le]=n.useState(null),O=n.useRef([]),z=n.useRef([]),Y=n.useRef([]),u=n.useRef([]),We=n.useRef(null),k=n.useRef(()=>{}),ce=n.useRef(()=>{}),pe=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),[x,Ie]=n.useState(!1),[P,ee]=n.useState(null),[A,xe]=n.useState(null),te=n.useRef(null),q=n.useCallback((t,r)=>{ie(i=>i.map(s=>s.id===t?{...s,...r}:s))},[]),Oe=n.useCallback(()=>{const t=w.map(r=>`  { id: ${r.id}, xPct: ${r.xPct}, yPct: ${r.yPct}, rPct: ${r.rPct}, rabbitScale: ${r.rabbitScale??1}, rabbitYOffset: ${r.rabbitYOffset??-5} }`).join(`,
>>>>>>>> 7b9e180756db7233f11af862d5069f30d2b161b6:career-nine-assessment/dist/assets/RabbitPathGame-C5YWUD-M.js
`);navigator.clipboard.writeText(`const STONES: StonePos[] = [
${t}
];`)},[w]),[Me,be]=n.useState(!1);n.useEffect(()=>{const t=[Se,we,je];let r=0;t.forEach(i=>{const s=new Image;s.onload=()=>{r++,r===t.length&&be(!0)},s.onerror=()=>{r++,r===t.length&&be(!0)},s.src=i})},[]);const f=n.useCallback(()=>{u.current.forEach(t=>window.clearTimeout(t)),u.current=[]},[]),l=n.useCallback(t=>{if(t===0||t===null){const i=w.find(s=>s.id===0);i?(D({x:i.xPct,y:i.yPct+(i.rabbitYOffset??-5)}),F(i.rabbitScale??1.2)):(D({x:V.xPct,y:V.yPct}),F(1.2)),Q(!0);return}if(t===11){const i=w.find(s=>s.id===11);i&&(D({x:i.xPct,y:i.yPct+(i.rabbitYOffset??-5)}),F(i.rabbitScale??0),Q(!0));return}const r=w.find(i=>i.id===t);r&&(D({x:r.xPct,y:r.yPct+(r.rabbitYOffset??-5)}),F(r.rabbitScale??1),Q(!0))},[w]),ue=n.useCallback(()=>{if(o){const r=g+1;r>=2?(p("trial_done"),v(0)):(S(r),setTimeout(()=>k.current(r),100));return}const t=y+1;t>=M?(p("done"),v(0)):(L(t),setTimeout(()=>k.current(t),100))},[o,g,y]),E=n.useCallback((t,r)=>{const i=[...r].reverse(),s=t.length===i.length&&t.every((d,h)=>d===i[h]);if(s&&(o||N(d=>d+1),l(0)),!o){const d={round:y,sequence:r,input:t,correct:s};K(h=>[...h,d]),Y.current=[...Y.current,d]}f(),o&&!s?u.current.push(window.setTimeout(()=>{ce.current()},500)):u.current.push(window.setTimeout(()=>ue(),500))},[o,y,g,l,f,ue]),fe=n.useCallback(()=>{p(t=>t!=="input"?t:(E(z.current,O.current),"feedback"))},[E]),H=n.useCallback(()=>{p(t=>{if(t!=="input")return t;const r=z.current,i=O.current;if(r.length===0)return f(),"paused";const s=[...i].reverse();return r.length>0&&r.every((h,W)=>h===s[W])&&!re?(Z(!0),v(ke),u.current.push(window.setTimeout(()=>fe(),ke)),"input"):(E(r,i),"feedback")})},[re,f,E,fe]),ge=n.useCallback(()=>{f(),le(null),B([]),z.current=[],Z(!1),l(0);const t=oe;J(t),O.current=t,p("show"),v(R);const r=Math.floor(R/(t.length+2));u.current.push(window.setTimeout(()=>l(0),100)),t.forEach((i,s)=>{u.current.push(window.setTimeout(()=>{T(i),l(i)},(s+1)*r))}),u.current.push(window.setTimeout(()=>{T(null),l(11)},(t.length+1)*r)),u.current.push(window.setTimeout(()=>{p("input"),v(G),T(null),l(11)},R)),u.current.push(window.setTimeout(()=>{H()},R+G))},[f,l,oe,H]),he=n.useCallback(t=>{f(),le(null),B([]),z.current=[],Z(!1),l(0);const r=Fe(w,t,Y.current,o);J(r),O.current=r,o&&ae(r),p("show"),v(R);const i=Math.floor(R/(r.length+2));u.current.push(window.setTimeout(()=>l(0),100)),r.forEach((s,d)=>{u.current.push(window.setTimeout(()=>{T(s),l(s)},(d+1)*i))}),u.current.push(window.setTimeout(()=>{T(null),l(11)},(r.length+1)*i)),u.current.push(window.setTimeout(()=>{p("input"),v(G),T(null),l(11)},R)),u.current.push(window.setTimeout(()=>{H()},R+G)),o?S(t):L(t)},[f,l,w,o,H]);n.useEffect(()=>{k.current=he},[he]),n.useEffect(()=>{ce.current=ge},[ge]);const Ye=n.useCallback(t=>{if(x||a!=="input"||t===0||t===11)return;l(t);const r=[...z.current,t];z.current=r,B(r);const i=r.length-1,s=O.current,d=[...s].reverse();t!==d[i]?E(r,s):r.length===d.length&&setTimeout(()=>{E(r,s)},500)},[a,x,l,E]),Ae=n.useCallback(()=>{p("ready"),setTimeout(()=>k.current(y),50)},[y]),ye=n.useCallback(()=>{_(!1)},[]),me=n.useCallback(()=>{a==="ready"?(o||$(U),k.current(0)):(f(),c(!0),p("ready"),L(0),S(0),N(0),J([]),O.current=[],B([]),z.current=[],T(null),l(0),v(0),$(U),K([]),Y.current=[],ae([]))},[a,o,f,l]);n.useEffect(()=>{x&&f()},[x,f]),n.useEffect(()=>{if(x||a!=="show"&&a!=="input")return;const t=window.setInterval(()=>v(r=>Math.max(0,r-100)),100);return()=>window.clearInterval(t)},[a,x]),n.useEffect(()=>{if(x||a==="ready"||a==="done"||a==="trial_done"||o)return;const t=window.setInterval(()=>{$(r=>r<=100?(p("done"),0):r-100)},100);return()=>window.clearInterval(t)},[a,o,x]),n.useEffect(()=>{x&&P!==null&&l(P)},[x,P,w,l]),n.useEffect(()=>{if(a==="done"){const t={userStudentId:I,playerName:b,score:X,totalRounds:M,roundsPlayed:y+1,history:ne,timestamp:new Date().toISOString(),gameType:"rabbit-path"};console.log("Rabbit Path game completed:",t),m(t)}},[a,X,y,ne,I,b,m]),n.useEffect(()=>()=>f(),[f]),n.useEffect(()=>{if(A===null||!te.current)return;const t=i=>{const s=te.current.getBoundingClientRect(),d=Math.max(0,Math.min(100,(i.clientX-s.left)/s.width*100)),h=Math.max(0,Math.min(100,(i.clientY-s.top)/s.height*100));q(A,{xPct:Math.round(d*10)/10,yPct:Math.round(h*10)/10})},r=()=>xe(null);return window.addEventListener("mousemove",t),window.addEventListener("mouseup",r),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",r)}},[A,q]);const _e=n.useMemo(()=>a==="ready"?"Ready":a==="show"?"Watch carefully":a==="input"?"Trace backwards!":a==="feedback"?de==="correct"?"Correct!":"Oops!":a==="done"?"Finished":"",[a,de]),Le=Math.ceil(Ee/1e3),Be=(y+1)/M*100;return Me?j?e.jsx("div",{style:{minHeight:"100vh",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1e3a5f 0%, #0f1f33 50%, #1a2d47 100%)",padding:"16px",position:"relative",overflow:"hidden"},children:e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(30, 58, 95, 0.9), rgba(15, 31, 51, 0.95))",borderRadius:"24px",padding:"24px",boxShadow:"0 20px 50px rgba(0,0,0,0.5)",border:"2px solid rgba(59, 130, 246, 0.3)",maxWidth:"600px",width:"100%",textAlign:"center",zIndex:10},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("span",{style:{fontSize:"32px"},children:"ðŸŽ¬"}),e.jsx("h1",{style:{fontSize:"24px",fontWeight:800,color:"#93c5fd",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"How To Play"})]}),e.jsxs("p",{style:{color:"#60a5fa",fontSize:"14px",marginBottom:"20px"},children:["Watch this short tutorial before starting, ",b,"!"]}),e.jsx("div",{style:{background:"#000",borderRadius:"16px",overflow:"hidden",marginBottom:"20px",border:"3px solid rgba(59, 130, 246, 0.4)",boxShadow:"0 8px 30px rgba(0,0,0,0.4)"},children:e.jsx("video",{src:De,controls:!0,autoPlay:!0,style:{width:"100%",maxHeight:"300px",display:"block"},onEnded:ye,children:"Your browser does not support the video tag."})}),e.jsx("div",{style:{background:"rgba(59, 130, 246, 0.2)",borderRadius:"12px",padding:"12px 16px",marginBottom:"20px",border:"1px solid rgba(59, 130, 246, 0.3)"},children:e.jsxs("p",{style:{color:"#93c5fd",fontSize:"13px"},children:["ðŸ° Watch the rabbit hop on stones, then trace the path backwards!",e.jsx("br",{}),e.jsxs("span",{style:{color:"rgba(147, 197, 253, 0.8)"},children:["After the video: ",e.jsx("strong",{children:"2 practice rounds"})," â†’ ",e.jsxs("strong",{children:[M," main rounds"]})]})]})}),e.jsxs("button",{onClick:ye,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:700,color:"#0f1f33",background:"linear-gradient(to right, #60a5fa, #3b82f6, #60a5fa)",border:"2px solid rgba(147, 197, 253, 0.5)",borderRadius:"14px",cursor:"pointer",boxShadow:"0 8px 20px rgba(59, 130, 246, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:["I Understand, Start Practice!",e.jsx("span",{style:{fontSize:"18px"},children:"ðŸŽ¯"})]})]})}):e.jsxs("div",{style:{minHeight:"100vh",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",background:"linear-gradient(135deg, #1e3a5f 0%, #0f1f33 30%, #071520 50%, #1a2d47 75%, #0f1f33 100%)",fontFamily:"system-ui, -apple-system, sans-serif",padding:"16px"},children:[e.jsx("div",{style:{position:"absolute",inset:0,opacity:.1,backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60'%3E%3Cpath d='M30 0 L60 30 L30 60 L0 30 Z' fill='none' stroke='%233b82f6' stroke-width='1'/%3E%3C/svg%3E")`,pointerEvents:"none"}}),!o&&a!=="ready"&&e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"8px",background:"linear-gradient(to right, #1e3a5f, #2d4a6f, #1e3a5f)",zIndex:30},children:e.jsx("div",{style:{height:"100%",width:`${Be}%`,background:"linear-gradient(to right, #3b82f6, #60a5fa, #3b82f6)",transition:"width 0.3s ease-out",boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})}),e.jsxs("div",{style:{position:"absolute",top:"20px",left:"16px",zIndex:20,background:"rgba(30, 58, 95, 0.9)",padding:"10px 16px",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.4)",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"ðŸ°"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"10px",color:"rgba(147, 197, 253, 0.7)",textTransform:"uppercase",letterSpacing:"1px"},children:"Explorer"}),e.jsx("div",{style:{color:"#93c5fd",fontWeight:700,fontSize:"14px"},children:b})]})]}),e.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:20,background:o?"linear-gradient(to bottom, rgba(234, 179, 8, 0.95), rgba(202, 138, 4, 0.95))":"linear-gradient(to bottom, rgba(30, 58, 95, 0.95), rgba(15, 31, 51, 0.95))",padding:"10px 24px",borderRadius:"14px",border:o?"2px solid rgba(253, 224, 71, 0.5)":"2px solid rgba(59, 130, 246, 0.5)",boxShadow:"0 4px 20px rgba(0,0,0,0.4)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{color:o?"#fde047":"#60a5fa",fontWeight:700,fontSize:"14px",textTransform:"uppercase",letterSpacing:"1px"},children:o?"Trial":"Round"}),e.jsx("span",{style:{color:o?"#fef08a":"#93c5fd",fontWeight:900,fontSize:"22px"},children:o?g+1:y+1}),e.jsx("span",{style:{color:o?"#ca8a04":"#3b82f6",fontWeight:700,fontSize:"18px"},children:"/"}),e.jsx("span",{style:{color:o?"rgba(253, 224, 71, 0.7)":"rgba(147, 197, 253, 0.7)",fontWeight:600,fontSize:"18px"},children:o?2:M})]})}),e.jsxs("div",{style:{position:"absolute",top:"20px",right:"16px",zIndex:50,display:"flex",gap:"10px",pointerEvents:"auto"},children:[e.jsx("button",{onClick:me,style:{background:"linear-gradient(to bottom right, #2563eb, #1d4ed8)",color:"white",padding:"10px 16px",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.4)",cursor:"pointer",fontSize:"14px",fontWeight:600,boxShadow:"0 4px 15px rgba(0,0,0,0.3)"},children:a==="ready"?"ðŸš€ Start":"ðŸ”„ Restart"}),e.jsx("button",{onClick:C,style:{background:"linear-gradient(to bottom right, #991b1b, #7f1d1d)",color:"white",padding:"10px",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.4)",cursor:"pointer",fontSize:"18px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)"},title:"Exit",children:"âœ•"})]}),(a==="show"||a==="input")&&e.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:20,background:a==="show"?"linear-gradient(to right, rgba(234, 179, 8, 0.95), rgba(202, 138, 4, 0.95))":"linear-gradient(to right, rgba(22, 163, 74, 0.95), rgba(21, 128, 61, 0.95))",padding:"12px 32px",borderRadius:"16px",border:a==="show"?"2px solid rgba(253, 224, 71, 0.6)":"2px solid rgba(74, 222, 128, 0.6)",boxShadow:"0 8px 30px rgba(0,0,0,0.4)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:a==="show"?"ðŸ‘€":"ðŸ‘†"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"14px",fontWeight:500,marginBottom:"2px"},children:_e}),e.jsxs("p",{style:{color:"#fff",fontSize:"24px",fontWeight:900},children:[Le,"s"]})]})]})}),e.jsx("div",{ref:We,style:{position:"relative",zIndex:10,width:"100%",maxWidth:"900px",userSelect:"none"},children:e.jsx("div",{style:{position:"relative",background:"linear-gradient(135deg, #1e3a5f 0%, #0f1f33 50%, #1a2d47 100%)",padding:"12px",borderRadius:"20px",boxShadow:"0 15px 50px rgba(0,0,0,0.5), inset 0 2px 4px rgba(255,255,255,0.1)",border:"4px solid #3b82f6"},children:e.jsx("div",{style:{background:"linear-gradient(135deg, #0f1f33, #071520)",padding:"6px",borderRadius:"14px"},children:e.jsxs("div",{ref:te,style:{position:"relative",width:"100%",aspectRatio:"16/9",borderRadius:"10px",overflow:x?"visible":"hidden",boxShadow:"inset 0 4px 20px rgba(0,0,0,0.5)"},children:[e.jsx("img",{src:Se,alt:"Jungle river scene",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",pointerEvents:"none"},draggable:!1}),e.jsx("div",{style:{position:"absolute",zIndex:10,width:"14%",transition:"all 0.3s cubic-bezier(0.34,1.56,0.64,1)",pointerEvents:"none",left:`${se.x}%`,top:`${se.y}%`,transform:`translate(-50%, -50%) scale(${Te})`,opacity:ze?1:0},children:e.jsx("img",{src:a==="input"?je:we,alt:"Rabbit",style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 8px 20px rgba(0,0,0,0.6))"},draggable:!1})}),w.map(t=>{const r=Ce===t.id&&a==="show",i=a==="input"&&t.id!==0&&t.id!==11,s=Re.includes(t.id),d=x&&pe,h=d&&P===t.id;return e.jsxs("div",{style:{position:"absolute",left:`${t.xPct}%`,top:`${t.yPct}%`,width:`${t.rPct*2}%`,height:`${t.rPct*2}%`,transform:"translate(-50%, -50%)"},children:[e.jsx("button",{onClick:()=>{d?(ee(t.id),l(t.id)):i&&Ye(t.id)},onMouseDown:W=>{d&&(W.preventDefault(),ee(t.id),xe(t.id))},style:{width:"100%",height:"100%",borderRadius:"50%",border:h?"3px solid #f59e0b":"none",transition:A===t.id?"none":"transform 0.15s, box-shadow 0.15s",cursor:d?A===t.id?"grabbing":"grab":i?"pointer":"default",boxShadow:h?"0 0 0 4px rgba(245, 158, 11, 0.6), 0 0 15px rgba(245, 158, 11, 0.4)":r?"0 0 0 4px rgba(255,255,255,0.4), 0 0 12px rgba(255,255,255,0.6)":s&&a!=="show"?"0 0 0 4px rgba(255,255,255,0.3)":d?"0 0 0 2px rgba(245, 158, 11, 0.3)":"none",background:h?"rgba(245, 158, 11, 0.3)":r?"rgba(255,255,255,0.25)":d?"rgba(245, 158, 11, 0.1)":"transparent"},onMouseEnter:W=>{i&&!d&&(W.target.style.transform="scale(1.1)")},onMouseLeave:W=>{W.target.style.transform="scale(1)"},"aria-label":`Stone ${t.id}`}),d&&e.jsxs("div",{style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",background:h?"#f59e0b":"rgba(0,0,0,0.85)",color:h?"#000":"#fff",fontSize:"10px",fontWeight:700,padding:"1px 6px",borderRadius:"4px",pointerEvents:"none",whiteSpace:"nowrap"},children:[t.id,t.id===0?" Start":t.id===11?" End":""]})]},t.id)}),a==="ready"&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:e.jsxs("div",{style:{padding:"24px 32px",borderRadius:"24px",background:"rgba(30, 58, 95, 0.95)",border:"2px solid rgba(59, 130, 246, 0.4)",textAlign:"center",maxWidth:"400px"},children:[e.jsx("span",{style:{fontSize:"48px"},children:"ðŸ°"}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#93c5fd",marginTop:"12px"},children:"Rabbit's Path"}),e.jsx("p",{style:{color:"rgba(147, 197, 253, 0.8)",fontSize:"14px",marginTop:"8px"},children:"Watch the rabbit jump on stones, then trace the path backwards!"}),e.jsx("button",{onClick:me,style:{marginTop:"20px",padding:"12px 32px",fontSize:"18px",fontWeight:700,color:"#0f1f33",background:"linear-gradient(to right, #60a5fa, #3b82f6)",border:"2px solid rgba(147, 197, 253, 0.5)",borderRadius:"14px",cursor:"pointer",boxShadow:"0 8px 20px rgba(59, 130, 246, 0.3)"},children:o?"Start Trial ðŸŽ¯":"Start Game ðŸš€"})]})}),a==="done"&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)"},children:e.jsxs("div",{style:{padding:"32px",borderRadius:"24px",background:"linear-gradient(135deg, rgba(30, 58, 95, 0.95), rgba(15, 31, 51, 0.95))",border:"2px solid rgba(59, 130, 246, 0.4)",textAlign:"center",maxWidth:"400px"},children:[e.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto",background:"linear-gradient(135deg, #3b82f6, #2563eb)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(59, 130, 246, 0.3)"},children:e.jsx("span",{style:{fontSize:"40px"},children:"ðŸ†"})}),e.jsx("h2",{style:{fontSize:"28px",fontWeight:800,color:"#93c5fd",marginTop:"16px"},children:"Game Complete!"}),e.jsxs("p",{style:{color:"rgba(147, 197, 253, 0.8)",fontSize:"16px",marginTop:"8px"},children:["Well done, ",b,"!"]}),e.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"rgba(59, 130, 246, 0.2)",borderRadius:"12px",border:"1px solid rgba(59, 130, 246, 0.3)"},children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"#60a5fa"},children:X}),e.jsxs("div",{style:{fontSize:"12px",color:"rgba(147, 197, 253, 0.7)",textTransform:"uppercase",letterSpacing:"1px"},children:["Correct out of ",M]})]}),e.jsx("button",{onClick:C,style:{marginTop:"20px",padding:"12px 32px",fontSize:"16px",fontWeight:700,color:"#0f1f33",background:"linear-gradient(to right, #60a5fa, #3b82f6)",border:"2px solid rgba(147, 197, 253, 0.5)",borderRadius:"14px",cursor:"pointer",boxShadow:"0 8px 20px rgba(59, 130, 246, 0.3)"},children:"Continue ðŸŒŸ"})]})})]})})})}),a==="paused"&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)"},children:e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(30, 58, 95, 0.95), rgba(15, 31, 51, 0.95))",borderRadius:"24px",padding:"32px",maxWidth:"400px",width:"90%",textAlign:"center",border:"3px solid rgba(234, 179, 8, 0.5)"},children:[e.jsx("span",{style:{fontSize:"48px"},children:"ðŸ§"}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#fcd34d",marginTop:"12px"},children:"Please Focus!"}),e.jsx("p",{style:{color:"rgba(253, 224, 71, 0.8)",fontSize:"14px",marginTop:"8px"},children:"It seems you're distracted. Ready to try again?"}),e.jsx("button",{onClick:Ae,style:{marginTop:"24px",padding:"12px 32px",fontSize:"16px",fontWeight:700,color:"#1a2e05",background:"linear-gradient(to right, #22c55e, #16a34a)",border:"2px solid rgba(74, 222, 128, 0.5)",borderRadius:"14px",cursor:"pointer"},children:"Continue Game"})]})}),a==="trial_done"&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)"},children:e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(30, 58, 95, 0.95), rgba(15, 31, 51, 0.95))",borderRadius:"24px",padding:"32px",maxWidth:"450px",width:"90%",textAlign:"center",border:"3px solid rgba(34, 197, 94, 0.5)"},children:[e.jsx("span",{style:{fontSize:"48px"},children:"ðŸŽ‰"}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#4ade80",marginTop:"12px"},children:"Trial Complete!"}),e.jsx("p",{style:{color:"rgba(134, 239, 172, 0.8)",fontSize:"14px",marginTop:"8px"},children:"You've finished the practice rounds. Ready for the real game?"}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px",justifyContent:"center"},children:[e.jsx("button",{onClick:()=>{p("ready"),S(0),c(!0),setTimeout(()=>k.current(0),500)},style:{padding:"12px 24px",fontSize:"14px",fontWeight:700,color:"#374151",background:"linear-gradient(to right, #e5e7eb, #d1d5db)",border:"2px solid rgba(156, 163, 175, 0.5)",borderRadius:"12px",cursor:"pointer"},children:"Retry Trial"}),e.jsx("button",{onClick:()=>{c(!1),p("ready"),L(0),N(0),K([]),Y.current=[],setTimeout(()=>{$(U),k.current(0)},500)},style:{padding:"12px 24px",fontSize:"14px",fontWeight:700,color:"#1a2e05",background:"linear-gradient(to right, #22c55e, #16a34a)",border:"2px solid rgba(74, 222, 128, 0.5)",borderRadius:"12px",cursor:"pointer"},children:"Start Game ðŸš€"})]})]})}),pe&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ie(t=>!t),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:200,background:x?"#f59e0b":"rgba(30, 58, 95, 0.9)",color:x?"#000":"#f59e0b",padding:"10px 16px",borderRadius:"12px",border:"2px solid #f59e0b",cursor:"pointer",fontSize:"13px",fontWeight:700,boxShadow:"0 4px 15px rgba(0,0,0,0.4)"},children:x?"Close Editor":"Position Editor"}),x&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"320px",height:"100vh",zIndex:200,background:"rgba(15, 23, 42, 0.97)",borderRight:"2px solid rgba(245, 158, 11, 0.4)",overflowY:"auto",padding:"16px",fontFamily:"monospace",color:"#e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("h3",{style:{color:"#f59e0b",fontSize:"16px",fontWeight:800,margin:0},children:"Stone Editor"}),e.jsx("button",{onClick:Oe,style:{background:"#22c55e",color:"#000",border:"none",padding:"4px 10px",borderRadius:"6px",cursor:"pointer",fontSize:"11px",fontWeight:700},children:"Copy Config"})]}),e.jsx("p",{style:{color:"#94a3b8",fontSize:"10px",marginBottom:"12px"},children:"Click a stone to select. Drag stones on the scene to reposition. X=horizontal Y=vertical R=hitbox radius S=rabbit scale O=rabbit Y offset"}),w.map(t=>e.jsxs("div",{onClick:()=>{ee(t.id),l(t.id)},style:{padding:"8px 10px",marginBottom:"4px",borderRadius:"8px",cursor:"pointer",background:P===t.id?"rgba(245, 158, 11, 0.2)":"rgba(255,255,255,0.03)",border:P===t.id?"1px solid rgba(245, 158, 11, 0.5)":"1px solid transparent"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginBottom:P===t.id?"8px":0},children:[e.jsxs("span",{style:{color:"#f59e0b",fontWeight:700},children:["Stone ",t.id," ",t.id===0?"(Start)":t.id===11?"(End)":""]}),e.jsxs("span",{style:{color:"#94a3b8",fontSize:"10px"},children:["(",t.xPct,", ",t.yPct,") r:",t.rPct," s:",t.rabbitScale??1," o:",t.rabbitYOffset??-5]})]}),P===t.id&&e.jsx("div",{onClick:r=>r.stopPropagation(),style:{display:"flex",flexDirection:"column",gap:"6px"},children:[{label:"X",key:"xPct",min:0,max:100,step:.1,def:0},{label:"Y",key:"yPct",min:0,max:100,step:.1,def:0},{label:"R",key:"rPct",min:.5,max:10,step:.1,def:4},{label:"S",key:"rabbitScale",min:0,max:5,step:.1,def:1},{label:"O",key:"rabbitYOffset",min:-20,max:10,step:.5,def:-5}].map(r=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("label",{style:{width:"16px",fontSize:"10px",color:"#94a3b8",fontWeight:700},children:r.label}),e.jsx("input",{type:"range",min:r.min,max:r.max,step:r.step,value:t[r.key]??r.def,onChange:i=>q(t.id,{[r.key]:parseFloat(i.target.value)}),style:{flex:1,accentColor:"#f59e0b"}}),e.jsx("input",{type:"number",value:t[r.key]??r.def,step:r.step,onChange:i=>q(t.id,{[r.key]:parseFloat(i.target.value)||0}),style:{width:"55px",background:"#1e293b",color:"#e2e8f0",border:"1px solid #334155",borderRadius:"4px",padding:"2px 4px",fontSize:"11px"}})]},r.label))})]},t.id)),e.jsx("button",{onClick:()=>ie([...ve]),style:{marginTop:"12px",width:"100%",background:"#991b1b",color:"#fff",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:600},children:"Reset to Defaults"})]})]})]}):e.jsxs("div",{style:{minHeight:"100vh",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1e3a5f 0%, #0f1f33 50%, #1a2d47 100%)",color:"white",position:"relative",overflow:"hidden"},children:[e.jsxs("div",{style:{zIndex:10,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",border:"4px solid #3b82f6",borderTopColor:"#93c5fd",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"24px"}}),e.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:"#93c5fd",letterSpacing:"2px"},children:"Preparing Adventure..."}),e.jsx("p",{style:{color:"rgba(147, 197, 253, 0.6)",fontSize:"14px",marginTop:"8px"},children:"Loading river crossing"})]}),e.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}export{Ue as RabbitPathGame};
