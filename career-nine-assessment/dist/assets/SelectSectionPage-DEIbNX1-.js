import{r as h,u as g,a as p,b as u,j as e,h as f}from"./index-Buph0CQW.js";import"./firebase-CdU9twii.js";const j=()=>{const[i,m]=h.useState([]),o=g(),{assessmentData:a,loading:c}=p();u(),h.useEffect(()=>{(async()=>{const l=localStorage.getItem("assessmentId"),t=localStorage.getItem("userStudentId");if(l&&t)try{const n=await f.get(`/assessments/${l}/student/${t}`),{isActive:d,studentStatus:r}=n.data;if(!d){alert("This assessment is not active."),o("/student-login");return}if(r==="completed"){alert("You have already completed this assessment."),o("/student-login");return}}catch(n){console.error("Error checking student status:",n)}if(a&&a[0])try{const d=a[0].sections.map(r=>({sectionId:r.section.sectionId,sectionName:r.section.sectionName,sectionDescription:r.section.sectionDescription||""}));m(d||[])}catch(n){console.error("Failed to process sections:",n)}})()},[a,o]);const x=s=>{o(`/studentAssessment/sections/${s.sectionId}`)};return e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"2rem 1rem",overflowY:"auto",colorScheme:"light"},children:e.jsx("div",{className:"card shadow-lg",style:{width:"700px",maxWidth:"95%",borderRadius:"24px",border:"none",background:"#ffffff",colorScheme:"light"},children:e.jsxs("div",{className:"card-body p-5",style:{background:"#ffffff",color:"#2d3748",borderRadius:"24px"},children:[e.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h2",{className:"text-center mb-2",style:{fontSize:"2.25rem",fontWeight:"700",color:"#2d3748"},children:"Select Section"}),e.jsx("p",{className:"text-center mb-5",style:{color:"#718096",fontSize:"1.05rem"},children:"Choose a section to begin your assessment"}),c&&e.jsxs("div",{className:"text-center my-5",style:{padding:"3rem 2rem"},children:[e.jsx("div",{className:"spinner-border",role:"status",style:{width:"3rem",height:"3rem",color:"#667eea",marginBottom:"1rem"},children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{style:{color:"#718096",fontSize:"1rem",marginTop:"1rem"},children:"Loading sections..."})]}),!c&&i.length===0&&e.jsxs("div",{className:"text-center my-5",style:{padding:"3rem 2rem"},children:[e.jsx("div",{style:{width:"100px",height:"100px",background:"linear-gradient(135deg, #667eea15 0%, #764ba215 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem"},children:e.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",stroke:"#667eea",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),e.jsx("h4",{style:{color:"#4a5568",fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem"},children:"No Sections Available"}),e.jsx("p",{style:{color:"#9ca3af",fontSize:"0.95rem"},children:"There are no sections to display at this time."})]}),!c&&i.length>0&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:i.map((s,l)=>e.jsx("div",{className:"card",style:{cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"2px solid #e2e8f0",borderRadius:"16px",overflow:"hidden",background:"white"},onClick:()=>x(s),onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 24px rgba(102, 126, 234, 0.15)",t.currentTarget.style.borderColor="#667eea"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="none",t.currentTarget.style.borderColor="#e2e8f0"},children:e.jsxs("div",{className:"card-body",style:{padding:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1.5rem"},children:[e.jsx("div",{style:{width:"48px",height:"48px",minWidth:"48px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.25rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:l+1}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h6",{style:{marginBottom:s.sectionDescription?"0.5rem":"0",fontSize:"1.15rem",fontWeight:"600",color:"#2d3748"},children:s.sectionName}),s.sectionDescription&&e.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#718096",lineHeight:"1.5"},children:s.sectionDescription})]}),e.jsx("div",{style:{width:"40px",height:"40px",minWidth:"40px",background:"#f7fafc",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease"},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#667eea",strokeWidth:"2.5",children:[e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e.jsx("polyline",{points:"12 5 19 12 12 19"})]})})]})},s.sectionId))}),!c&&i.length>0&&e.jsx("div",{className:"text-center mt-4",style:{padding:"1rem",background:"#f7fafc",borderRadius:"12px",marginTop:"2rem"},children:e.jsx("p",{style:{margin:0,color:"#718096",fontSize:"0.9rem"},children:"ðŸ’¡ Click on any section to begin"})})]})})})};export{j as default};
